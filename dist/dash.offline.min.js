/*! For license information please see dash.offline.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dashjs=t():e.dashjs=t()}(self,(function(){return function(){var e={8667:function(e,t){var r={parseBuffer:function(e){return new n(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(i.prototype._boxProcessors[e]=t)},createFile:function(){return new n},createBox:function(e,t,r){var n=i.create(e);return t&&t.append(n,r),n},createFullBox:function(e,t,n){var i=r.createBox(e,t,n);return i.version=0,i.flags=0,i},Utils:{}};r.Utils.dataViewToString=function(e,t){var r=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(r).decode(e);var n=[],i=0;if("utf-8"===r)for(;i<e.byteLength;){var o=e.getUint8(i++);o<128||(o<224?(o=(31&o)<<6,o|=63&e.getUint8(i++)):o<240?(o=(15&o)<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++)):(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++))),n.push(String.fromCharCode(o))}else for(;i<e.byteLength;)n.push(String.fromCharCode(e.getUint8(i++)));return n.join("")},r.Utils.utf8ToByteArray=function(e){var t,r;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|63&n)):n<65536?(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n))}return t},r.Utils.appendBox=function(e,t,r){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==r)if(null!=r){var n,i=-1;if("number"==typeof r)i=r;else{if("string"==typeof r)n=r;else{if("object"!=typeof r||!r.type)return void e.boxes.push(t);n=r.type}for(var o=0;o<e.boxes.length;o++)if(n===e.boxes[o].type){i=o+1;break}}e.boxes.splice(i,0,t)}else e.boxes.push(t)},t.parseBuffer=r.parseBuffer,t.addBoxProcessor=r.addBoxProcessor,t.createFile=r.createFile,t.createBox=r.createBox,t.createFullBox=r.createFullBox,t.Utils=r.Utils,r.Cursor=function(e){this.offset=void 0===e?0:e};var n=function(e){this._cursor=new r.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};n.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},n.prototype.fetchAll=function(e,t){var r=[];return n._sweep.call(this,e,r,t),r},n.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=i.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},n._sweep=function(e,t,r){for(var i in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&r)return;n._sweep.call(this.boxes[i],e,t,r)}},n.prototype.write=function(){var e,t=0;for(e=0;e<this.boxes.length;e++)t+=this.boxes[e].getLength(!1);var r=new Uint8Array(t);for(this._rawo=new DataView(r.buffer),this.bytes=r,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return r.buffer},n.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)};var i=function(){this._cursor=new r.Cursor};i.parse=function(e){var t=new i;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},i.create=function(e){var t=new i;return t.type=e,t.boxes=[],t},i.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],i.prototype._boxProcessors={},i.prototype._procField=function(e,t,r){this._parsing?this[e]=this._readField(t,r):this._writeField(t,r,this[e])},i.prototype._procFieldArray=function(e,t,r,n){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(r,n);else for(i=0;i<this[e].length;i++)this._writeField(r,n,this[e][i])},i.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},i.prototype._procEntries=function(e,t,r){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push({}),r.call(this,this[e][n]);else for(n=0;n<t;n++)r.call(this,this[e][n])},i.prototype._procSubEntries=function(e,t,r,n){var i;if(this._parsing)for(e[t]=[],i=0;i<r;i++)e[t].push({}),n.call(this,e[t][i]);else for(i=0;i<r;i++)n.call(this,e[t][i])},i.prototype._procEntryField=function(e,t,r,n){this._parsing?e[t]=this._readField(r,n):this._writeField(r,n,e[t])},i.prototype._procSubBoxes=function(e,t){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push(i.parse(this));else for(r=0;r<t;r++)this._rawo?this[e][r].write():this.size+=this[e][r].getLength()},i.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},i.prototype._readInt=function(e){var t=null,r=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(r);break;case 16:t=this._raw.getInt16(r);break;case 32:t=this._raw.getInt32(r);break;case 64:var n=this._raw.getInt32(r),i=this._raw.getInt32(r+4);t=n*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},i.prototype._readUint=function(e){var t,r,n=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:n=this._raw.getUint8(i);break;case 16:n=this._raw.getUint16(i);break;case 24:n=((t=this._raw.getUint16(i))<<8)+(r=this._raw.getUint8(i+2));break;case 32:n=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),r=this._raw.getUint32(i+4),n=t*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,n},i.prototype._readString=function(e){for(var t="",r=0;r<e;r++){var n=this._readUint(8);t+=String.fromCharCode(n)}return t},i.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},i.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},i.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(t>0){var r=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,r}return null},i.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return e>0&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?r.Utils.dataViewToString(t):t},i.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},i.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},i.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(i.parse(this))},i.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)},i.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},i.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},i.prototype._writeInt=function(e,t){if(this._rawo){var r=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(r,t);break;case 16:this._rawo.setInt16(r,t);break;case 32:this._rawo.setInt32(r,t);break;case 64:var n=Math.floor(t/Math.pow(2,32)),i=t-n*Math.pow(2,32);this._rawo.setUint32(r,n),this._rawo.setUint32(r+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeUint=function(e,t){if(this._rawo){var r,n,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:r=(16776960&t)>>8,n=255&t,this._rawo.setUint16(i,r),this._rawo.setUint8(i+2,n);break;case 32:this._rawo.setUint32(i,t);break;case 64:n=t-(r=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,r),this._rawo.setUint32(i+4,n)}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeString=function(e,t){for(var r=0;r<e;r++)this._writeUint(8,t.charCodeAt(r))},i.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},i.prototype._writeTemplate=function(e,t){var r=Math.floor(t),n=(t-r)*Math.pow(2,e/2);this._writeUint(e/2,r),this._writeUint(e/2,n)},i.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,r=0;r<e.length;r++)this._rawo.setInt8(t+r,e[r]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},i.prototype._writeUTF8String=function(e){var t=r.Utils.utf8ToByteArray(e);if(this._rawo)for(var n=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)n.setUint8(i,t[i]);else this.size+=t.length},i.prototype._writeField=function(e,t,r){switch(e){case"uint":this._writeUint(t,r);break;case"int":this._writeInt(t,r);break;case"template":this._writeTemplate(t,r);break;case"string":-1==t?this._writeTerminatedString(r):this._writeString(t,r);break;case"data":this._writeData(r);break;case"utf8":this._writeUTF8String(r)}},i.prototype._boxProcessors.avc1=i.prototype._boxProcessors.avc2=i.prototype._boxProcessors.avc3=i.prototype._boxProcessors.avc4=i.prototype._boxProcessors.hvc1=i.prototype._boxProcessors.hev1=i.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},i.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_offset",1===this.version?"int":"uint",32)}))},i.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)}))},i.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},i.prototype._boxProcessors.free=i.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},i.prototype._boxProcessors.ftyp=i.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},i.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},i.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},i.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},i.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},i.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},i.prototype._boxProcessors.mp4a=i.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},i.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},i.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},i.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},i.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},i.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},i.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},i.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)}))},i.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},i.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,(function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)}))}))},i.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},i.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_delta","uint",32)}))},i.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,(function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)}))}))},i.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},i.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},i.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},i.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},i.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)}))},i.prototype._boxProcessors["url "]=i.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},i.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},i.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},i.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},i.prototype._boxProcessors.vtte=function(){}},426:function(e){"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty;e.exports=function e(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){var a,s,u,c=t(i),l=t(o);if(c&&l){if((s=i.length)!=o.length)return!1;for(a=s;0!=a--;)if(!e(i[a],o[a]))return!1;return!0}if(c!=l)return!1;var f=i instanceof Date,d=o instanceof Date;if(f!=d)return!1;if(f&&d)return i.getTime()==o.getTime();var p=i instanceof RegExp,h=o instanceof RegExp;if(p!=h)return!1;if(p&&h)return i.toString()==o.toString();var m=r(i);if((s=m.length)!==r(o).length)return!1;for(a=s;0!=a--;)if(!n.call(o,m[a]))return!1;for(a=s;0!=a--;)if(!e(i[u=m[a]],o[u]))return!1;return!0}return i!=i&&o!=o}},5834:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(613),i=["apos","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","quot","amp","lt","gt","OElig","oelig","Scaron","scaron","Yuml","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","permil","lsaquo","rsaquo","euro","fnof","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","bull","hellip","prime","Prime","oline","frasl","weierp","image","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams"],o=[39,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,34,38,60,62,338,339,352,353,376,710,732,8194,8195,8201,8204,8205,8206,8207,8211,8212,8216,8217,8218,8220,8221,8222,8224,8225,8240,8249,8250,8364,402,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,977,978,982,8226,8230,8242,8243,8254,8260,8472,8465,8476,8482,8501,8592,8593,8594,8595,8596,8629,8656,8657,8658,8659,8660,8704,8706,8707,8709,8711,8712,8713,8715,8719,8721,8722,8727,8730,8733,8734,8736,8743,8744,8745,8746,8747,8756,8764,8773,8776,8800,8801,8804,8805,8834,8835,8836,8838,8839,8853,8855,8869,8901,8968,8969,8970,8971,9001,9002,9674,9824,9827,9829,9830],a={},s={};!function(){for(var e=0,t=i.length;e<t;){var r=i[e],n=o[e];a[r]=String.fromCharCode(n),s[n]=r,e++}}();var u=function(){function e(){}return e.prototype.decode=function(e){return e&&e.length?e.replace(/&(#?[\w\d]+);?/g,(function(e,t){var r;if("#"===t.charAt(0)){var i="x"===t.charAt(1).toLowerCase()?parseInt(t.substr(2),16):parseInt(t.substr(1));(!isNaN(i)||i>=-32768)&&(r=i<=65535?String.fromCharCode(i):n.fromCodePoint(i))}else r=a[t];return r||e})):""},e.decode=function(t){return(new e).decode(t)},e.prototype.encode=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",n=0;n<t;){var i=s[e.charCodeAt(n)];r+=i?"&"+i+";":e.charAt(n),n++}return r},e.encode=function(t){return(new e).encode(t)},e.prototype.encodeNonUTF=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",i=0;i<t;){var o=e.charCodeAt(i),a=s[o];a?r+="&"+a+";":o<32||o>126?o>=n.highSurrogateFrom&&o<=n.highSurrogateTo?(r+="&#"+n.getCodePoint(e,i)+";",i++):r+="&#"+o+";":r+=e.charAt(i),i++}return r},e.encodeNonUTF=function(t){return(new e).encodeNonUTF(t)},e.prototype.encodeNonASCII=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",i=0;i<t;){var o=e.charCodeAt(i);o<=255?r+=e[i++]:(o>=n.highSurrogateFrom&&o<=n.highSurrogateTo?(r+="&#"+n.getCodePoint(e,i)+";",i++):r+="&#"+o+";",i++)}return r},e.encodeNonASCII=function(t){return(new e).encodeNonASCII(t)},e}();t.Html4Entities=u},1983:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(613),i=[["Aacute",[193]],["aacute",[225]],["Abreve",[258]],["abreve",[259]],["ac",[8766]],["acd",[8767]],["acE",[8766,819]],["Acirc",[194]],["acirc",[226]],["acute",[180]],["Acy",[1040]],["acy",[1072]],["AElig",[198]],["aelig",[230]],["af",[8289]],["Afr",[120068]],["afr",[120094]],["Agrave",[192]],["agrave",[224]],["alefsym",[8501]],["aleph",[8501]],["Alpha",[913]],["alpha",[945]],["Amacr",[256]],["amacr",[257]],["amalg",[10815]],["amp",[38]],["AMP",[38]],["andand",[10837]],["And",[10835]],["and",[8743]],["andd",[10844]],["andslope",[10840]],["andv",[10842]],["ang",[8736]],["ange",[10660]],["angle",[8736]],["angmsdaa",[10664]],["angmsdab",[10665]],["angmsdac",[10666]],["angmsdad",[10667]],["angmsdae",[10668]],["angmsdaf",[10669]],["angmsdag",[10670]],["angmsdah",[10671]],["angmsd",[8737]],["angrt",[8735]],["angrtvb",[8894]],["angrtvbd",[10653]],["angsph",[8738]],["angst",[197]],["angzarr",[9084]],["Aogon",[260]],["aogon",[261]],["Aopf",[120120]],["aopf",[120146]],["apacir",[10863]],["ap",[8776]],["apE",[10864]],["ape",[8778]],["apid",[8779]],["apos",[39]],["ApplyFunction",[8289]],["approx",[8776]],["approxeq",[8778]],["Aring",[197]],["aring",[229]],["Ascr",[119964]],["ascr",[119990]],["Assign",[8788]],["ast",[42]],["asymp",[8776]],["asympeq",[8781]],["Atilde",[195]],["atilde",[227]],["Auml",[196]],["auml",[228]],["awconint",[8755]],["awint",[10769]],["backcong",[8780]],["backepsilon",[1014]],["backprime",[8245]],["backsim",[8765]],["backsimeq",[8909]],["Backslash",[8726]],["Barv",[10983]],["barvee",[8893]],["barwed",[8965]],["Barwed",[8966]],["barwedge",[8965]],["bbrk",[9141]],["bbrktbrk",[9142]],["bcong",[8780]],["Bcy",[1041]],["bcy",[1073]],["bdquo",[8222]],["becaus",[8757]],["because",[8757]],["Because",[8757]],["bemptyv",[10672]],["bepsi",[1014]],["bernou",[8492]],["Bernoullis",[8492]],["Beta",[914]],["beta",[946]],["beth",[8502]],["between",[8812]],["Bfr",[120069]],["bfr",[120095]],["bigcap",[8898]],["bigcirc",[9711]],["bigcup",[8899]],["bigodot",[10752]],["bigoplus",[10753]],["bigotimes",[10754]],["bigsqcup",[10758]],["bigstar",[9733]],["bigtriangledown",[9661]],["bigtriangleup",[9651]],["biguplus",[10756]],["bigvee",[8897]],["bigwedge",[8896]],["bkarow",[10509]],["blacklozenge",[10731]],["blacksquare",[9642]],["blacktriangle",[9652]],["blacktriangledown",[9662]],["blacktriangleleft",[9666]],["blacktriangleright",[9656]],["blank",[9251]],["blk12",[9618]],["blk14",[9617]],["blk34",[9619]],["block",[9608]],["bne",[61,8421]],["bnequiv",[8801,8421]],["bNot",[10989]],["bnot",[8976]],["Bopf",[120121]],["bopf",[120147]],["bot",[8869]],["bottom",[8869]],["bowtie",[8904]],["boxbox",[10697]],["boxdl",[9488]],["boxdL",[9557]],["boxDl",[9558]],["boxDL",[9559]],["boxdr",[9484]],["boxdR",[9554]],["boxDr",[9555]],["boxDR",[9556]],["boxh",[9472]],["boxH",[9552]],["boxhd",[9516]],["boxHd",[9572]],["boxhD",[9573]],["boxHD",[9574]],["boxhu",[9524]],["boxHu",[9575]],["boxhU",[9576]],["boxHU",[9577]],["boxminus",[8863]],["boxplus",[8862]],["boxtimes",[8864]],["boxul",[9496]],["boxuL",[9563]],["boxUl",[9564]],["boxUL",[9565]],["boxur",[9492]],["boxuR",[9560]],["boxUr",[9561]],["boxUR",[9562]],["boxv",[9474]],["boxV",[9553]],["boxvh",[9532]],["boxvH",[9578]],["boxVh",[9579]],["boxVH",[9580]],["boxvl",[9508]],["boxvL",[9569]],["boxVl",[9570]],["boxVL",[9571]],["boxvr",[9500]],["boxvR",[9566]],["boxVr",[9567]],["boxVR",[9568]],["bprime",[8245]],["breve",[728]],["Breve",[728]],["brvbar",[166]],["bscr",[119991]],["Bscr",[8492]],["bsemi",[8271]],["bsim",[8765]],["bsime",[8909]],["bsolb",[10693]],["bsol",[92]],["bsolhsub",[10184]],["bull",[8226]],["bullet",[8226]],["bump",[8782]],["bumpE",[10926]],["bumpe",[8783]],["Bumpeq",[8782]],["bumpeq",[8783]],["Cacute",[262]],["cacute",[263]],["capand",[10820]],["capbrcup",[10825]],["capcap",[10827]],["cap",[8745]],["Cap",[8914]],["capcup",[10823]],["capdot",[10816]],["CapitalDifferentialD",[8517]],["caps",[8745,65024]],["caret",[8257]],["caron",[711]],["Cayleys",[8493]],["ccaps",[10829]],["Ccaron",[268]],["ccaron",[269]],["Ccedil",[199]],["ccedil",[231]],["Ccirc",[264]],["ccirc",[265]],["Cconint",[8752]],["ccups",[10828]],["ccupssm",[10832]],["Cdot",[266]],["cdot",[267]],["cedil",[184]],["Cedilla",[184]],["cemptyv",[10674]],["cent",[162]],["centerdot",[183]],["CenterDot",[183]],["cfr",[120096]],["Cfr",[8493]],["CHcy",[1063]],["chcy",[1095]],["check",[10003]],["checkmark",[10003]],["Chi",[935]],["chi",[967]],["circ",[710]],["circeq",[8791]],["circlearrowleft",[8634]],["circlearrowright",[8635]],["circledast",[8859]],["circledcirc",[8858]],["circleddash",[8861]],["CircleDot",[8857]],["circledR",[174]],["circledS",[9416]],["CircleMinus",[8854]],["CirclePlus",[8853]],["CircleTimes",[8855]],["cir",[9675]],["cirE",[10691]],["cire",[8791]],["cirfnint",[10768]],["cirmid",[10991]],["cirscir",[10690]],["ClockwiseContourIntegral",[8754]],["clubs",[9827]],["clubsuit",[9827]],["colon",[58]],["Colon",[8759]],["Colone",[10868]],["colone",[8788]],["coloneq",[8788]],["comma",[44]],["commat",[64]],["comp",[8705]],["compfn",[8728]],["complement",[8705]],["complexes",[8450]],["cong",[8773]],["congdot",[10861]],["Congruent",[8801]],["conint",[8750]],["Conint",[8751]],["ContourIntegral",[8750]],["copf",[120148]],["Copf",[8450]],["coprod",[8720]],["Coproduct",[8720]],["copy",[169]],["COPY",[169]],["copysr",[8471]],["CounterClockwiseContourIntegral",[8755]],["crarr",[8629]],["cross",[10007]],["Cross",[10799]],["Cscr",[119966]],["cscr",[119992]],["csub",[10959]],["csube",[10961]],["csup",[10960]],["csupe",[10962]],["ctdot",[8943]],["cudarrl",[10552]],["cudarrr",[10549]],["cuepr",[8926]],["cuesc",[8927]],["cularr",[8630]],["cularrp",[10557]],["cupbrcap",[10824]],["cupcap",[10822]],["CupCap",[8781]],["cup",[8746]],["Cup",[8915]],["cupcup",[10826]],["cupdot",[8845]],["cupor",[10821]],["cups",[8746,65024]],["curarr",[8631]],["curarrm",[10556]],["curlyeqprec",[8926]],["curlyeqsucc",[8927]],["curlyvee",[8910]],["curlywedge",[8911]],["curren",[164]],["curvearrowleft",[8630]],["curvearrowright",[8631]],["cuvee",[8910]],["cuwed",[8911]],["cwconint",[8754]],["cwint",[8753]],["cylcty",[9005]],["dagger",[8224]],["Dagger",[8225]],["daleth",[8504]],["darr",[8595]],["Darr",[8609]],["dArr",[8659]],["dash",[8208]],["Dashv",[10980]],["dashv",[8867]],["dbkarow",[10511]],["dblac",[733]],["Dcaron",[270]],["dcaron",[271]],["Dcy",[1044]],["dcy",[1076]],["ddagger",[8225]],["ddarr",[8650]],["DD",[8517]],["dd",[8518]],["DDotrahd",[10513]],["ddotseq",[10871]],["deg",[176]],["Del",[8711]],["Delta",[916]],["delta",[948]],["demptyv",[10673]],["dfisht",[10623]],["Dfr",[120071]],["dfr",[120097]],["dHar",[10597]],["dharl",[8643]],["dharr",[8642]],["DiacriticalAcute",[180]],["DiacriticalDot",[729]],["DiacriticalDoubleAcute",[733]],["DiacriticalGrave",[96]],["DiacriticalTilde",[732]],["diam",[8900]],["diamond",[8900]],["Diamond",[8900]],["diamondsuit",[9830]],["diams",[9830]],["die",[168]],["DifferentialD",[8518]],["digamma",[989]],["disin",[8946]],["div",[247]],["divide",[247]],["divideontimes",[8903]],["divonx",[8903]],["DJcy",[1026]],["djcy",[1106]],["dlcorn",[8990]],["dlcrop",[8973]],["dollar",[36]],["Dopf",[120123]],["dopf",[120149]],["Dot",[168]],["dot",[729]],["DotDot",[8412]],["doteq",[8784]],["doteqdot",[8785]],["DotEqual",[8784]],["dotminus",[8760]],["dotplus",[8724]],["dotsquare",[8865]],["doublebarwedge",[8966]],["DoubleContourIntegral",[8751]],["DoubleDot",[168]],["DoubleDownArrow",[8659]],["DoubleLeftArrow",[8656]],["DoubleLeftRightArrow",[8660]],["DoubleLeftTee",[10980]],["DoubleLongLeftArrow",[10232]],["DoubleLongLeftRightArrow",[10234]],["DoubleLongRightArrow",[10233]],["DoubleRightArrow",[8658]],["DoubleRightTee",[8872]],["DoubleUpArrow",[8657]],["DoubleUpDownArrow",[8661]],["DoubleVerticalBar",[8741]],["DownArrowBar",[10515]],["downarrow",[8595]],["DownArrow",[8595]],["Downarrow",[8659]],["DownArrowUpArrow",[8693]],["DownBreve",[785]],["downdownarrows",[8650]],["downharpoonleft",[8643]],["downharpoonright",[8642]],["DownLeftRightVector",[10576]],["DownLeftTeeVector",[10590]],["DownLeftVectorBar",[10582]],["DownLeftVector",[8637]],["DownRightTeeVector",[10591]],["DownRightVectorBar",[10583]],["DownRightVector",[8641]],["DownTeeArrow",[8615]],["DownTee",[8868]],["drbkarow",[10512]],["drcorn",[8991]],["drcrop",[8972]],["Dscr",[119967]],["dscr",[119993]],["DScy",[1029]],["dscy",[1109]],["dsol",[10742]],["Dstrok",[272]],["dstrok",[273]],["dtdot",[8945]],["dtri",[9663]],["dtrif",[9662]],["duarr",[8693]],["duhar",[10607]],["dwangle",[10662]],["DZcy",[1039]],["dzcy",[1119]],["dzigrarr",[10239]],["Eacute",[201]],["eacute",[233]],["easter",[10862]],["Ecaron",[282]],["ecaron",[283]],["Ecirc",[202]],["ecirc",[234]],["ecir",[8790]],["ecolon",[8789]],["Ecy",[1069]],["ecy",[1101]],["eDDot",[10871]],["Edot",[278]],["edot",[279]],["eDot",[8785]],["ee",[8519]],["efDot",[8786]],["Efr",[120072]],["efr",[120098]],["eg",[10906]],["Egrave",[200]],["egrave",[232]],["egs",[10902]],["egsdot",[10904]],["el",[10905]],["Element",[8712]],["elinters",[9191]],["ell",[8467]],["els",[10901]],["elsdot",[10903]],["Emacr",[274]],["emacr",[275]],["empty",[8709]],["emptyset",[8709]],["EmptySmallSquare",[9723]],["emptyv",[8709]],["EmptyVerySmallSquare",[9643]],["emsp13",[8196]],["emsp14",[8197]],["emsp",[8195]],["ENG",[330]],["eng",[331]],["ensp",[8194]],["Eogon",[280]],["eogon",[281]],["Eopf",[120124]],["eopf",[120150]],["epar",[8917]],["eparsl",[10723]],["eplus",[10865]],["epsi",[949]],["Epsilon",[917]],["epsilon",[949]],["epsiv",[1013]],["eqcirc",[8790]],["eqcolon",[8789]],["eqsim",[8770]],["eqslantgtr",[10902]],["eqslantless",[10901]],["Equal",[10869]],["equals",[61]],["EqualTilde",[8770]],["equest",[8799]],["Equilibrium",[8652]],["equiv",[8801]],["equivDD",[10872]],["eqvparsl",[10725]],["erarr",[10609]],["erDot",[8787]],["escr",[8495]],["Escr",[8496]],["esdot",[8784]],["Esim",[10867]],["esim",[8770]],["Eta",[919]],["eta",[951]],["ETH",[208]],["eth",[240]],["Euml",[203]],["euml",[235]],["euro",[8364]],["excl",[33]],["exist",[8707]],["Exists",[8707]],["expectation",[8496]],["exponentiale",[8519]],["ExponentialE",[8519]],["fallingdotseq",[8786]],["Fcy",[1060]],["fcy",[1092]],["female",[9792]],["ffilig",[64259]],["fflig",[64256]],["ffllig",[64260]],["Ffr",[120073]],["ffr",[120099]],["filig",[64257]],["FilledSmallSquare",[9724]],["FilledVerySmallSquare",[9642]],["fjlig",[102,106]],["flat",[9837]],["fllig",[64258]],["fltns",[9649]],["fnof",[402]],["Fopf",[120125]],["fopf",[120151]],["forall",[8704]],["ForAll",[8704]],["fork",[8916]],["forkv",[10969]],["Fouriertrf",[8497]],["fpartint",[10765]],["frac12",[189]],["frac13",[8531]],["frac14",[188]],["frac15",[8533]],["frac16",[8537]],["frac18",[8539]],["frac23",[8532]],["frac25",[8534]],["frac34",[190]],["frac35",[8535]],["frac38",[8540]],["frac45",[8536]],["frac56",[8538]],["frac58",[8541]],["frac78",[8542]],["frasl",[8260]],["frown",[8994]],["fscr",[119995]],["Fscr",[8497]],["gacute",[501]],["Gamma",[915]],["gamma",[947]],["Gammad",[988]],["gammad",[989]],["gap",[10886]],["Gbreve",[286]],["gbreve",[287]],["Gcedil",[290]],["Gcirc",[284]],["gcirc",[285]],["Gcy",[1043]],["gcy",[1075]],["Gdot",[288]],["gdot",[289]],["ge",[8805]],["gE",[8807]],["gEl",[10892]],["gel",[8923]],["geq",[8805]],["geqq",[8807]],["geqslant",[10878]],["gescc",[10921]],["ges",[10878]],["gesdot",[10880]],["gesdoto",[10882]],["gesdotol",[10884]],["gesl",[8923,65024]],["gesles",[10900]],["Gfr",[120074]],["gfr",[120100]],["gg",[8811]],["Gg",[8921]],["ggg",[8921]],["gimel",[8503]],["GJcy",[1027]],["gjcy",[1107]],["gla",[10917]],["gl",[8823]],["glE",[10898]],["glj",[10916]],["gnap",[10890]],["gnapprox",[10890]],["gne",[10888]],["gnE",[8809]],["gneq",[10888]],["gneqq",[8809]],["gnsim",[8935]],["Gopf",[120126]],["gopf",[120152]],["grave",[96]],["GreaterEqual",[8805]],["GreaterEqualLess",[8923]],["GreaterFullEqual",[8807]],["GreaterGreater",[10914]],["GreaterLess",[8823]],["GreaterSlantEqual",[10878]],["GreaterTilde",[8819]],["Gscr",[119970]],["gscr",[8458]],["gsim",[8819]],["gsime",[10894]],["gsiml",[10896]],["gtcc",[10919]],["gtcir",[10874]],["gt",[62]],["GT",[62]],["Gt",[8811]],["gtdot",[8919]],["gtlPar",[10645]],["gtquest",[10876]],["gtrapprox",[10886]],["gtrarr",[10616]],["gtrdot",[8919]],["gtreqless",[8923]],["gtreqqless",[10892]],["gtrless",[8823]],["gtrsim",[8819]],["gvertneqq",[8809,65024]],["gvnE",[8809,65024]],["Hacek",[711]],["hairsp",[8202]],["half",[189]],["hamilt",[8459]],["HARDcy",[1066]],["hardcy",[1098]],["harrcir",[10568]],["harr",[8596]],["hArr",[8660]],["harrw",[8621]],["Hat",[94]],["hbar",[8463]],["Hcirc",[292]],["hcirc",[293]],["hearts",[9829]],["heartsuit",[9829]],["hellip",[8230]],["hercon",[8889]],["hfr",[120101]],["Hfr",[8460]],["HilbertSpace",[8459]],["hksearow",[10533]],["hkswarow",[10534]],["hoarr",[8703]],["homtht",[8763]],["hookleftarrow",[8617]],["hookrightarrow",[8618]],["hopf",[120153]],["Hopf",[8461]],["horbar",[8213]],["HorizontalLine",[9472]],["hscr",[119997]],["Hscr",[8459]],["hslash",[8463]],["Hstrok",[294]],["hstrok",[295]],["HumpDownHump",[8782]],["HumpEqual",[8783]],["hybull",[8259]],["hyphen",[8208]],["Iacute",[205]],["iacute",[237]],["ic",[8291]],["Icirc",[206]],["icirc",[238]],["Icy",[1048]],["icy",[1080]],["Idot",[304]],["IEcy",[1045]],["iecy",[1077]],["iexcl",[161]],["iff",[8660]],["ifr",[120102]],["Ifr",[8465]],["Igrave",[204]],["igrave",[236]],["ii",[8520]],["iiiint",[10764]],["iiint",[8749]],["iinfin",[10716]],["iiota",[8489]],["IJlig",[306]],["ijlig",[307]],["Imacr",[298]],["imacr",[299]],["image",[8465]],["ImaginaryI",[8520]],["imagline",[8464]],["imagpart",[8465]],["imath",[305]],["Im",[8465]],["imof",[8887]],["imped",[437]],["Implies",[8658]],["incare",[8453]],["in",[8712]],["infin",[8734]],["infintie",[10717]],["inodot",[305]],["intcal",[8890]],["int",[8747]],["Int",[8748]],["integers",[8484]],["Integral",[8747]],["intercal",[8890]],["Intersection",[8898]],["intlarhk",[10775]],["intprod",[10812]],["InvisibleComma",[8291]],["InvisibleTimes",[8290]],["IOcy",[1025]],["iocy",[1105]],["Iogon",[302]],["iogon",[303]],["Iopf",[120128]],["iopf",[120154]],["Iota",[921]],["iota",[953]],["iprod",[10812]],["iquest",[191]],["iscr",[119998]],["Iscr",[8464]],["isin",[8712]],["isindot",[8949]],["isinE",[8953]],["isins",[8948]],["isinsv",[8947]],["isinv",[8712]],["it",[8290]],["Itilde",[296]],["itilde",[297]],["Iukcy",[1030]],["iukcy",[1110]],["Iuml",[207]],["iuml",[239]],["Jcirc",[308]],["jcirc",[309]],["Jcy",[1049]],["jcy",[1081]],["Jfr",[120077]],["jfr",[120103]],["jmath",[567]],["Jopf",[120129]],["jopf",[120155]],["Jscr",[119973]],["jscr",[119999]],["Jsercy",[1032]],["jsercy",[1112]],["Jukcy",[1028]],["jukcy",[1108]],["Kappa",[922]],["kappa",[954]],["kappav",[1008]],["Kcedil",[310]],["kcedil",[311]],["Kcy",[1050]],["kcy",[1082]],["Kfr",[120078]],["kfr",[120104]],["kgreen",[312]],["KHcy",[1061]],["khcy",[1093]],["KJcy",[1036]],["kjcy",[1116]],["Kopf",[120130]],["kopf",[120156]],["Kscr",[119974]],["kscr",[12e4]],["lAarr",[8666]],["Lacute",[313]],["lacute",[314]],["laemptyv",[10676]],["lagran",[8466]],["Lambda",[923]],["lambda",[955]],["lang",[10216]],["Lang",[10218]],["langd",[10641]],["langle",[10216]],["lap",[10885]],["Laplacetrf",[8466]],["laquo",[171]],["larrb",[8676]],["larrbfs",[10527]],["larr",[8592]],["Larr",[8606]],["lArr",[8656]],["larrfs",[10525]],["larrhk",[8617]],["larrlp",[8619]],["larrpl",[10553]],["larrsim",[10611]],["larrtl",[8610]],["latail",[10521]],["lAtail",[10523]],["lat",[10923]],["late",[10925]],["lates",[10925,65024]],["lbarr",[10508]],["lBarr",[10510]],["lbbrk",[10098]],["lbrace",[123]],["lbrack",[91]],["lbrke",[10635]],["lbrksld",[10639]],["lbrkslu",[10637]],["Lcaron",[317]],["lcaron",[318]],["Lcedil",[315]],["lcedil",[316]],["lceil",[8968]],["lcub",[123]],["Lcy",[1051]],["lcy",[1083]],["ldca",[10550]],["ldquo",[8220]],["ldquor",[8222]],["ldrdhar",[10599]],["ldrushar",[10571]],["ldsh",[8626]],["le",[8804]],["lE",[8806]],["LeftAngleBracket",[10216]],["LeftArrowBar",[8676]],["leftarrow",[8592]],["LeftArrow",[8592]],["Leftarrow",[8656]],["LeftArrowRightArrow",[8646]],["leftarrowtail",[8610]],["LeftCeiling",[8968]],["LeftDoubleBracket",[10214]],["LeftDownTeeVector",[10593]],["LeftDownVectorBar",[10585]],["LeftDownVector",[8643]],["LeftFloor",[8970]],["leftharpoondown",[8637]],["leftharpoonup",[8636]],["leftleftarrows",[8647]],["leftrightarrow",[8596]],["LeftRightArrow",[8596]],["Leftrightarrow",[8660]],["leftrightarrows",[8646]],["leftrightharpoons",[8651]],["leftrightsquigarrow",[8621]],["LeftRightVector",[10574]],["LeftTeeArrow",[8612]],["LeftTee",[8867]],["LeftTeeVector",[10586]],["leftthreetimes",[8907]],["LeftTriangleBar",[10703]],["LeftTriangle",[8882]],["LeftTriangleEqual",[8884]],["LeftUpDownVector",[10577]],["LeftUpTeeVector",[10592]],["LeftUpVectorBar",[10584]],["LeftUpVector",[8639]],["LeftVectorBar",[10578]],["LeftVector",[8636]],["lEg",[10891]],["leg",[8922]],["leq",[8804]],["leqq",[8806]],["leqslant",[10877]],["lescc",[10920]],["les",[10877]],["lesdot",[10879]],["lesdoto",[10881]],["lesdotor",[10883]],["lesg",[8922,65024]],["lesges",[10899]],["lessapprox",[10885]],["lessdot",[8918]],["lesseqgtr",[8922]],["lesseqqgtr",[10891]],["LessEqualGreater",[8922]],["LessFullEqual",[8806]],["LessGreater",[8822]],["lessgtr",[8822]],["LessLess",[10913]],["lesssim",[8818]],["LessSlantEqual",[10877]],["LessTilde",[8818]],["lfisht",[10620]],["lfloor",[8970]],["Lfr",[120079]],["lfr",[120105]],["lg",[8822]],["lgE",[10897]],["lHar",[10594]],["lhard",[8637]],["lharu",[8636]],["lharul",[10602]],["lhblk",[9604]],["LJcy",[1033]],["ljcy",[1113]],["llarr",[8647]],["ll",[8810]],["Ll",[8920]],["llcorner",[8990]],["Lleftarrow",[8666]],["llhard",[10603]],["lltri",[9722]],["Lmidot",[319]],["lmidot",[320]],["lmoustache",[9136]],["lmoust",[9136]],["lnap",[10889]],["lnapprox",[10889]],["lne",[10887]],["lnE",[8808]],["lneq",[10887]],["lneqq",[8808]],["lnsim",[8934]],["loang",[10220]],["loarr",[8701]],["lobrk",[10214]],["longleftarrow",[10229]],["LongLeftArrow",[10229]],["Longleftarrow",[10232]],["longleftrightarrow",[10231]],["LongLeftRightArrow",[10231]],["Longleftrightarrow",[10234]],["longmapsto",[10236]],["longrightarrow",[10230]],["LongRightArrow",[10230]],["Longrightarrow",[10233]],["looparrowleft",[8619]],["looparrowright",[8620]],["lopar",[10629]],["Lopf",[120131]],["lopf",[120157]],["loplus",[10797]],["lotimes",[10804]],["lowast",[8727]],["lowbar",[95]],["LowerLeftArrow",[8601]],["LowerRightArrow",[8600]],["loz",[9674]],["lozenge",[9674]],["lozf",[10731]],["lpar",[40]],["lparlt",[10643]],["lrarr",[8646]],["lrcorner",[8991]],["lrhar",[8651]],["lrhard",[10605]],["lrm",[8206]],["lrtri",[8895]],["lsaquo",[8249]],["lscr",[120001]],["Lscr",[8466]],["lsh",[8624]],["Lsh",[8624]],["lsim",[8818]],["lsime",[10893]],["lsimg",[10895]],["lsqb",[91]],["lsquo",[8216]],["lsquor",[8218]],["Lstrok",[321]],["lstrok",[322]],["ltcc",[10918]],["ltcir",[10873]],["lt",[60]],["LT",[60]],["Lt",[8810]],["ltdot",[8918]],["lthree",[8907]],["ltimes",[8905]],["ltlarr",[10614]],["ltquest",[10875]],["ltri",[9667]],["ltrie",[8884]],["ltrif",[9666]],["ltrPar",[10646]],["lurdshar",[10570]],["luruhar",[10598]],["lvertneqq",[8808,65024]],["lvnE",[8808,65024]],["macr",[175]],["male",[9794]],["malt",[10016]],["maltese",[10016]],["Map",[10501]],["map",[8614]],["mapsto",[8614]],["mapstodown",[8615]],["mapstoleft",[8612]],["mapstoup",[8613]],["marker",[9646]],["mcomma",[10793]],["Mcy",[1052]],["mcy",[1084]],["mdash",[8212]],["mDDot",[8762]],["measuredangle",[8737]],["MediumSpace",[8287]],["Mellintrf",[8499]],["Mfr",[120080]],["mfr",[120106]],["mho",[8487]],["micro",[181]],["midast",[42]],["midcir",[10992]],["mid",[8739]],["middot",[183]],["minusb",[8863]],["minus",[8722]],["minusd",[8760]],["minusdu",[10794]],["MinusPlus",[8723]],["mlcp",[10971]],["mldr",[8230]],["mnplus",[8723]],["models",[8871]],["Mopf",[120132]],["mopf",[120158]],["mp",[8723]],["mscr",[120002]],["Mscr",[8499]],["mstpos",[8766]],["Mu",[924]],["mu",[956]],["multimap",[8888]],["mumap",[8888]],["nabla",[8711]],["Nacute",[323]],["nacute",[324]],["nang",[8736,8402]],["nap",[8777]],["napE",[10864,824]],["napid",[8779,824]],["napos",[329]],["napprox",[8777]],["natural",[9838]],["naturals",[8469]],["natur",[9838]],["nbsp",[160]],["nbump",[8782,824]],["nbumpe",[8783,824]],["ncap",[10819]],["Ncaron",[327]],["ncaron",[328]],["Ncedil",[325]],["ncedil",[326]],["ncong",[8775]],["ncongdot",[10861,824]],["ncup",[10818]],["Ncy",[1053]],["ncy",[1085]],["ndash",[8211]],["nearhk",[10532]],["nearr",[8599]],["neArr",[8663]],["nearrow",[8599]],["ne",[8800]],["nedot",[8784,824]],["NegativeMediumSpace",[8203]],["NegativeThickSpace",[8203]],["NegativeThinSpace",[8203]],["NegativeVeryThinSpace",[8203]],["nequiv",[8802]],["nesear",[10536]],["nesim",[8770,824]],["NestedGreaterGreater",[8811]],["NestedLessLess",[8810]],["nexist",[8708]],["nexists",[8708]],["Nfr",[120081]],["nfr",[120107]],["ngE",[8807,824]],["nge",[8817]],["ngeq",[8817]],["ngeqq",[8807,824]],["ngeqslant",[10878,824]],["nges",[10878,824]],["nGg",[8921,824]],["ngsim",[8821]],["nGt",[8811,8402]],["ngt",[8815]],["ngtr",[8815]],["nGtv",[8811,824]],["nharr",[8622]],["nhArr",[8654]],["nhpar",[10994]],["ni",[8715]],["nis",[8956]],["nisd",[8954]],["niv",[8715]],["NJcy",[1034]],["njcy",[1114]],["nlarr",[8602]],["nlArr",[8653]],["nldr",[8229]],["nlE",[8806,824]],["nle",[8816]],["nleftarrow",[8602]],["nLeftarrow",[8653]],["nleftrightarrow",[8622]],["nLeftrightarrow",[8654]],["nleq",[8816]],["nleqq",[8806,824]],["nleqslant",[10877,824]],["nles",[10877,824]],["nless",[8814]],["nLl",[8920,824]],["nlsim",[8820]],["nLt",[8810,8402]],["nlt",[8814]],["nltri",[8938]],["nltrie",[8940]],["nLtv",[8810,824]],["nmid",[8740]],["NoBreak",[8288]],["NonBreakingSpace",[160]],["nopf",[120159]],["Nopf",[8469]],["Not",[10988]],["not",[172]],["NotCongruent",[8802]],["NotCupCap",[8813]],["NotDoubleVerticalBar",[8742]],["NotElement",[8713]],["NotEqual",[8800]],["NotEqualTilde",[8770,824]],["NotExists",[8708]],["NotGreater",[8815]],["NotGreaterEqual",[8817]],["NotGreaterFullEqual",[8807,824]],["NotGreaterGreater",[8811,824]],["NotGreaterLess",[8825]],["NotGreaterSlantEqual",[10878,824]],["NotGreaterTilde",[8821]],["NotHumpDownHump",[8782,824]],["NotHumpEqual",[8783,824]],["notin",[8713]],["notindot",[8949,824]],["notinE",[8953,824]],["notinva",[8713]],["notinvb",[8951]],["notinvc",[8950]],["NotLeftTriangleBar",[10703,824]],["NotLeftTriangle",[8938]],["NotLeftTriangleEqual",[8940]],["NotLess",[8814]],["NotLessEqual",[8816]],["NotLessGreater",[8824]],["NotLessLess",[8810,824]],["NotLessSlantEqual",[10877,824]],["NotLessTilde",[8820]],["NotNestedGreaterGreater",[10914,824]],["NotNestedLessLess",[10913,824]],["notni",[8716]],["notniva",[8716]],["notnivb",[8958]],["notnivc",[8957]],["NotPrecedes",[8832]],["NotPrecedesEqual",[10927,824]],["NotPrecedesSlantEqual",[8928]],["NotReverseElement",[8716]],["NotRightTriangleBar",[10704,824]],["NotRightTriangle",[8939]],["NotRightTriangleEqual",[8941]],["NotSquareSubset",[8847,824]],["NotSquareSubsetEqual",[8930]],["NotSquareSuperset",[8848,824]],["NotSquareSupersetEqual",[8931]],["NotSubset",[8834,8402]],["NotSubsetEqual",[8840]],["NotSucceeds",[8833]],["NotSucceedsEqual",[10928,824]],["NotSucceedsSlantEqual",[8929]],["NotSucceedsTilde",[8831,824]],["NotSuperset",[8835,8402]],["NotSupersetEqual",[8841]],["NotTilde",[8769]],["NotTildeEqual",[8772]],["NotTildeFullEqual",[8775]],["NotTildeTilde",[8777]],["NotVerticalBar",[8740]],["nparallel",[8742]],["npar",[8742]],["nparsl",[11005,8421]],["npart",[8706,824]],["npolint",[10772]],["npr",[8832]],["nprcue",[8928]],["nprec",[8832]],["npreceq",[10927,824]],["npre",[10927,824]],["nrarrc",[10547,824]],["nrarr",[8603]],["nrArr",[8655]],["nrarrw",[8605,824]],["nrightarrow",[8603]],["nRightarrow",[8655]],["nrtri",[8939]],["nrtrie",[8941]],["nsc",[8833]],["nsccue",[8929]],["nsce",[10928,824]],["Nscr",[119977]],["nscr",[120003]],["nshortmid",[8740]],["nshortparallel",[8742]],["nsim",[8769]],["nsime",[8772]],["nsimeq",[8772]],["nsmid",[8740]],["nspar",[8742]],["nsqsube",[8930]],["nsqsupe",[8931]],["nsub",[8836]],["nsubE",[10949,824]],["nsube",[8840]],["nsubset",[8834,8402]],["nsubseteq",[8840]],["nsubseteqq",[10949,824]],["nsucc",[8833]],["nsucceq",[10928,824]],["nsup",[8837]],["nsupE",[10950,824]],["nsupe",[8841]],["nsupset",[8835,8402]],["nsupseteq",[8841]],["nsupseteqq",[10950,824]],["ntgl",[8825]],["Ntilde",[209]],["ntilde",[241]],["ntlg",[8824]],["ntriangleleft",[8938]],["ntrianglelefteq",[8940]],["ntriangleright",[8939]],["ntrianglerighteq",[8941]],["Nu",[925]],["nu",[957]],["num",[35]],["numero",[8470]],["numsp",[8199]],["nvap",[8781,8402]],["nvdash",[8876]],["nvDash",[8877]],["nVdash",[8878]],["nVDash",[8879]],["nvge",[8805,8402]],["nvgt",[62,8402]],["nvHarr",[10500]],["nvinfin",[10718]],["nvlArr",[10498]],["nvle",[8804,8402]],["nvlt",[60,8402]],["nvltrie",[8884,8402]],["nvrArr",[10499]],["nvrtrie",[8885,8402]],["nvsim",[8764,8402]],["nwarhk",[10531]],["nwarr",[8598]],["nwArr",[8662]],["nwarrow",[8598]],["nwnear",[10535]],["Oacute",[211]],["oacute",[243]],["oast",[8859]],["Ocirc",[212]],["ocirc",[244]],["ocir",[8858]],["Ocy",[1054]],["ocy",[1086]],["odash",[8861]],["Odblac",[336]],["odblac",[337]],["odiv",[10808]],["odot",[8857]],["odsold",[10684]],["OElig",[338]],["oelig",[339]],["ofcir",[10687]],["Ofr",[120082]],["ofr",[120108]],["ogon",[731]],["Ograve",[210]],["ograve",[242]],["ogt",[10689]],["ohbar",[10677]],["ohm",[937]],["oint",[8750]],["olarr",[8634]],["olcir",[10686]],["olcross",[10683]],["oline",[8254]],["olt",[10688]],["Omacr",[332]],["omacr",[333]],["Omega",[937]],["omega",[969]],["Omicron",[927]],["omicron",[959]],["omid",[10678]],["ominus",[8854]],["Oopf",[120134]],["oopf",[120160]],["opar",[10679]],["OpenCurlyDoubleQuote",[8220]],["OpenCurlyQuote",[8216]],["operp",[10681]],["oplus",[8853]],["orarr",[8635]],["Or",[10836]],["or",[8744]],["ord",[10845]],["order",[8500]],["orderof",[8500]],["ordf",[170]],["ordm",[186]],["origof",[8886]],["oror",[10838]],["orslope",[10839]],["orv",[10843]],["oS",[9416]],["Oscr",[119978]],["oscr",[8500]],["Oslash",[216]],["oslash",[248]],["osol",[8856]],["Otilde",[213]],["otilde",[245]],["otimesas",[10806]],["Otimes",[10807]],["otimes",[8855]],["Ouml",[214]],["ouml",[246]],["ovbar",[9021]],["OverBar",[8254]],["OverBrace",[9182]],["OverBracket",[9140]],["OverParenthesis",[9180]],["para",[182]],["parallel",[8741]],["par",[8741]],["parsim",[10995]],["parsl",[11005]],["part",[8706]],["PartialD",[8706]],["Pcy",[1055]],["pcy",[1087]],["percnt",[37]],["period",[46]],["permil",[8240]],["perp",[8869]],["pertenk",[8241]],["Pfr",[120083]],["pfr",[120109]],["Phi",[934]],["phi",[966]],["phiv",[981]],["phmmat",[8499]],["phone",[9742]],["Pi",[928]],["pi",[960]],["pitchfork",[8916]],["piv",[982]],["planck",[8463]],["planckh",[8462]],["plankv",[8463]],["plusacir",[10787]],["plusb",[8862]],["pluscir",[10786]],["plus",[43]],["plusdo",[8724]],["plusdu",[10789]],["pluse",[10866]],["PlusMinus",[177]],["plusmn",[177]],["plussim",[10790]],["plustwo",[10791]],["pm",[177]],["Poincareplane",[8460]],["pointint",[10773]],["popf",[120161]],["Popf",[8473]],["pound",[163]],["prap",[10935]],["Pr",[10939]],["pr",[8826]],["prcue",[8828]],["precapprox",[10935]],["prec",[8826]],["preccurlyeq",[8828]],["Precedes",[8826]],["PrecedesEqual",[10927]],["PrecedesSlantEqual",[8828]],["PrecedesTilde",[8830]],["preceq",[10927]],["precnapprox",[10937]],["precneqq",[10933]],["precnsim",[8936]],["pre",[10927]],["prE",[10931]],["precsim",[8830]],["prime",[8242]],["Prime",[8243]],["primes",[8473]],["prnap",[10937]],["prnE",[10933]],["prnsim",[8936]],["prod",[8719]],["Product",[8719]],["profalar",[9006]],["profline",[8978]],["profsurf",[8979]],["prop",[8733]],["Proportional",[8733]],["Proportion",[8759]],["propto",[8733]],["prsim",[8830]],["prurel",[8880]],["Pscr",[119979]],["pscr",[120005]],["Psi",[936]],["psi",[968]],["puncsp",[8200]],["Qfr",[120084]],["qfr",[120110]],["qint",[10764]],["qopf",[120162]],["Qopf",[8474]],["qprime",[8279]],["Qscr",[119980]],["qscr",[120006]],["quaternions",[8461]],["quatint",[10774]],["quest",[63]],["questeq",[8799]],["quot",[34]],["QUOT",[34]],["rAarr",[8667]],["race",[8765,817]],["Racute",[340]],["racute",[341]],["radic",[8730]],["raemptyv",[10675]],["rang",[10217]],["Rang",[10219]],["rangd",[10642]],["range",[10661]],["rangle",[10217]],["raquo",[187]],["rarrap",[10613]],["rarrb",[8677]],["rarrbfs",[10528]],["rarrc",[10547]],["rarr",[8594]],["Rarr",[8608]],["rArr",[8658]],["rarrfs",[10526]],["rarrhk",[8618]],["rarrlp",[8620]],["rarrpl",[10565]],["rarrsim",[10612]],["Rarrtl",[10518]],["rarrtl",[8611]],["rarrw",[8605]],["ratail",[10522]],["rAtail",[10524]],["ratio",[8758]],["rationals",[8474]],["rbarr",[10509]],["rBarr",[10511]],["RBarr",[10512]],["rbbrk",[10099]],["rbrace",[125]],["rbrack",[93]],["rbrke",[10636]],["rbrksld",[10638]],["rbrkslu",[10640]],["Rcaron",[344]],["rcaron",[345]],["Rcedil",[342]],["rcedil",[343]],["rceil",[8969]],["rcub",[125]],["Rcy",[1056]],["rcy",[1088]],["rdca",[10551]],["rdldhar",[10601]],["rdquo",[8221]],["rdquor",[8221]],["CloseCurlyDoubleQuote",[8221]],["rdsh",[8627]],["real",[8476]],["realine",[8475]],["realpart",[8476]],["reals",[8477]],["Re",[8476]],["rect",[9645]],["reg",[174]],["REG",[174]],["ReverseElement",[8715]],["ReverseEquilibrium",[8651]],["ReverseUpEquilibrium",[10607]],["rfisht",[10621]],["rfloor",[8971]],["rfr",[120111]],["Rfr",[8476]],["rHar",[10596]],["rhard",[8641]],["rharu",[8640]],["rharul",[10604]],["Rho",[929]],["rho",[961]],["rhov",[1009]],["RightAngleBracket",[10217]],["RightArrowBar",[8677]],["rightarrow",[8594]],["RightArrow",[8594]],["Rightarrow",[8658]],["RightArrowLeftArrow",[8644]],["rightarrowtail",[8611]],["RightCeiling",[8969]],["RightDoubleBracket",[10215]],["RightDownTeeVector",[10589]],["RightDownVectorBar",[10581]],["RightDownVector",[8642]],["RightFloor",[8971]],["rightharpoondown",[8641]],["rightharpoonup",[8640]],["rightleftarrows",[8644]],["rightleftharpoons",[8652]],["rightrightarrows",[8649]],["rightsquigarrow",[8605]],["RightTeeArrow",[8614]],["RightTee",[8866]],["RightTeeVector",[10587]],["rightthreetimes",[8908]],["RightTriangleBar",[10704]],["RightTriangle",[8883]],["RightTriangleEqual",[8885]],["RightUpDownVector",[10575]],["RightUpTeeVector",[10588]],["RightUpVectorBar",[10580]],["RightUpVector",[8638]],["RightVectorBar",[10579]],["RightVector",[8640]],["ring",[730]],["risingdotseq",[8787]],["rlarr",[8644]],["rlhar",[8652]],["rlm",[8207]],["rmoustache",[9137]],["rmoust",[9137]],["rnmid",[10990]],["roang",[10221]],["roarr",[8702]],["robrk",[10215]],["ropar",[10630]],["ropf",[120163]],["Ropf",[8477]],["roplus",[10798]],["rotimes",[10805]],["RoundImplies",[10608]],["rpar",[41]],["rpargt",[10644]],["rppolint",[10770]],["rrarr",[8649]],["Rrightarrow",[8667]],["rsaquo",[8250]],["rscr",[120007]],["Rscr",[8475]],["rsh",[8625]],["Rsh",[8625]],["rsqb",[93]],["rsquo",[8217]],["rsquor",[8217]],["CloseCurlyQuote",[8217]],["rthree",[8908]],["rtimes",[8906]],["rtri",[9657]],["rtrie",[8885]],["rtrif",[9656]],["rtriltri",[10702]],["RuleDelayed",[10740]],["ruluhar",[10600]],["rx",[8478]],["Sacute",[346]],["sacute",[347]],["sbquo",[8218]],["scap",[10936]],["Scaron",[352]],["scaron",[353]],["Sc",[10940]],["sc",[8827]],["sccue",[8829]],["sce",[10928]],["scE",[10932]],["Scedil",[350]],["scedil",[351]],["Scirc",[348]],["scirc",[349]],["scnap",[10938]],["scnE",[10934]],["scnsim",[8937]],["scpolint",[10771]],["scsim",[8831]],["Scy",[1057]],["scy",[1089]],["sdotb",[8865]],["sdot",[8901]],["sdote",[10854]],["searhk",[10533]],["searr",[8600]],["seArr",[8664]],["searrow",[8600]],["sect",[167]],["semi",[59]],["seswar",[10537]],["setminus",[8726]],["setmn",[8726]],["sext",[10038]],["Sfr",[120086]],["sfr",[120112]],["sfrown",[8994]],["sharp",[9839]],["SHCHcy",[1065]],["shchcy",[1097]],["SHcy",[1064]],["shcy",[1096]],["ShortDownArrow",[8595]],["ShortLeftArrow",[8592]],["shortmid",[8739]],["shortparallel",[8741]],["ShortRightArrow",[8594]],["ShortUpArrow",[8593]],["shy",[173]],["Sigma",[931]],["sigma",[963]],["sigmaf",[962]],["sigmav",[962]],["sim",[8764]],["simdot",[10858]],["sime",[8771]],["simeq",[8771]],["simg",[10910]],["simgE",[10912]],["siml",[10909]],["simlE",[10911]],["simne",[8774]],["simplus",[10788]],["simrarr",[10610]],["slarr",[8592]],["SmallCircle",[8728]],["smallsetminus",[8726]],["smashp",[10803]],["smeparsl",[10724]],["smid",[8739]],["smile",[8995]],["smt",[10922]],["smte",[10924]],["smtes",[10924,65024]],["SOFTcy",[1068]],["softcy",[1100]],["solbar",[9023]],["solb",[10692]],["sol",[47]],["Sopf",[120138]],["sopf",[120164]],["spades",[9824]],["spadesuit",[9824]],["spar",[8741]],["sqcap",[8851]],["sqcaps",[8851,65024]],["sqcup",[8852]],["sqcups",[8852,65024]],["Sqrt",[8730]],["sqsub",[8847]],["sqsube",[8849]],["sqsubset",[8847]],["sqsubseteq",[8849]],["sqsup",[8848]],["sqsupe",[8850]],["sqsupset",[8848]],["sqsupseteq",[8850]],["square",[9633]],["Square",[9633]],["SquareIntersection",[8851]],["SquareSubset",[8847]],["SquareSubsetEqual",[8849]],["SquareSuperset",[8848]],["SquareSupersetEqual",[8850]],["SquareUnion",[8852]],["squarf",[9642]],["squ",[9633]],["squf",[9642]],["srarr",[8594]],["Sscr",[119982]],["sscr",[120008]],["ssetmn",[8726]],["ssmile",[8995]],["sstarf",[8902]],["Star",[8902]],["star",[9734]],["starf",[9733]],["straightepsilon",[1013]],["straightphi",[981]],["strns",[175]],["sub",[8834]],["Sub",[8912]],["subdot",[10941]],["subE",[10949]],["sube",[8838]],["subedot",[10947]],["submult",[10945]],["subnE",[10955]],["subne",[8842]],["subplus",[10943]],["subrarr",[10617]],["subset",[8834]],["Subset",[8912]],["subseteq",[8838]],["subseteqq",[10949]],["SubsetEqual",[8838]],["subsetneq",[8842]],["subsetneqq",[10955]],["subsim",[10951]],["subsub",[10965]],["subsup",[10963]],["succapprox",[10936]],["succ",[8827]],["succcurlyeq",[8829]],["Succeeds",[8827]],["SucceedsEqual",[10928]],["SucceedsSlantEqual",[8829]],["SucceedsTilde",[8831]],["succeq",[10928]],["succnapprox",[10938]],["succneqq",[10934]],["succnsim",[8937]],["succsim",[8831]],["SuchThat",[8715]],["sum",[8721]],["Sum",[8721]],["sung",[9834]],["sup1",[185]],["sup2",[178]],["sup3",[179]],["sup",[8835]],["Sup",[8913]],["supdot",[10942]],["supdsub",[10968]],["supE",[10950]],["supe",[8839]],["supedot",[10948]],["Superset",[8835]],["SupersetEqual",[8839]],["suphsol",[10185]],["suphsub",[10967]],["suplarr",[10619]],["supmult",[10946]],["supnE",[10956]],["supne",[8843]],["supplus",[10944]],["supset",[8835]],["Supset",[8913]],["supseteq",[8839]],["supseteqq",[10950]],["supsetneq",[8843]],["supsetneqq",[10956]],["supsim",[10952]],["supsub",[10964]],["supsup",[10966]],["swarhk",[10534]],["swarr",[8601]],["swArr",[8665]],["swarrow",[8601]],["swnwar",[10538]],["szlig",[223]],["Tab",[9]],["target",[8982]],["Tau",[932]],["tau",[964]],["tbrk",[9140]],["Tcaron",[356]],["tcaron",[357]],["Tcedil",[354]],["tcedil",[355]],["Tcy",[1058]],["tcy",[1090]],["tdot",[8411]],["telrec",[8981]],["Tfr",[120087]],["tfr",[120113]],["there4",[8756]],["therefore",[8756]],["Therefore",[8756]],["Theta",[920]],["theta",[952]],["thetasym",[977]],["thetav",[977]],["thickapprox",[8776]],["thicksim",[8764]],["ThickSpace",[8287,8202]],["ThinSpace",[8201]],["thinsp",[8201]],["thkap",[8776]],["thksim",[8764]],["THORN",[222]],["thorn",[254]],["tilde",[732]],["Tilde",[8764]],["TildeEqual",[8771]],["TildeFullEqual",[8773]],["TildeTilde",[8776]],["timesbar",[10801]],["timesb",[8864]],["times",[215]],["timesd",[10800]],["tint",[8749]],["toea",[10536]],["topbot",[9014]],["topcir",[10993]],["top",[8868]],["Topf",[120139]],["topf",[120165]],["topfork",[10970]],["tosa",[10537]],["tprime",[8244]],["trade",[8482]],["TRADE",[8482]],["triangle",[9653]],["triangledown",[9663]],["triangleleft",[9667]],["trianglelefteq",[8884]],["triangleq",[8796]],["triangleright",[9657]],["trianglerighteq",[8885]],["tridot",[9708]],["trie",[8796]],["triminus",[10810]],["TripleDot",[8411]],["triplus",[10809]],["trisb",[10701]],["tritime",[10811]],["trpezium",[9186]],["Tscr",[119983]],["tscr",[120009]],["TScy",[1062]],["tscy",[1094]],["TSHcy",[1035]],["tshcy",[1115]],["Tstrok",[358]],["tstrok",[359]],["twixt",[8812]],["twoheadleftarrow",[8606]],["twoheadrightarrow",[8608]],["Uacute",[218]],["uacute",[250]],["uarr",[8593]],["Uarr",[8607]],["uArr",[8657]],["Uarrocir",[10569]],["Ubrcy",[1038]],["ubrcy",[1118]],["Ubreve",[364]],["ubreve",[365]],["Ucirc",[219]],["ucirc",[251]],["Ucy",[1059]],["ucy",[1091]],["udarr",[8645]],["Udblac",[368]],["udblac",[369]],["udhar",[10606]],["ufisht",[10622]],["Ufr",[120088]],["ufr",[120114]],["Ugrave",[217]],["ugrave",[249]],["uHar",[10595]],["uharl",[8639]],["uharr",[8638]],["uhblk",[9600]],["ulcorn",[8988]],["ulcorner",[8988]],["ulcrop",[8975]],["ultri",[9720]],["Umacr",[362]],["umacr",[363]],["uml",[168]],["UnderBar",[95]],["UnderBrace",[9183]],["UnderBracket",[9141]],["UnderParenthesis",[9181]],["Union",[8899]],["UnionPlus",[8846]],["Uogon",[370]],["uogon",[371]],["Uopf",[120140]],["uopf",[120166]],["UpArrowBar",[10514]],["uparrow",[8593]],["UpArrow",[8593]],["Uparrow",[8657]],["UpArrowDownArrow",[8645]],["updownarrow",[8597]],["UpDownArrow",[8597]],["Updownarrow",[8661]],["UpEquilibrium",[10606]],["upharpoonleft",[8639]],["upharpoonright",[8638]],["uplus",[8846]],["UpperLeftArrow",[8598]],["UpperRightArrow",[8599]],["upsi",[965]],["Upsi",[978]],["upsih",[978]],["Upsilon",[933]],["upsilon",[965]],["UpTeeArrow",[8613]],["UpTee",[8869]],["upuparrows",[8648]],["urcorn",[8989]],["urcorner",[8989]],["urcrop",[8974]],["Uring",[366]],["uring",[367]],["urtri",[9721]],["Uscr",[119984]],["uscr",[120010]],["utdot",[8944]],["Utilde",[360]],["utilde",[361]],["utri",[9653]],["utrif",[9652]],["uuarr",[8648]],["Uuml",[220]],["uuml",[252]],["uwangle",[10663]],["vangrt",[10652]],["varepsilon",[1013]],["varkappa",[1008]],["varnothing",[8709]],["varphi",[981]],["varpi",[982]],["varpropto",[8733]],["varr",[8597]],["vArr",[8661]],["varrho",[1009]],["varsigma",[962]],["varsubsetneq",[8842,65024]],["varsubsetneqq",[10955,65024]],["varsupsetneq",[8843,65024]],["varsupsetneqq",[10956,65024]],["vartheta",[977]],["vartriangleleft",[8882]],["vartriangleright",[8883]],["vBar",[10984]],["Vbar",[10987]],["vBarv",[10985]],["Vcy",[1042]],["vcy",[1074]],["vdash",[8866]],["vDash",[8872]],["Vdash",[8873]],["VDash",[8875]],["Vdashl",[10982]],["veebar",[8891]],["vee",[8744]],["Vee",[8897]],["veeeq",[8794]],["vellip",[8942]],["verbar",[124]],["Verbar",[8214]],["vert",[124]],["Vert",[8214]],["VerticalBar",[8739]],["VerticalLine",[124]],["VerticalSeparator",[10072]],["VerticalTilde",[8768]],["VeryThinSpace",[8202]],["Vfr",[120089]],["vfr",[120115]],["vltri",[8882]],["vnsub",[8834,8402]],["vnsup",[8835,8402]],["Vopf",[120141]],["vopf",[120167]],["vprop",[8733]],["vrtri",[8883]],["Vscr",[119985]],["vscr",[120011]],["vsubnE",[10955,65024]],["vsubne",[8842,65024]],["vsupnE",[10956,65024]],["vsupne",[8843,65024]],["Vvdash",[8874]],["vzigzag",[10650]],["Wcirc",[372]],["wcirc",[373]],["wedbar",[10847]],["wedge",[8743]],["Wedge",[8896]],["wedgeq",[8793]],["weierp",[8472]],["Wfr",[120090]],["wfr",[120116]],["Wopf",[120142]],["wopf",[120168]],["wp",[8472]],["wr",[8768]],["wreath",[8768]],["Wscr",[119986]],["wscr",[120012]],["xcap",[8898]],["xcirc",[9711]],["xcup",[8899]],["xdtri",[9661]],["Xfr",[120091]],["xfr",[120117]],["xharr",[10231]],["xhArr",[10234]],["Xi",[926]],["xi",[958]],["xlarr",[10229]],["xlArr",[10232]],["xmap",[10236]],["xnis",[8955]],["xodot",[10752]],["Xopf",[120143]],["xopf",[120169]],["xoplus",[10753]],["xotime",[10754]],["xrarr",[10230]],["xrArr",[10233]],["Xscr",[119987]],["xscr",[120013]],["xsqcup",[10758]],["xuplus",[10756]],["xutri",[9651]],["xvee",[8897]],["xwedge",[8896]],["Yacute",[221]],["yacute",[253]],["YAcy",[1071]],["yacy",[1103]],["Ycirc",[374]],["ycirc",[375]],["Ycy",[1067]],["ycy",[1099]],["yen",[165]],["Yfr",[120092]],["yfr",[120118]],["YIcy",[1031]],["yicy",[1111]],["Yopf",[120144]],["yopf",[120170]],["Yscr",[119988]],["yscr",[120014]],["YUcy",[1070]],["yucy",[1102]],["yuml",[255]],["Yuml",[376]],["Zacute",[377]],["zacute",[378]],["Zcaron",[381]],["zcaron",[382]],["Zcy",[1047]],["zcy",[1079]],["Zdot",[379]],["zdot",[380]],["zeetrf",[8488]],["ZeroWidthSpace",[8203]],["Zeta",[918]],["zeta",[950]],["zfr",[120119]],["Zfr",[8488]],["ZHcy",[1046]],["zhcy",[1078]],["zigrarr",[8669]],["zopf",[120171]],["Zopf",[8484]],["Zscr",[119989]],["zscr",[120015]],["zwj",[8205]],["zwnj",[8204]]],o=[["NewLine",[10]]],a={},s={};!function(e,t){for(var r=i.length;r--;){var n=i[r],a=n[0],s=n[1],u=s[0],c=s[1],l=u<32||u>126||62===u||60===u||38===u||34===u||39===u,f=void 0;l&&(f=t[u]=t[u]||{}),c?(e[a]=String.fromCharCode(u)+String.fromCharCode(c),l&&(f[c]=a)):(e[a]=String.fromCharCode(u),l&&(f[""]=a))}for(r=o.length;r--;){var d=o[r],p=(a=d[0],d[1]);u=p[0],c=p[1],e[a]=String.fromCharCode(u)+(c?String.fromCharCode(c):"")}}(a,s);var u=function(){function e(){}return e.prototype.decode=function(e){return e&&e.length?e.replace(/&(#?[\w\d]+);?/g,(function(e,t){var r;if("#"===t.charAt(0)){var i="x"===t.charAt(1)?parseInt(t.substr(2).toLowerCase(),16):parseInt(t.substr(1));(!isNaN(i)||i>=-32768)&&(r=i<=65535?String.fromCharCode(i):n.fromCodePoint(i))}else r=a[t];return r||e})):""},e.decode=function(t){return(new e).decode(t)},e.prototype.encode=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",n=0;n<t;){var i=s[e.charCodeAt(n)];if(i){var o=i[e.charCodeAt(n+1)];if(o?n++:o=i[""],o){r+="&"+o+";",n++;continue}}r+=e.charAt(n),n++}return r},e.encode=function(t){return(new e).encode(t)},e.prototype.encodeNonUTF=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",i=0;i<t;){var o=e.charCodeAt(i),a=s[o];if(a){var u=a[e.charCodeAt(i+1)];if(u?i++:u=a[""],u){r+="&"+u+";",i++;continue}}o<32||o>126?o>=n.highSurrogateFrom&&o<=n.highSurrogateTo?(r+="&#"+n.getCodePoint(e,i)+";",i++):r+="&#"+o+";":r+=e.charAt(i),i++}return r},e.encodeNonUTF=function(t){return(new e).encodeNonUTF(t)},e.prototype.encodeNonASCII=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",i=0;i<t;){var o=e.charCodeAt(i);o<=255?r+=e[i++]:o>=n.highSurrogateFrom&&o<=n.highSurrogateTo?(r+="&#"+n.getCodePoint(e,i)+";",i+=2):(r+="&#"+o+";",i++)}return r},e.encodeNonASCII=function(t){return(new e).encodeNonASCII(t)},e}();t.Html5Entities=u},6135:function(e,t,r){"use strict";var n=r(8352);t.vr=n.XmlEntities,r(5834).Html4Entities;var i=r(1983);i.Html5Entities,i.Html5Entities},613:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCodePoint=String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)},t.getCodePoint=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536},t.highSurrogateFrom=55296,t.highSurrogateTo=56319},8352:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(613),i={"&lt":"<","&gt":">","&quot":'"',"&apos":"'","&amp":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},o={60:"lt",62:"gt",34:"quot",39:"apos",38:"amp"},a={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"},s=function(){function e(){}return e.prototype.encode=function(e){return e&&e.length?e.replace(/[<>"'&]/g,(function(e){return a[e]})):""},e.encode=function(t){return(new e).encode(t)},e.prototype.decode=function(e){return e&&e.length?e.replace(/&#?[0-9a-zA-Z]+;?/g,(function(e){if("#"===e.charAt(1)){var t="x"===e.charAt(2).toLowerCase()?parseInt(e.substr(3),16):parseInt(e.substr(2));return!isNaN(t)||t>=-32768?t<=65535?String.fromCharCode(t):n.fromCodePoint(t):""}return i[e]||e})):""},e.decode=function(t){return(new e).decode(t)},e.prototype.encodeNonUTF=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",i=0;i<t;){var a=e.charCodeAt(i),s=o[a];s?(r+="&"+s+";",i++):(a<32||a>126?a>=n.highSurrogateFrom&&a<=n.highSurrogateTo?(r+="&#"+n.getCodePoint(e,i)+";",i++):r+="&#"+a+";":r+=e.charAt(i),i++)}return r},e.encodeNonUTF=function(t){return(new e).encodeNonUTF(t)},e.prototype.encodeNonASCII=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",i=0;i<t;){var o=e.charCodeAt(i);o<=255?r+=e[i++]:(o>=n.highSurrogateFrom&&o<=n.highSurrogateTo?(r+="&#"+n.getCodePoint(e,i)+";",i++):r+="&#"+o+";",i++)}return r},e.encodeNonASCII=function(t){return(new e).encodeNonASCII(t)},e}();t.XmlEntities=s},743:function(e,t,r){e.exports=function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,r,n)}return r[a].exports}for(var o=void 0,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,n){(function(e){"use strict";var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,r=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}n=!1}t.exports=function(e){1!==c.push(e)||n||r()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var n=e(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function l(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,t,r){n((function(){var n;try{n=t(r)}catch(t){return o.reject(e,t)}n===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,n)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var r=!1;function n(t){r||(r=!0,o.reject(e,t))}function i(t){r||(r=!0,o.resolve(e,t))}var a=h((function(){t(i,n)}));"error"===a.status&&n(a.value)}function h(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(i);return this.state!==u?f(r,this.state===s?e:t,this.outcome):this.queue.push(new l(r,e,t)),r},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},o.resolve=function(e,t){var r=h(d,t);if("error"===r.status)return o.reject(e,r.value);var n=r.value;if(n)p(e,n);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,u=-1,c=new this(i);++u<r;)l(e[u],u);return c;function l(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==r||n||(n=!0,o.resolve(c,a))}),(function(e){n||(n=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r,n=e.length,a=!1;if(!n)return this.resolve([]);for(var s=-1,u=new this(i);++s<n;)r=e[s],t.resolve(r).then((function(e){a||(a=!0,o.resolve(u,e))}),(function(e){a||(a=!0,o.reject(u,e))}));return u}},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",d=void 0,p={},h=Object.prototype.toString,m="readonly",y="readwrite";function g(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}function _(e){return"boolean"==typeof d?a.resolve(d):function(e){return new a((function(t){var r=e.transaction(f,y),n=o([""]);r.objectStore(f).put(n,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return d=e}))}function b(e){var t=p[e.name],r={};r.promise=new a((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then((function(){return r.promise})):t.dbReady=r.promise}function E(e){var t=p[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function v(e,t){var r=p[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function T(e,t){return new a((function(r,n){if(p[e.name]=p[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return r(e.db);b(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var a=i.open.apply(i,o);t&&(a.onupgradeneeded=function(t){var r=a.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(f)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),n(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},r(t),E(e)}}))}function S(e){return T(e,!1)}function A(e){return T(e,!0)}function I(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,i=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||r){if(r){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function w(e){return o([g(atob(e.data))],{type:e.type})}function R(e){return e&&e.__local_forage_encoded_blob}function O(e){var t=this,r=t._initReady().then((function(){var e=p[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(r,e,e),r}function N(e,t,r,n){void 0===n&&(n=1);try{var i=e.db.transaction(e.storeName,t);r(null,i)}catch(i){if(n>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),A(e)})).then((function(){return function(e){b(e);for(var t=p[e.name],r=t.forages,n=0;n<r.length;n++){var i=r[n];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,S(e).then((function(t){return e.db=t,I(e)?A(e):t})).then((function(n){e.db=t.db=n;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=n})).catch((function(t){throw v(e,t),t}))}(e).then((function(){N(e,t,r,n-1)}))})).catch(r);r(i)}}var D={_driver:"asyncStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]=e[n];var i=p[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},p[r.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=O);var o=[];function s(){return a.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==t&&o.push(c._initReady().catch(s))}var l=i.forages.slice(0);return a.all(o).then((function(){return r.db=i.db,S(r)})).then((function(e){return r.db=e,I(r,t._defaultConfig.version)?A(r):e})).then((function(e){r.db=i.db=e,t._dbInfo=r;for(var n=0;n<l.length;n++){var o=l[n];o!==t&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=new a((function(t,n){r.ready().then((function(){N(r._dbInfo,m,(function(i,o){if(i)return n(i);try{var a=o.objectStore(r._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;R(n)&&(n=w(n));var i=e(n,r.key,s++);void 0!==i?t(i):r.continue()}else t()},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},getItem:function(e,t){var r=this;e=c(e);var n=new a((function(t,n){r.ready().then((function(){N(r._dbInfo,m,(function(i,o){if(i)return n(i);try{var a=o.objectStore(r._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),R(e)&&(e=w(e)),t(e)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},setItem:function(e,t,r){var n=this;e=c(e);var i=new a((function(r,i){var o;n.ready().then((function(){return o=n._dbInfo,"[object Blob]"===h.call(t)?_(o.db).then((function(e){return e?t:(r=t,new a((function(e,t){var n=new FileReader;n.onerror=t,n.onloadend=function(t){var n=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:r.type})},n.readAsBinaryString(r)})));var r})):t})).then((function(t){N(n._dbInfo,y,(function(o,a){if(o)return i(o);try{var s=a.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),r(t)},a.onabort=a.onerror=function(){var e=u.error?u.error:u.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return s(i,r),i},removeItem:function(e,t){var r=this;e=c(e);var n=new a((function(t,n){r.ready().then((function(){N(r._dbInfo,y,(function(i,o){if(i)return n(i);try{var a=o.objectStore(r._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){n(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},clear:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){N(t._dbInfo,y,(function(n,i){if(n)return r(n);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},length:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){N(t._dbInfo,m,(function(n,i){if(n)return r(n);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){r(o.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},key:function(e,t){var r=this,n=new a((function(t,n){e<0?t(null):r.ready().then((function(){N(r._dbInfo,m,(function(i,o){if(i)return n(i);try{var a=o.objectStore(r._dbInfo.storeName),s=!1,u=a.openKeyCursor();u.onsuccess=function(){var r=u.result;r?0===e||s?t(r.key):(s=!0,r.advance(e)):t(null)},u.onerror=function(){n(u.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},keys:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){N(t._dbInfo,m,(function(n,i){if(n)return r(n);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){r(o.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},dropInstance:function(e,t){t=l.apply(this,arguments);var r,n=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName),e.name){var o=e.name===n.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):S(e).then((function(t){var r=p[e.name],n=r.forages;r.db=t;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=t;return t}));r=e.storeName?o.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;b(e);var n=p[e.name],o=n.forages;t.close();for(var s=0;s<o.length;s++){var u=o[s];u._dbInfo.db=null,u._dbInfo.version=r}var c=new a((function(t,n){var o=i.open(e.name,r);o.onerror=function(e){o.result.close(),n(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return c.then((function(e){n.db=e;for(var t=0;t<o.length;t++){var r=o[t];r._dbInfo.db=e,E(r._dbInfo)}})).catch((function(t){throw(v(e,t)||a.resolve()).catch((function(){})),t}))}})):o.then((function(t){b(e);var r=p[e.name],n=r.forages;t.close();for(var o=0;o<n.length;o++)n[o]._dbInfo.db=null;var s=new a((function(t,r){var n=i.deleteDatabase(e.name);n.onerror=function(){var e=n.result;e&&e.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}));return s.then((function(e){r.db=e;for(var t=0;t<n.length;t++)E(n[t]._dbInfo)})).catch((function(t){throw(v(e,t)||a.resolve()).catch((function(){})),t}))}))}else r=a.reject("Invalid arguments");return s(r,t),r}};var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=/^~~local_forage_type~([^~]+)~/,L="__lfsc__:",M="arbf",F="blob",x="si08",U="ui08",B="uic8",j="si16",k="si32",q="ur16",G="ui32",H="fl32",Y="fl64",V=Object.prototype.toString;function z(e){var t,r,n,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)r=P.indexOf(e[t]),n=P.indexOf(e[t+1]),i=P.indexOf(e[t+2]),o=P.indexOf(e[t+3]),l[u++]=r<<2|n>>4,l[u++]=(15&n)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function W(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=P[r[t]>>2],n+=P[(3&r[t])<<4|r[t+1]>>4],n+=P[(15&r[t+1])<<2|r[t+2]>>6],n+=P[63&r[t+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var X={serialize:function(e,t){var r="";if(e&&(r=V.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===V.call(e.buffer))){var n,i=L;e instanceof ArrayBuffer?(n=e,i+=M):(n=e.buffer,"[object Int8Array]"===r?i+=x:"[object Uint8Array]"===r?i+=U:"[object Uint8ClampedArray]"===r?i+=B:"[object Int16Array]"===r?i+=j:"[object Uint16Array]"===r?i+=q:"[object Int32Array]"===r?i+=k:"[object Uint32Array]"===r?i+=G:"[object Float32Array]"===r?i+=H:"[object Float64Array]"===r?i+=Y:t(new Error("Failed to get type for BinaryArray"))),t(i+W(n))}else if("[object Blob]"===r){var o=new FileReader;o.onload=function(){var r="~~local_forage_type~"+e.type+"~"+W(this.result);t(L+F+r)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e),t(null,r)}},deserialize:function(e){if(e.substring(0,9)!==L)return JSON.parse(e);var t,r=e.substring(13),n=e.substring(9,13);if(n===F&&C.test(r)){var i=r.match(C);t=i[1],r=r.substring(i[0].length)}var a=z(r);switch(n){case M:return a;case F:return o([a],{type:t});case x:return new Int8Array(a);case U:return new Uint8Array(a);case B:return new Uint8ClampedArray(a);case j:return new Int16Array(a);case q:return new Uint16Array(a);case k:return new Int32Array(a);case G:return new Uint32Array(a);case H:return new Float32Array(a);case Y:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}},stringToBuffer:z,bufferToString:W};function K(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function Q(e,t,r,n,i,o){e.executeSql(r,n,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):K(e,t,(function(){e.executeSql(r,n,i,o)}),o)}),o):o(e,a)}),o)}function $(e,t,r,n){var i=this;e=c(e);var o=new a((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,u=i._dbInfo;u.serializer.serialize(t,(function(t,c){c?a(c):u.db.transaction((function(r){Q(r,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void o($.apply(i,[e,s,r,n-1]));a(t)}}))}))})).catch(a)}));return s(o,r),o}var Z={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]="string"!=typeof e[n]?e[n].toString():e[n];var i=new a((function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction((function(i){K(i,r,(function(){t._dbInfo=r,e()}),(function(e,t){n(t)}))}),n)}));return r.serializer=X,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var r=this,n=new a((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Q(r,i,"SELECT * FROM "+i.storeName,[],(function(r,n){for(var o=n.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,u.key,s+1)))return void t(c)}t()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},getItem:function(e,t){var r=this;e=c(e);var n=new a((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Q(r,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=i.serializer.deserialize(n)),t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},setItem:function(e,t,r){return $.apply(this,[e,t,r,1])},removeItem:function(e,t){var r=this;e=c(e);var n=new a((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Q(r,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},clear:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){Q(t,n,"DELETE FROM "+n.storeName,[],(function(){e()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},length:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){Q(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(t,r){var n=r.rows.item(0).c;e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},key:function(e,t){var r=this,n=new a((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Q(r,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,r){var n=r.rows.length?r.rows.item(0).key:null;t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},keys:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){Q(t,n,"SELECT key FROM "+n.storeName,[],(function(t,r){for(var n=[],i=0;i<r.rows.length;i++)n.push(r.rows.item(i).key);e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},dropInstance:function(e,t){t=l.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n,i=this;return s(n=e.name?new a((function(t){var n;n=e.name===r.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:n,storeNames:[e.storeName]}):t(function(e){return new a((function(t,r){e.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){r(t)}))}),(function(e){r(e)}))}))}(n))})).then((function(e){return new a((function(t,r){e.db.transaction((function(n){function i(e){return new a((function(t,r){n.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){r(t)}))}))}for(var o=[],s=0,u=e.storeNames.length;s<u;s++)o.push(i(e.storeNames[s]));a.all(o).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):a.reject("Invalid arguments"),t),n}};function J(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function ee(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=J(e,this._defaultConfig),ee()?(this._dbInfo=t,t.serializer=X,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=r.ready().then((function(){for(var t=r._dbInfo,n=t.keyPrefix,i=n.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(n)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(i),a++)))return c}}}));return s(n,t),n},getItem:function(e,t){var r=this;e=c(e);var n=r.ready().then((function(){var t=r._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n}));return s(n,t),n},setItem:function(e,t,r){var n=this;e=c(e);var i=n.ready().then((function(){void 0===t&&(t=null);var r=t;return new a((function(i,o){var a=n._dbInfo;a.serializer.serialize(t,(function(t,n){if(n)o(n);else try{localStorage.setItem(a.keyPrefix+e,t),i(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return s(i,r),i},removeItem:function(e,t){var r=this;e=c(e);var n=r.ready().then((function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(n,t),n},clear:function(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(e)&&localStorage.removeItem(n)}}));return s(r,e),r},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var r=this,n=r.ready().then((function(){var t,n=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t}));return s(n,t),n},keys:function(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo,r=localStorage.length,n=[],i=0;i<r;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&n.push(o.substring(e.keyPrefix.length))}return n}));return s(r,e),r},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var n,i=this;return n=e.name?new a((function(t){e.storeName?t(J(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}})):a.reject("Invalid arguments"),s(n,t),n}},re=function(e,t){for(var r=e.length,n=0;n<r;){if((i=e[n])===(o=t)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;n++}var i,o;return!1},ne=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},oe={},ae={INDEXEDDB:D,WEBSQL:Z,LOCALSTORAGE:te},se=[ae.INDEXEDDB._driver,ae.WEBSQL._driver,ae.LOCALSTORAGE._driver],ue=["dropInstance"],ce=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ue),le={description:"",driver:se.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fe(e,t){e[t]=function(){var r=arguments;return e.ready().then((function(){return e[t].apply(e,r)}))}}function de(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(ne(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var pe=function(){function e(t){for(var r in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ae)if(ae.hasOwnProperty(r)){var n=ae[r],i=n._driver;this[r]=i,ie[i]||this.defineDriver(n)}this._defaultConfig=de({},le),this._config=de({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":n(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var n=new a((function(t,r){try{var n=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(i);for(var o=ce.concat("_initStorage"),u=0,c=o.length;u<c;u++){var l=o[u];if((!re(ue,l)||e[l])&&"function"!=typeof e[l])return void r(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),r=a.reject(t);return s(r,arguments[arguments.length-1]),r}},r=0,n=ue.length;r<n;r++){var i=ue[r];e[i]||(e[i]=t(i))}}();var f=function(r){ie[n]&&console.info("Redefining LocalForage driver: "+n),ie[n]=e,oe[n]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,r):f(!!e._support):f(!0)}catch(e){r(e)}}));return u(n,t,r),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var n=ie[e]?a.resolve(ie[e]):a.reject(new Error("Driver not found."));return u(n,t,r),n},e.prototype.getSerializer=function(e){var t=a.resolve(X);return u(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(r,e,e),r},e.prototype.setDriver=function(e,t,r){var n=this;ne(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){n._config.driver=n.driver()}function s(e){return n._extend(e),o(),n._ready=n._initStorage(n._config),n._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=c.then((function(){var e=i[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then((function(e){n._driver=e._driver,o(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(e){return function(){var t=0;return function r(){for(;t<e.length;){var i=e[t];return t++,n._dbInfo=null,n._ready=null,n.getDriver(i).then(s).catch(r)}o();var u=new Error("No available storage method found.");return n._driverSet=a.reject(u),n._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return n._driverSet=a.reject(e),n._driverSet})),u(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!oe[e]},e.prototype._extend=function(e){de(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ce.length;e<t;e++)fe(this,ce[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),he=new pe;t.exports=he},{3:3}]},{},[4])(4)},5684:function(e){"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",i=0):i=(n=n.slice(0,u)).length-1-n.lastIndexOf("/"),o=s,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=s,a=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,s):n=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var e,n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(n=a+"/"+n,i=47===a.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var u=r.length-s,c=a<u?a:u,l=-1,f=0;f<=c;++f){if(f===c){if(u>c){if(47===r.charCodeAt(s+f))return r.slice(s+f+1);if(0===f)return r.slice(s+f)}else a>c&&(47===e.charCodeAt(i+f)?l=f:0===f&&(l=0));break}var d=e.charCodeAt(i+f);if(d!==r.charCodeAt(s+f))break;47===d&&(l=f)}var p="";for(f=i+l+1;f<=o;++f)f!==o&&47!==e.charCodeAt(f)||(0===p.length?p+="..":p+="/..");return p.length>0?p+r.slice(s+l):(s+=l,47===r.charCodeAt(s)&&++s,r.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(r=e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,o=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,u=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!a){i=n+1;break}}else-1===u&&(a=!1,u=n+1),s>=0&&(c===r.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=u))}return i===o?o=u:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){i=n+1;break}}else-1===o&&(a=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(47!==u)-1===i&&(o=!1,i=s+1),46===u?-1===r?r=s:1!==a&&(a=1):-1!==r&&(a=-1);else if(!o){n=s+1;break}}return-1===r||-1===i||0===a||1===a&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),o=47===i;o?(r.root="/",n=1):n=0;for(var a=-1,s=0,u=-1,c=!0,l=e.length-1,f=0;l>=n;--l)if(47!==(i=e.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===i?-1===a?a=l:1!==f&&(f=1):-1!==a&&(f=-1);else if(!c){s=l+1;break}return-1===a||-1===u||0===f||1===f&&a===u-1&&a===s+1?-1!==u&&(r.base=r.name=0===s&&o?e.slice(1,u):e.slice(s,u)):(0===s&&o?(r.name=e.slice(1,a),r.base=e.slice(1,u)):(r.name=e.slice(s,a),r.base=e.slice(s,u)),r.ext=e.slice(a,u)),s>0?r.dir=e.slice(0,s-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},3785:function(e,t,r){var n;!function(i,o){"use strict";var a="function",s="undefined",u="object",c="string",l="major",f="model",d="name",p="type",h="vendor",m="version",y="architecture",g="console",_="mobile",b="tablet",E="smarttv",v="wearable",T="embedded",S="Amazon",A="Apple",I="ASUS",w="BlackBerry",R="Browser",O="Chrome",N="Firefox",D="Google",P="Huawei",C="LG",L="Microsoft",M="Motorola",F="Opera",x="Samsung",U="Sharp",B="Sony",j="Xiaomi",k="Zebra",q="Facebook",G="Chromium OS",H="Mac OS",Y=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},V=function(e,t){return typeof e===c&&-1!==z(t).indexOf(z(e))},z=function(e){return e.toLowerCase()},W=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},X=function(e,t){for(var r,n,i,s,c,l,f=0;f<t.length&&!c;){var d=t[f],p=t[f+1];for(r=n=0;r<d.length&&!c&&d[r];)if(c=d[r++].exec(e))for(i=0;i<p.length;i++)l=c[++n],typeof(s=p[i])===u&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;f+=2}},K=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(V(t[r][n],e))return"?"===r?o:r}else if(V(t[r],e))return"?"===r?o:r;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,m],[/opios[\/ ]+([\w\.]+)/i],[m,[d,F+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[d,F+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[d,F]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[d,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,m],[/\bddg\/([\w\.]+)/i],[m,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[d,"UC"+R]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[d,"Smart Lenovo "+R]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+R],m],[/\bfocus\/([\w\.]+)/i],[m,[d,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[d,F+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[d,F+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[d,"MIUI "+R]],[/fxios\/([-\w\.]+)/i],[m,[d,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+R]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+R],m],[/samsungbrowser\/([\w\.]+)/i],[m,[d,x+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[d,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,q],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[d,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,O+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[d,"Android "+R]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[m,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[d,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,m],[/(cobalt)\/([\w\.]+)/i],[d,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,z]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[h,x],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[h,x],[p,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[h,A],[p,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[h,A],[p,b]],[/(macintosh);/i],[f,[h,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[h,U],[p,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[h,P],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[h,P],[p,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[h,j],[p,_]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[h,j],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[h,"OPPO"],[p,_]],[/\b(opd2\d{3}a?) bui/i],[f,[h,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[h,"Vivo"],[p,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[h,"Realme"],[p,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[h,M],[p,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[h,M],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[h,C],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[h,C],[p,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[h,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[h,"Nokia"],[p,_]],[/(pixel c)\b/i],[f,[h,D],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[h,D],[p,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[h,B],[p,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[h,B],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[h,"OnePlus"],[p,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[h,S],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[h,S],[p,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,h,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[h,w],[p,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[h,I],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[h,I],[p,_]],[/(nexus 9)/i],[f,[h,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[f,/_/g," "],[p,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[h,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[h,"Meizu"],[p,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[h,"Ulefone"],[p,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,f,[p,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,f,[p,b]],[/(surface duo)/i],[f,[h,L],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[h,"Fairphone"],[p,_]],[/(u304aa)/i],[f,[h,"AT&T"],[p,_]],[/\bsie-(\w*)/i],[f,[h,"Siemens"],[p,_]],[/\b(rct\w+) b/i],[f,[h,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[h,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[h,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[h,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[f,[h,"NuVision"],[p,b]],[/\b(k88) b/i],[f,[h,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[f,[h,"ZTE"],[p,_]],[/\b(gen\d{3}) b.+49h/i],[f,[h,"Swiss"],[p,_]],[/\b(zur\d{3}) b/i],[f,[h,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[f,[h,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],f,[p,b]],[/\b(ns-?\w{0,9}) b/i],[f,[h,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[h,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],f,[p,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],f,[p,_]],[/\b(ph-1) /i],[f,[h,"Essential"],[p,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[h,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[f,[h,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[f,[h,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[f,[h,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[h,f,[p,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[h,L],[p,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[h,k],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[h,k],[p,_]],[/smart-tv.+(samsung)/i],[h,[p,E]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[h,x],[p,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,C],[p,E]],[/(apple) ?tv/i],[h,[f,A+" TV"],[p,E]],[/crkey/i],[[f,O+"cast"],[h,D],[p,E]],[/droid.+aft(\w+)( bui|\))/i],[f,[h,S],[p,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[h,U],[p,E]],[/(bravia[\w ]+)( bui|\))/i],[f,[h,B],[p,E]],[/(mitv-\w{5}) bui/i],[f,[h,j],[p,E]],[/Hbbtv.*(technisat) (.*);/i],[h,f,[p,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,W],[f,W],[p,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,f,[p,g]],[/droid.+; (shield) bui/i],[f,[h,"Nvidia"],[p,g]],[/(playstation [345portablevi]+)/i],[f,[h,B],[p,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[h,L],[p,g]],[/((pebble))app/i],[h,f,[p,v]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[h,A],[p,v]],[/droid.+; (glass) \d/i],[f,[h,D],[p,v]],[/droid.+; (wt63?0{2,3})\)/i],[f,[h,k],[p,v]],[/(quest( \d| pro)?)/i],[f,[h,q],[p,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,T]],[/(aeobc)\b/i],[f,[h,S],[p,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[p,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,_]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[m,K,Q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,K,Q],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,H],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,m],[/\(bb(10);/i],[m,[d,w]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[d,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[d,O+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,G],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,m],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,m]]},Z=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof Z))return new Z(e,t).getResult();var r=typeof i!==s&&i.navigator?i.navigator:o,n=e||(r&&r.userAgent?r.userAgent:""),g=r&&r.userAgentData?r.userAgentData:o,E=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}($,t):$,v=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[d]=o,t[m]=o,X.call(t,n,E.browser),t[l]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,v&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[y]=o,X.call(e,n,E.cpu),e},this.getDevice=function(){var e={};return e[h]=o,e[f]=o,e[p]=o,X.call(e,n,E.device),v&&!e[p]&&g&&g.mobile&&(e[p]=_),v&&"Macintosh"==e[f]&&r&&typeof r.standalone!==s&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[p]=b),e},this.getEngine=function(){var e={};return e[d]=o,e[m]=o,X.call(e,n,E.engine),e},this.getOS=function(){var e={};return e[d]=o,e[m]=o,X.call(e,n,E.os),v&&!e[d]&&g&&g.platform&&"Unknown"!=g.platform&&(e[d]=g.platform.replace(/chrome os/i,G).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>500?W(e,500):e,this},this.setUA(n),this};Z.VERSION="1.0.38",Z.BROWSER=Y([d,m,l]),Z.CPU=Y([y]),Z.DEVICE=Y([f,h,p,g,_,E,b,v,T]),Z.ENGINE=Z.OS=Y([d,m]),typeof t!==s?(e.exports&&(t=e.exports=Z),t.UAParser=Z):r.amdO?(n=function(){return Z}.call(t,r,t,e))===o||(e.exports=n):typeof i!==s&&(i.UAParser=Z);var J=typeof i!==s&&(i.jQuery||i.Zepto);if(J&&!J.ua){var ee=new Z;J.ua=ee.getResult(),J.ua.get=function(){return ee.getUA()},J.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var r in t)J.ua[r]=t[r]}}}("object"==typeof window?window:this)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.amdO={},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var n={};return function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(t){var r=function(t){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(r)?r:r+""}r.d(n,{default:function(){return Ga}});var o=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()},(r=[{key:"init",value:function(){this.OFFLINE_SCHEME="offline_indexeddb",this.OFFLINE_URL_REGEX=/^offline_indexeddb:\/\//i,this.OFFLINE_STATUS_CREATED="created",this.OFFLINE_STATUS_STARTED="started",this.OFFLINE_STATUS_STOPPED="stopped",this.OFFLINE_STATUS_FINISHED="finished",this.OFFLINE_STATUS_ERROR="error"}}])&&t(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}()),a=r(743),s=r(6135).vr;function u(){var e,t;function r(e){return n().then((function(t){if(t){for(var r=null,n=0;n<t.manifests.length;n++)t.manifests[n].manifestId===parseInt(e)&&(r=t.manifests[n]);return null!==r?(r.manifest=s.decode(r.manifest),Promise.resolve(r)):Promise.reject("Cannot found manifest with this manifestId : "+e)}return Promise.reject("Any manifests stored in DB !")})).catch((function(e){return Promise.reject(e)}))}function n(){return e.getItem("manifest").then((function(e){return Promise.resolve(e||{manifests:[]})})).catch((function(e){return Promise.reject(e)}))}function i(t){return n().then((function(r){try{for(var n=0;n<r.manifests.length;n++)r.manifests[n].manifestId===t.manifestId&&(r.manifests[n]=t);return e.setItem("manifest",r)}catch(e){throw new Error("Any results found !")}}))}return t={},"undefined"!=typeof window&&(a.config({driver:a.INDEXEDDB,name:"dash_offline_db"}),e=a.createInstance({driver:a.INDEXEDDB,name:"dash_offline_db",version:1,storeName:"manifest"})),{dropAll:function(){return a.clear().then((function(){return Promise.resolve()})).catch((function(e){return Promise.reject(e)}))},getFragmentByKey:function(e,r){var n=t[e];return n?n.getItem(r).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)})):Promise.reject(new Error("No fragment store found for manifest ".concat(e)))},getManifestById:r,storeFragment:function(e,r,n){var i=t[e];return i?i.setItem(r,n,(function(){return Promise.resolve()})).catch((function(e){return Promise.reject(e)})):Promise.reject(new Error("No fragment store found for manifest ".concat(e)))},storeManifest:function(t){return e.getItem("manifest").then((function(r){var n=r||{manifests:[]};return n.manifests.push(t),e.setItem("manifest",n)}))},updateManifest:i,saveSelectedRepresentations:function(e,t){return r(e).then((function(e){return e.selected||(e.selected={}),e.selected=t,i(e).catch((function(){return Promise.reject("Cannot save selected representations")}))})).catch((function(e){return Promise.reject(e)}))},createFragmentStore:function(e){if(!t[e]){console.log("setStore  "+e);var r=a.createInstance({driver:a.INDEXEDDB,name:"dash_offline_db",version:1,storeName:e});t[e]=r}},setDownloadingStatus:function(e,t){return r(e).then((function(e){return e.status=t,i(e).catch((function(){return Promise.reject("Cannot set status "+t+" for this stream !")}))})).catch((function(e){return Promise.reject(e)}))},setRepresentationCurrentState:function(e,t,n){return r(e).then((function(e){return e.state||(e.state={}),e.state[t]||(e.state[t]={index:-1,downloaded:0}),e.state[t]=n,i(e).catch((function(){return Promise.reject("Cannot set current index for represenation id "+t)}))})).catch((function(e){return Promise.reject(e)}))},getRepresentationCurrentState:function(e,t){return r(e).then((function(e){var r={index:-1,downloaded:0};return e.state&&e.state[t]&&(r=e.state[t]),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}))},getCurrentHigherManifestId:function(){return n().then((function(e){var t=0;if(e){for(var r=0;r<e.manifests.length;r++)e.manifests[r].manifestId>t&&(t=e.manifests[r].manifestId);return Promise.resolve(t)}return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}))},getAllManifests:n,dropFragmentStore:function(e){a.dropInstance({driver:a.INDEXEDDB,name:"dash_offline_db",version:1,storeName:e}).then((function(){delete t[e]})).catch((function(e){console.log("dropFragmentStore failed "+e)}))},deleteDownloadById:function(r){return e.getItem("manifest").then((function(n){return n?(i=r,a.createInstance({name:"dash_offline_db",storeName:i}),a.dropInstance({name:"dash_offline_db",storeName:i}).then((function(){return delete t[i],Promise.resolve()})).catch((function(e){return console.log(e),Promise.reject(e)}))).then((function(){for(var t=0;t<n.manifests.length;t++)n.manifests[t].manifestId===parseInt(r)&&n.manifests.splice(t,1);return e.setItem("manifest",n).then((function(){return Promise.resolve("This stream has been successfull removed !")})).catch((function(){return Promise.reject("An error occured when trying to delete this manifest")}))})):Promise.resolve("Nothing to delete !");var i})).catch((function(e){return Promise.reject(e)}))}}}u.__dashjs_factory_name="IndexDBStore";var c=dashjs.FactoryMaker.getSingletonFactory(u);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}var p=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"extend",value:function(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}])&&f(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t,r){return t=g(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}var b=new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=m(this,t)).OFFLINE_ERROR=11e3,e.INDEXEDDB_QUOTA_EXCEED_ERROR=11001,e.INDEXEDDB_INVALID_STATE_ERROR=11002,e.INDEXEDDB_NOT_READABLE_ERROR=11003,e.INDEXEDDB_NOT_FOUND_ERROR=11004,e.INDEXEDDB_NETWORK_ERROR=11005,e.INDEXEDDB_DATA_ERROR=11006,e.INDEXEDDB_TRANSACTION_INACTIVE_ERROR=11007,e.INDEXEDDB_NOT_ALLOWED_ERROR=11008,e.INDEXEDDB_NOT_SUPPORTED_ERROR=11009,e.INDEXEDDB_VERSION_ERROR=11010,e.INDEXEDDB_TIMEOUT_ERROR=11011,e.INDEXEDDB_ABORT_ERROR=11012,e.INDEXEDDB_UNKNOWN_ERROR=11013,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(p));function E(e){e=e||{};var t,r,n=this.context,i=e.errHandler;function o(e){var t;if(e){switch(e.name){case"QuotaExceededError":t=b.INDEXEDDB_QUOTA_EXCEED_ERROR;break;case"InvalidStateError":t=b.INDEXEDDB_INVALID_STATE_ERROR;break;case"NotFoundError":t=b.INDEXEDDB_NOT_FOUND_ERROR;break;case"VersionError":t=b.INDEXEDDB_VERSION_ERROR}i.error({code:t,message:e.name,data:e})}}return t={storeFragment:function(e,t,n){return r.storeFragment(e,t,n).catch((function(e){o(e)}))},createOfflineManifest:function(e){return r.storeManifest(e).catch((function(e){o(e)}))},updateOfflineManifest:function(e){return r.updateManifest(e).catch((function(e){o(e)}))},getManifestById:function(e){return r.getManifestById(e).catch((function(e){o(e)}))},saveSelectedRepresentations:function(e,t){return r.saveSelectedRepresentations(e,t).catch((function(e){o(e)}))},createFragmentStore:function(e,t){try{r.createFragmentStore(e,t)}catch(e){o(e)}},getCurrentHigherManifestId:function(){return r.getCurrentHigherManifestId().catch((function(e){o(e)}))},getAllManifests:function(){return r.getAllManifests().catch((function(e){o(e)}))},deleteDownloadById:function(e){return r.deleteDownloadById(e).catch((function(e){o(e)}))},setDownloadingStatus:function(e,t){return r.setDownloadingStatus(e,t).catch((function(e){o(e)}))},setRepresentationCurrentState:function(e,t,n){return r.setRepresentationCurrentState(e,t,n).catch((function(e){o(e)}))},getRepresentationCurrentState:function(e,t){return r.getRepresentationCurrentState(e,t).catch((function(e){o(e)}))}},r=c(n).getInstance(),t}E.__dashjs_factory_name="OfflineStoreController";var v=dashjs.FactoryMaker.getClassFactory(E);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function A(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}var w=A((function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}));function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function N(e){var t=function(e){if("object"!=R(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:t+""}w.GET="GET",w.HEAD="HEAD",w.MPD_TYPE="MPD",w.XLINK_EXPANSION_TYPE="XLinkExpansion",w.INIT_SEGMENT_TYPE="InitializationSegment",w.INDEX_SEGMENT_TYPE="IndexSegment",w.MEDIA_SEGMENT_TYPE="MediaSegment",w.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",w.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",w.DVB_REPORTING_TYPE="DVBReporting",w.LICENSE="license",w.CONTENT_STEERING_TYPE="ContentSteering",w.OTHER_TYPE="other";var D=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=t||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null},(t=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(e){this.type=e&&e.init?w.INIT_SEGMENT_TYPE:w.MEDIA_SEGMENT_TYPE,this.url=e&&e.url?e.url:null,this.range=e&&e.range?e.range.start+"-"+e.range.end:null,this.mediaType=e&&e.mediaType?e.mediaType:null}}])&&O(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();D.ACTION_DOWNLOAD="download",D.ACTION_COMPLETE="complete";var P=D,C=function(){var e,t=[],r={},n={};function i(e,r){for(var n in t){var i=t[n];if(i.context===e&&i.name===r)return i.instance}return null}function o(e,t){return t[e]}function a(e,t,r){e in r&&(r[e]=t)}function s(t,r,n){var i,o=t.__dashjs_factory_name,a=r[o];if(a){var s=a.instance;if(!a.override)return s.apply({context:r,factory:e},n);for(var u in i=t.apply({context:r},n),s=s.apply({context:r,factory:e,parent:i},n))i.hasOwnProperty(u)&&(i[u]=s[u])}else i=t.apply({context:r},n);return i.getClassName=function(){return o},i}return e={extend:function(e,t,r,n){!n[e]&&t&&(n[e]={instance:t,override:r})},getSingletonInstance:i,setSingletonInstance:function(e,r,n){for(var i in t){var o=t[i];if(o.context===e&&o.name===r)return void(t[i].instance=n)}t.push({name:r,context:e,instance:n})},deleteSingletonInstances:function(e){t=t.filter((function(t){return t.context!==e}))},getSingletonFactory:function(e){var n=o(e.__dashjs_factory_name,r);return n||(n=function(r){var n;return void 0===r&&(r={}),{getInstance:function(){return n||(n=i(r,e.__dashjs_factory_name)),n||(n=s(e,r,arguments),t.push({name:e.__dashjs_factory_name,context:r,instance:n})),n}}},r[e.__dashjs_factory_name]=n),n},getSingletonFactoryByName:function(e){return o(e,r)},updateSingletonFactory:function(e,t){a(e,t,r)},getClassFactory:function(e){var t=o(e.__dashjs_factory_name,n);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return s(e,t,arguments)}}},n[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return o(e,n)},updateClassFactory:function(e,t){a(e,t,n)}},e}(),L=C;function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function x(e){var t=function(e){if("object"!=M(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==M(t)?t:t+""}var U=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"extend",value:function(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}])&&F(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function j(e,t,r){return t=q(t),function(e,t){if(t&&("object"==B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,k()?Reflect.construct(t,r||[],q(e).constructor):t.apply(e,r))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}var H=new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=j(this,t)).AST_IN_FUTURE="astInFuture",e.BASE_URLS_UPDATED="baseUrlsUpdated",e.BUFFER_EMPTY="bufferStalled",e.BUFFER_LOADED="bufferLoaded",e.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",e.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",e.DVB_FONT_DOWNLOAD_ADDED="dvbFontDownloadAdded",e.DVB_FONT_DOWNLOAD_COMPLETE="dvbFontDownloadComplete",e.DVB_FONT_DOWNLOAD_FAILED="dvbFontDownloadFailed",e.DYNAMIC_TO_STATIC="dynamicToStatic",e.ERROR="error",e.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",e.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",e.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",e.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",e.LOG="log",e.MANIFEST_LOADING_STARTED="manifestLoadingStarted",e.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",e.MANIFEST_LOADED="manifestLoaded",e.METRICS_CHANGED="metricsChanged",e.METRIC_CHANGED="metricChanged",e.METRIC_ADDED="metricAdded",e.METRIC_UPDATED="metricUpdated",e.PERIOD_SWITCH_STARTED="periodSwitchStarted",e.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",e.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",e.QUALITY_CHANGE_RENDERED="qualityChangeRendered",e.TRACK_CHANGE_RENDERED="trackChangeRendered",e.STREAM_INITIALIZING="streamInitializing",e.STREAM_UPDATED="streamUpdated",e.STREAM_ACTIVATED="streamActivated",e.STREAM_DEACTIVATED="streamDeactivated",e.STREAM_INITIALIZED="streamInitialized",e.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",e.TEXT_TRACKS_ADDED="allTextTracksAdded",e.TEXT_TRACK_ADDED="textTrackAdded",e.CUE_ENTER="cueEnter",e.CUE_EXIT="cueExit",e.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",e.TTML_PARSED="ttmlParsed",e.TTML_TO_PARSE="ttmlToParse",e.CAPTION_RENDERED="captionRendered",e.CAPTION_CONTAINER_RESIZE="captionContainerResize",e.CAN_PLAY="canPlay",e.CAN_PLAY_THROUGH="canPlayThrough",e.PLAYBACK_ENDED="playbackEnded",e.PLAYBACK_ERROR="playbackError",e.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",e.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",e.PLAYBACK_LOADED_DATA="playbackLoadedData",e.PLAYBACK_PAUSED="playbackPaused",e.PLAYBACK_PLAYING="playbackPlaying",e.PLAYBACK_PROGRESS="playbackProgress",e.PLAYBACK_RATE_CHANGED="playbackRateChanged",e.PLAYBACK_SEEKED="playbackSeeked",e.PLAYBACK_SEEKING="playbackSeeking",e.PLAYBACK_STALLED="playbackStalled",e.PLAYBACK_STARTED="playbackStarted",e.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",e.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",e.PLAYBACK_WAITING="playbackWaiting",e.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",e.EVENT_MODE_ON_START="eventModeOnStart",e.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",e.CONFORMANCE_VIOLATION="conformanceViolation",e.REPRESENTATION_SWITCH="representationSwitch",e.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",e.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",e.INBAND_PRFT="inbandPrft",e.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",e.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(U));function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function z(e,t,r){return t&&V(e.prototype,t),r&&V(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function W(e){var t=function(e){if("object"!=Y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(t)?t:t+""}var X=z((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}));function K(e,t){for(;e.length<t;)e="0"+e;return e}function Q(e,t){if(!t||!e||-1===e.indexOf("$RepresentationID$"))return e;var r=t.toString();return e.split("$RepresentationID$").join(r)}function $(e,t,r){var n,i,o,a,s,u,c=t.length;if(!e)return e;for(;;){if((n=e.indexOf("$"+t))<0)return e;if((i=e.indexOf("$",n+c))<0)return e;if((o=e.indexOf("%0",n+c))>n&&o<i)switch(a=e.charAt(i-1),s=parseInt(e.substring(o+2,i-1),10),a){case"d":case"i":case"u":u=K(r.toString(),s);break;case"x":u=K(r.toString(16),s);break;case"X":u=K(r.toString(16),s).toUpperCase();break;case"o":u=K(r.toString(8),s);break;default:return e}else u=r;e=e.substring(0,n)+u+e.substring(i+1)}}function Z(e,t,r,n,i,o,a,s){var u,c=new X;return c.representation=e,c.duration=t,c.presentationStartTime=r,c.mediaStartTime=n,c.availabilityStartTime=i.calcAvailabilityStartTimeFromPresentationTime(o,e,a),c.availabilityEndTime=i.calcAvailabilityEndTimeFromPresentationTime(o+t,e,a),c.wallStartTime=i.calcWallTimeForSegment(c,a),c.replacementNumber=(u=s,c.representation.startNumber+u),c.index=s,c}function J(e,t,r,n){var i=t.adaptation.period;if(isFinite(i.duration)&&i.start+i.duration<=r.presentationStartTime)return!1;if(n){if("INF"===t.availabilityTimeOffset)return!0;var o=e.getClientReferenceTime();return r.availabilityStartTime.getTime()<=o&&(!isFinite(r.availabilityEndTime)||r.availabilityEndTime.getTime()>=o)}return!0}function ee(e,t,r,n){var i,o,a;i=r.segmentDuration,isNaN(i)&&(i=r.adaptation.period.duration),o=parseFloat((r.adaptation.period.start+n*i).toFixed(5)),a=parseFloat((o+i).toFixed(5));var s=Z(r,i,o,e.calcMediaTimeFromPresentationTime(o,r),e,a,t,n);return J(e,r,s,t)?s:null}function te(e,t,r,n,i,o,a,s,u,c){var l,f,d=n/o,p=i/o;return l=e.calcPresentationTimeFromMediaTime(d,r),J(e,r,f=Z(r,p,l,d,e,l+p,t,u),t)?(f.replacementTime=c||n,a=$(a,"Number",f.replacementNumber),a=$(a,"Time",f.replacementTime),f.media=a,f.mediaRange=s,f):null}function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ie(n.key),n)}}function ie(e){var t=function(e){if("object"!=re(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==re(t)?t:t+""}var oe=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()},(t=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.ESSENTIAL_PROPERTY_ASARRAY="EssentialProperty_asArray",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.DVB_URL="dvb:url",this.DVB_MIMETYPE="dvb:mimeType",this.DVB_FONTFAMILY="dvb:fontFamily",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&ne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}());function ae(e){var t,r,n,i,o,a=(e=e||{}).eventBus,s=e.debug,u=e.urlUtils,c=e.type,l=e.streamInfo,f=e.segmentsController,d=e.timelineConverter,p=e.baseURLController;function h(){return c}function m(){n=null}function y(e,t,r){var n,i,o=p.resolve(r.path),a={};return o&&t!==o.url&&u.isRelative(t)?(n=o.url,i=o.serviceLocation,a=o.queryParams,t&&(n=u.resolve(t,n))):n=t,!u.isRelative(n)&&(e.url=n,e.serviceLocation=i,e.queryParams=a,!0)}function g(e,t){if(null==t)return null;var r=new P,n=t.representation,i=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,o=t.media;return o=$(o,"Number",t.replacementNumber),o=$(o,"Time",t.replacementTime),o=function(e){return e?e.split("$$").join("$"):e}(o=Q(o=$(o,"Bandwidth",i),n.id)),r.mediaType=h(),r.type=w.MEDIA_SEGMENT_TYPE,r.range=t.mediaRange,r.startTime=t.presentationStartTime,r.mediaStartTime=t.mediaStartTime,r.duration=t.duration,r.timescale=n.timescale,r.availabilityStartTime=t.availabilityStartTime,r.availabilityEndTime=t.availabilityEndTime,r.availabilityTimeComplete=n.availabilityTimeComplete,r.wallStartTime=t.wallStartTime,r.quality=n.index,r.index=t.index,r.mediaInfo=e,r.adaptationIndex=n.adaptation.index,r.representationId=n.id,y(r,o,n)?r:void 0}function _(e,t,i){var o=null;if(!t||!t.segmentInfoType)return o;var a=f.getSegmentByTime(t,i);return a&&(n=a,r.debug("Index for time "+i+" is "+a.index),o=g(e,a)),o}function b(e,t,a){var s=null,u=f.getSegmentByIndex(t,a,n?n.mediaStartTime:-1);if(u)s=g(e,u),n=u;else{if(i&&!o)return r.debug(h()+" No segment found at index: "+a+". Wait for next loop"),null;o=!0}return s}function E(){r.debug("Dynamic stream complete"),o=!0}return t={getCurrentIndex:function(){return n?n.index:-1},getInitRequest:function(e,t){return t?function(e,t,r){var n=new P,o=t.adaptation.period,a=o.start;if(n.mediaType=r,n.type=w.INIT_SEGMENT_TYPE,n.range=t.range,n.availabilityStartTime=d.calcAvailabilityStartTimeFromPresentationTime(a,t,i),n.availabilityEndTime=d.calcAvailabilityEndTimeFromPresentationTime(a+o.duration,t,i),n.quality=t.index,n.mediaInfo=e,n.representationId=t.id,y(n,t.initialization,t))return n.url=$(n.url,"Bandwidth",t.bandwidth),n}(e,t,h()):null},getNextSegmentRequest:function(e,t){return t&&t.segmentInfoType?b(e,t,n?n.index+1:0):null},getNextSegmentRequestIdempotent:function(e,t){var r=n?n.index+1:0,i=f.getSegmentByIndex(t,r,n?n.mediaStartTime:-1);return i?g(e,i):null},getSegmentRequestForTime:_,getStreamId:function(){return l.id},getStreamInfo:function(){return l},getType:h,getValidTimeAheadOfTargetTime:function(e,t,r,n){try{if(isNaN(e)||!t||!r)return NaN;if(e<0&&(e=0),isNaN(n)&&(n=.5),_(t,r,e))return e;if(r.adaptation.period.start+r.adaptation.period.duration<e)return NaN;for(var i=isFinite(r.adaptation.period.duration)?r.adaptation.period.start+r.adaptation.period.duration:e+30,o=Math.min(e+n,i),a=NaN,s=null;o<=i;){var u=null;if(o<=i&&(u=_(t,r,o)),u){a=o,s=u;break}o+=n}if(s){var c=s.startTime+s.duration;return e>s.startTime&&c-e>n?e:!isNaN(s.startTime)&&e<s.startTime&&a>s.startTime?s.startTime+.001:Math.min(c-n,a)}return a}catch(e){return NaN}},initialize:function(e){i=e,o=!1,f.initialize(e)},isLastSegmentRequested:function(e,t){if(!e||!n)return!1;if(o)return!0;if(!isFinite(e.adaptation.period.duration))return!1;if(n.presentationStartTime+n.duration>t)return!1;if(e.mediaFinishedInformation&&!isNaN(e.mediaFinishedInformation.numberOfSegments)&&!isNaN(n.index)&&n.index>=e.mediaFinishedInformation.numberOfSegments-1){if(!i||e.segmentInfoType===oe.SEGMENT_TEMPLATE)return!0;if(i&&e.segmentInfoType===oe.SEGMENT_LIST&&e.adaptation.period.nextPeriodId)return!0}return!!(i&&e.adaptation.period.nextPeriodId&&e.segmentInfoType===oe.SEGMENT_TIMELINE&&e.mediaFinishedInformation&&!isNaN(e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&n&&!isNaN(n.mediaStartTime)&&!isNaN(n.duration)&&n.mediaStartTime+n.duration>=e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(e,t){return t&&t.segmentInfoType?b(e,t,n?n.index:0):null},reset:function(){m(),a.off(H.DYNAMIC_TO_STATIC,E,t)}},r=s.getLogger(t),m(),a.on(H.DYNAMIC_TO_STATIC,E,t),t}ae.__dashjs_factory_name="DashHandler";var se=L.getClassFactory(ae);function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,le(n.key),n)}}function le(e){var t=function(e){if("object"!=ue(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ue(t)?t:t+""}var fe=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()},(t=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.TEXT_DISABLED="disabled",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.FONT_DOWNLOAD_DVB_SCHEME="urn:dvb:dash:fontdownload:2014",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.OFF_MIMETYPE="application/font-sfnt",this.WOFF_MIMETYPE="application/font-woff",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&ce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}());function de(e){var t,r,n,i,o,a,s=(e=e||{}).eventBus,u=e.events,c=e.abrController,l=e.dashMetrics,f=e.playbackController,d=e.timelineConverter,p=e.type,h=e.streamInfo,m=e.dashConstants,y=e.segmentsController,g=e.isDynamic,_=e.adapter;function b(){return p}function E(){return n}function v(){return a}function T(){r=null,n=!0,i=[],o=null}function S(e){return new Promise((function(t,r){var n=e.hasInitialization(),o=e.hasSegments(),s=[];s.push(y.updateInitData(e,n)),s.push(y.updateSegmentData(e,o)),Promise.all(s).then((function(r){var n;r[0]&&!r[0].error&&(e=function(e,t){return t&&!t.error&&t.representation?t.representation:e}(e,r[0])),r[1]&&!r[1].error&&(e=function(e,t){if(t&&!t.error){var r,n,i,o,a=t.segments,s=[],u=0;for(r=0,n=a?a.length:0;r<n;r++)i=a[r],(o=te(d,g,e,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,u))&&(s.push(o),o=null,u++);return s.length>0&&(e.segments=s),e}}(e,r[1])),(n=e).mediaFinishedInformation=y.getMediaFinishedInformation(n),function(e){if(E()){var t,r,n=l.getCurrentManifestUpdate(),o=!1;if(n){for(var s=0;s<n.representationInfo.length;s++)if((t=n.representationInfo[s]).index===e.index&&t.mediaType===b()){o=!0;break}o||l.addManifestUpdateRepresentationInfo(e,b())}if(function(){for(var e=0,t=i.length;e<t;e++){var r=i[e].segmentInfoType;if(!i[e].hasInitialization()||(r===m.SEGMENT_BASE||r===m.BASE_URL)&&!i[e].segments)return!1}return!0}()){c.setPlaybackQuality(p,h,(r=a,i.indexOf(r)));var u=l.getCurrentDVRInfo(p);u&&l.updateManifestUpdateInfo({latency:u.range.end-f.getTime()}),l.getCurrentRepresentationSwitch(v().adaptation.type)||A(),w()}}}(e),t()})).catch((function(e){r(e)}))}))}function A(){!function(){if(!(c&&l&&f&&d))throw new Error(fe.MISSING_CONFIG_ERROR)}();var e=new Date,t=v(),r=1e3*f.getTime();t&&l.addRepresentationSwitch(t.adaptation.type,e,r,t.id),s.trigger(H.REPRESENTATION_SWITCH,{mediaType:p,streamId:h.id,currentRepresentation:t,numberOfRepresentations:i.length},{streamId:h.id,mediaType:p})}function I(e){return null==e||e>=i.length?null:i[e]}function w(e){n=!1,s.trigger(u.DATA_UPDATE_COMPLETED,{data:r,currentRepresentation:a,error:e},{streamId:h.id,mediaType:p})}function R(e){a=e,o=_.convertRepresentationToRepresentationInfo(a)}function O(e){if(e.newDuration){var t=v();t&&t.adaptation.period&&(t.adaptation.period.duration=e.newDuration)}}return t={getStreamId:function(){return h.id},getType:b,getData:function(){return r},isUpdating:E,updateData:function(e,t,o,a,s){return new Promise((function(u,c){if(n=!0,i=t,r=e,R(I(s)),o!==fe.VIDEO&&o!==fe.AUDIO&&(o!==fe.TEXT||!a))return w(),void u();for(var l=[],f=0,d=i.length;f<d;f++){var p=i[f];l.push(S(p))}Promise.all(l).then((function(){R(I(s)),u()})).catch((function(e){c(e)}))}))},getCurrentRepresentation:v,getCurrentRepresentationInfo:function(){return o},getRepresentationForQuality:I,prepareQualityChange:function(e){R(I(e)),A()},reset:function(){s.off(H.MANIFEST_VALIDITY_CHANGED,O,t),T()}},T(),s.on(H.MANIFEST_VALIDITY_CHANGED,O,t),t}de.__dashjs_factory_name="RepresentationController";var pe=L.getClassFactory(de),he="loading",me="executed",ye="failed";function ge(e){var t,r,n,i,o=(e=e||{}).eventBus,a=e.events,s=e.dashMetrics,u=e.fragmentLoader,c=e.debug,l=e.streamInfo,f=e.type;function d(e){var t;return!!e&&(t=!1,n.some((function(r){if(n=e,i=r,!isNaN(n.index)&&n.startTime===i.startTime&&n.adaptationIndex===i.adaptationIndex&&n.type===i.type||function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality}(e,r)||function(e,t){return e.action===P.ACTION_COMPLETE&&e.action===t.action}(e,r))return t=!0;var n,i})),t)}function p(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function h(e){n=n.filter((function(t){var r=p(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-r}))}function m(e,t){t<=e+.5||(n=n.filter((function(r){var n=p(r);return isNaN(r.startTime)||r.startTime>=t-n||isNaN(r.duration)||r.startTime+r.duration<=e+n})))}function y(e,t,r){for(var n=e.length-1;n>=0;n--){var i=e[n],o=i.startTime,a=o+i.duration;if(r=isNaN(r)?p(i):r,!isNaN(o)&&!isNaN(a)&&t+r>=o&&t-r<a||isNaN(o)&&isNaN(t))return i}return null}function g(e,t){s.addSchedulingInfo(e,t),s.addRequestsQueue(e.mediaType,i,n)}function _(e){e.sender===u&&(i.splice(i.indexOf(e.request),1),e.response&&!e.error&&n.push(e.request),g(e.request,e.error?ye:me),o.trigger(a.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this},{streamId:l.id,mediaType:f}))}function b(e){e.sender===u&&o.trigger(a.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this},{streamId:l.id,mediaType:f})}function E(e){e.sender===u&&o.trigger(a.FRAGMENT_LOADING_ABANDONED,{request:e.request},{streamId:l.id,mediaType:f})}function v(){n=[],i=[]}return t={getStreamId:function(){return l.id},getType:function(){return f},getRequests:function(e){var t=e?e.state instanceof Array?e.state:[e.state]:[],r=[];return t.forEach((function(t){var o=function(e){var t;switch(e){case he:t=i;break;case me:t=n;break;default:t=[]}return t}(t);r=r.concat(function(e,t){return t.hasOwnProperty("time")?[y(e,t.time,t.threshold)]:e.filter((function(e){for(var r in t)if("state"!==r&&t.hasOwnProperty(r)&&e[r]!=t[r])return!1;return!0}))}(o,e))})),r},isFragmentLoaded:d,isFragmentLoadedOrPending:function(e){var t,r=!1,n=0;if(!(r=d(e)))for(n=0;n<i.length;n++)t=i[n],e.url===t.url&&e.startTime===t.startTime&&(r=!0);return r},removeExecutedRequestsBeforeTime:h,removeExecutedRequestsAfterTime:function(e){n=n.filter((function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime<e}))},syncExecutedRequestsWithBufferedRange:function(e,t){if(e&&0!==e.length){for(var r=0,n=0,i=e.length;n<i;n++)m(r,e.start(n)),r=e.end(n);t>0&&m(r,t)}else h()},abortRequests:function(){r.debug("abort requests"),u.abort(),i=[]},executeRequest:function(e){e.action===P.ACTION_DOWNLOAD?(g(e,he),i.push(e),function(e){o.trigger(a.FRAGMENT_LOADING_STARTED,{request:e},{streamId:l.id,mediaType:f}),u.load(e)}(e)):r.warn("Unknown request action.")},reset:function(){o.off(a.LOADING_COMPLETED,_,this),o.off(a.LOADING_DATA_PROGRESS,b,this),o.off(a.LOADING_ABANDONED,E,this),u&&u.reset(),v()},resetInitialSettings:v,addExecutedRequest:function(e){n.push(e)}},r=c.getLogger(t),v(),o.on(a.LOADING_COMPLETED,_,t),o.on(a.LOADING_DATA_PROGRESS,b,t),o.on(a.LOADING_ABANDONED,E,t),t}ge.__dashjs_factory_name="FragmentModel";var _e=L.getClassFactory(ge);_e.FRAGMENT_MODEL_LOADING=he,_e.FRAGMENT_MODEL_EXECUTED=me,_e.FRAGMENT_MODEL_CANCELED="canceled",_e.FRAGMENT_MODEL_FAILED=ye,L.updateClassFactory(ge.__dashjs_factory_name,_e);var be=_e;function Ee(e,t){var r={url:e.url,method:e.method,headers:Object.assign({},e.headers),credentials:e.withCredentials?"include":void 0,range:e.request.range};return Promise.resolve(t.modifyRequest(r)).then((function(){return Object.assign(e,r,{withCredentials:"include"===r.credentials})}))}function ve(){return{modifyRequest:null,modifyRequestURL:function(e){return e},modifyRequestHeader:function(e,t){return t.url,e}}}ve.__dashjs_factory_name="RequestModifier";var Te=L.getSingletonFactory(ve);function Se(e){var t=(e=e||{}).requestModifier;function r(e){var r=new Date,n=e.request,i=new XMLHttpRequest;if(i.open(e.method,e.url,!0),n.responseType&&(i.responseType=n.responseType),n.range&&i.setRequestHeader("Range","bytes="+n.range),n.requestStartDate||(n.requestStartDate=r),t&&t.modifyRequestHeader&&(i=t.modifyRequestHeader(i,{url:e.url})),e.headers)for(var o in e.headers){var a=e.headers[o];a&&i.setRequestHeader(o,a)}i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.ontimeout=e.ontimeout,i.timeout=e.timeout,i.send(),e.response=i}return{load:function(e){t&&t.modifyRequest?Ee(e,t).then((function(){return r(e)})):r(e)},abort:function(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}}}Se.__dashjs_factory_name="XHRLoader";var Ae=L.getClassFactory(Se),Ie=r(5684),we=r.n(Ie),Re=r(3785);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,De(n.key),n)}}function De(e){var t=function(e){if("object"!=Oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oe(t)?t:t+""}var Pe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,r=[{key:"mixin",value:function(t,r,n){var i,o={};if(t)for(var a in r)r.hasOwnProperty(a)&&(i=r[a],a in t&&(t[a]===i||a in o&&o[a]===i)||("object"===Oe(t[a])&&null!==t[a]?t[a]=e.mixin(t[a],i,n):t[a]=n(i)));return t}},{key:"clone",value:function(t){if(!t||"object"!==Oe(t))return t;var r;if(t instanceof Array){r=[];for(var n=0,i=t.length;n<i;++n)n in t&&r.push(e.clone(t[n]))}else r={};return e.mixin(r,t,e.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(e,t){try{if(!t||0===t.length)return e;var r=new URL(e);return t.forEach((function(e){e.key&&e.value&&r.searchParams.set(e.key,e.value)})),r.href}catch(t){return e}}},{key:"parseHttpHeaders",value:function(e){var t={};if(!e)return t;for(var r=e.trim().split("\r\n"),n=0,i=r.length;n<i;n++){var o=r[n],a=o.indexOf(": ");a>0&&(t[o.substring(0,a)]=o.substring(a+2))}return t}},{key:"generateUuid",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}))}},{key:"generateHashCode",value:function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}},{key:"getRelativeUrl",value:function(e,t){try{var r=new URL(e),n=new URL(t);if(r.protocol=n.protocol,r.origin!==n.origin)return t;var i=we().relative(r.pathname.substr(0,r.pathname.lastIndexOf("/")),n.pathname.substr(0,n.pathname.lastIndexOf("/"))),o=0===i.length?1:0;return i+=n.pathname.substr(n.pathname.lastIndexOf("/")+o,n.pathname.length-1),n.pathname.length<i.length?n.pathname:i}catch(e){return t}}},{key:"parseUserAgent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t=null===e&&"undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";return(0,Re.UAParser)(t)}catch(e){return{}}}},{key:"stringHasProtocol",value:function(e){return/(http(s?)):\/\//i.test(e)}}],null&&Ne(t.prototype,null),r&&Ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(),Ce=Pe;function Le(){var e={};function t(t,r,n){var i=-1;return e[t]?(e[t].some((function(e,t){if(e&&e.callback===r&&(!n||n===e.scope))return i=t,!0})),i):i}var r={on:function(r,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!r)throw new Error("event type cannot be null or undefined");if(!n||"function"!=typeof n)throw new Error("listener must be a function: "+n);var a=o.priority||0;if(!(t(r,n,i)>=0)){e[r]=e[r]||[];var s={callback:n,scope:i,priority:a};i&&i.getStreamId&&(s.streamId=i.getStreamId()),i&&i.getType&&(s.mediaType=i.getType()),o&&o.mode&&(s.mode=o.mode),e[r].some((function(t,n){if(t&&a>t.priority)return e[r].splice(n,0,s),!0}))||e[r].push(s)}},off:function(r,n,i){if(r&&n&&e[r]){var o=t(r,n,i);o<0||(e[r][o]=null)}},trigger:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&e[t]){if((r=r||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");r.type=t,n.streamId&&(r.streamId=n.streamId),n.mediaType&&(r.mediaType=n.mediaType),e[t].filter((function(e){return!(!e||n.streamId&&e.streamId&&e.streamId!==n.streamId||n.mediaType&&e.mediaType&&e.mediaType!==n.mediaType||n.mode&&e.mode&&e.mode!==n.mode||!e.mode&&n.mode&&n.mode===H.EVENT_MODE_ON_RECEIVE)})).forEach((function(e){return e&&e.callback.call(e.scope,r)}))}},reset:function(){e={}}};return r}Le.__dashjs_factory_name="EventBus";var Me=L.getSingletonFactory(Le);Me.EVENT_PRIORITY_LOW=0,Me.EVENT_PRIORITY_HIGH=5e3,L.updateSingletonFactory(Le.__dashjs_factory_name,Me);var Fe=Me;function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Ue(e,t,r){return t=je(t),function(e,t){if(t&&("object"==xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Be()?Reflect.construct(t,r||[],je(e).constructor):t.apply(e,r))}function Be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Be=function(){return!!e})()}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ke(e,t)}function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ge(e,t,r){return t=Ye(t),function(e,t){if(t&&("object"==qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,He()?Reflect.construct(t,r||[],Ye(e).constructor):t.apply(e,r))}function He(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(He=function(){return!!e})()}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ye(e)}function Ve(e,t){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ve(e,t)}var ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ge(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ve(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ue(this,t)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",e.BUFFERING_COMPLETED="bufferingCompleted",e.BUFFER_CLEARED="bufferCleared",e.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",e.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",e.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",e.CMSD_STATIC_HEADER="cmsdStaticHeader",e.CURRENT_TRACK_CHANGED="currentTrackChanged",e.DATA_UPDATE_COMPLETED="dataUpdateCompleted",e.INBAND_EVENTS="inbandEvents",e.INITIAL_STREAM_SWITCH="initialStreamSwitch",e.INIT_FRAGMENT_LOADED="initFragmentLoaded",e.INIT_FRAGMENT_NEEDED="initFragmentNeeded",e.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",e.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",e.LOADING_COMPLETED="loadingCompleted",e.LOADING_PROGRESS="loadingProgress",e.LOADING_DATA_PROGRESS="loadingDataProgress",e.LOADING_ABANDONED="loadingAborted",e.MANIFEST_UPDATED="manifestUpdated",e.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",e.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",e.QUOTA_EXCEEDED="quotaExceeded",e.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",e.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",e.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",e.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",e.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",e.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",e.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",e.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",e.SOURCE_BUFFER_ERROR="sourceBufferError",e.STREAMS_COMPOSED="streamsComposed",e.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",e.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",e.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",e.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",e.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",e.URL_RESOLUTION_FAILED="urlResolutionFailed",e.VIDEO_CHUNK_RECEIVED="videoChunkReceived",e.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",e.XLINK_ELEMENT_LOADED="xlinkElementLoaded",e.XLINK_READY="xlinkReady",e.SEEK_TARGET="seekTarget",e.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",e.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",e.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",e.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",e.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(U)),We=new ze,Xe=1,Ke=2,Qe=3,$e=4,Ze=5;function Je(e){e=e||{};var t,r,n,i,o=this.context,a=Fe(o).getInstance(),s=e.settings,u=[];function c(e){return e&&e.bind?e.bind(window.console):window.console.log.bind(window.console)}function l(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];m.apply(void 0,[Xe,this].concat(t))}function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];m.apply(void 0,[Ke,this].concat(t))}function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];m.apply(void 0,[Qe,this].concat(t))}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];m.apply(void 0,[$e,this].concat(t))}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];m.apply(void 0,[Ze,this].concat(t))}function m(e,t){var o="",c=null;r&&(c=(new Date).getTime(),o+="["+(c-i)+"]"),n&&t&&t.getClassName&&(o+="["+t.getClassName()+"]",t.getType&&(o+="["+t.getType()+"]")),o.length>0&&(o+=" ");for(var l=arguments.length,f=new Array(l>2?l-2:0),d=2;d<l;d++)f[d-2]=arguments[d];Array.apply(null,f).forEach((function(e){o+=e+" "})),u[e]&&s&&s.get().debug.logLevel>=e&&u[e](o),s&&s.get().debug.dispatchEvent&&a.trigger(We.LOG,{message:o,level:e})}return t={getLogger:function(e){return{fatal:l.bind(e),error:f.bind(e),warn:d.bind(e),info:p.bind(e),debug:h.bind(e)}},setLogTimestampVisible:function(e){r=e},setCalleeNameVisible:function(e){n=e}},r=!0,n=!0,i=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(u[Xe]=c(window.console.error),u[Ke]=c(window.console.error),u[Qe]=c(window.console.warn),u[$e]=c(window.console.info),u[Ze]=c(window.console.debug)),t}Je.__dashjs_factory_name="Debug";var et=L.getSingletonFactory(Je);et.LOG_LEVEL_NONE=0,et.LOG_LEVEL_FATAL=Xe,et.LOG_LEVEL_ERROR=Ke,et.LOG_LEVEL_WARNING=Qe,et.LOG_LEVEL_INFO=$e,et.LOG_LEVEL_DEBUG=Ze,L.updateSingletonFactory(Je.__dashjs_factory_name,et);var tt=et;function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function nt(e,t,r){return(t=function(e){var t=function(e){if("object"!=rt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function it(){var e=this.context,t=Fe(e).getInstance(),r={"streaming.delay.liveDelay":We.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":We.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":We.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":We.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":We.SETTING_UPDATED_PLAYBACK_RATE_MAX},n={debug:{logLevel:tt.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,liveUpdateTimeThresholdInMilliseconds:0,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,dispatchForManualRendering:!1,extendSegmentedCues:!0,imsc:{displayForcedOnlyMode:!1,enableRollUp:!0},webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:fe.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:fe.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:fe.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:fe.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:nt(nt(nt(nt(nt(nt(nt(nt(nt(nt({},w.MPD_TYPE,500),w.XLINK_EXPANSION_TYPE,500),w.MEDIA_SEGMENT_TYPE,1e3),w.INIT_SEGMENT_TYPE,1e3),w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),w.INDEX_SEGMENT_TYPE,1e3),w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),w.LICENSE,1e3),w.OTHER_TYPE,1e3),"lowLatencyReductionFactor",10),retryAttempts:nt(nt(nt(nt(nt(nt(nt(nt(nt(nt({},w.MPD_TYPE,3),w.XLINK_EXPANSION_TYPE,1),w.MEDIA_SEGMENT_TYPE,3),w.INIT_SEGMENT_TYPE,3),w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),w.INDEX_SEGMENT_TYPE,3),w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),w.LICENSE,3),w.OTHER_TYPE,3),"lowLatencyMultiplyFactor",5),abr:{movingAverageMethod:fe.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:fe.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},abrRulesParameters:{abandonRequestsRule:{graceTimeThreshold:500,abandonMultiplier:1.8,minLengthToAverage:5}},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:fe.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:fe.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},i=Ce.clone(n);function o(e,n,i){for(var a in e)e.hasOwnProperty(a)&&(n.hasOwnProperty(a)?"object"!==rt(e[a])||e[a]instanceof Array||null===e[a]?(n[a]=Ce.clone(e[a]),r[i+a]&&t.trigger(r[i+a])):o(e[a],n[a],i.slice()+a+"."):console.error("Settings parameter "+i+a+" is not supported"))}return{get:function(){return i},update:function(e){"object"===rt(e)&&o(e,i,"")},reset:function(){i=Ce.clone(n)}}}it.__dashjs_factory_name="Settings";var ot=L.getSingletonFactory(it);function at(e,t){if(e){if("string"==typeof e)return st(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ut(e){e=e||{};var t,r,n=this.context,i=e.requestModifier,o=e.lowLatencyThroughputModel,a=e.boxParser,s=ot(n).getInstance();function u(e){var t,n=new Date,u=e.request,f=new Headers;if(u.range&&f.append("Range","bytes="+u.range),e.headers)for(var d in e.headers){var p=e.headers[d];p&&f.append(d,p)}u.requestStartDate||(u.requestStartDate=n),i&&i.modifyRequestHeader&&i.modifyRequestHeader({setRequestHeader:function(e,t){f.append(e,t)}},{url:e.url}),"function"==typeof window.AbortController&&(t=new AbortController,e.abortController=t,t.signal.onabort=e.onabort);var h={method:e.method,headers:f,credentials:e.withCredentials?"include":void 0,signal:t?t.signal:void 0},m=s.get().streaming.abr.fetchThroughputCalculationMode,y=Date.now(),g=0;new Promise((function(e){if(m===fe.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&o&&(g=o.getThroughputCapacityDelayMS(u,1e3*r.getCurrentBufferLevel(u.mediaType))))return setTimeout(e,g);e()})).then((function(){var t=Date.now();fetch(e.url,h).then((function(n){e.response||(e.response={}),e.response.status=n.status,e.response.statusText=n.statusText,e.response.responseURL=n.url,n.ok||e.onerror();var i,s="",f=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=at(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(a)throw i}}}}(n.headers.keys());try{for(f.s();!(i=f.n()).done;){var d=i.value;s+=d+": "+n.headers.get(d)+"\r\n"}}catch(e){f.e(e)}finally{f.f()}if(e.response.responseHeaders=s,!n.body)return n.arrayBuffer().then((function(t){e.response.response=t;var r={loaded:t.byteLength,total:t.byteLength,stream:!1};e.progress(r),e.onload(),e.onend()}));var p,h,_,b,E=parseInt(n.headers.get("Content-Length"),10),v=0,T=!1,S=new Uint8Array,A=0;if(m===fe.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&o){var I=t,w=0,R=(_=n.body.tee(),b=2,function(e){if(Array.isArray(e))return e}(_)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(_,b)||at(_,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=R[0],N=R[1];p=O.getReader(),h=[],p.read().then((function n(i){var a=i.value,c=i.done;if(w=Date.now(),a&&a.length){var l=w-I,f=a.length;h.push({chunkDownloadTimeRelativeMS:w-t,chunkDownloadDurationMS:l,chunkBytes:f,kbps:Math.round(8*f/(l/1e3)),bufferLevel:r.getCurrentBufferLevel(u.mediaType)})}if(c){var d=w-t,m=h.reduce((function(e,t){return e+t.chunkBytes}),0);return o.addMeasurement(u,d,h,y,g,s),void e.progress({loaded:m,total:m,lengthComputable:!0,time:o.getEstimatedDownloadDurationMS(u),stream:!0})}return I=Date.now(),p.read().then(n)})),e.reader=N.getReader()}else e.reader=n.body.getReader();var D=[],P=[],C=[],L=!0,M=function(t){var r=t.value;if(t.done){if(S){if(m!==fe.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var n=null,i=null;m===fe.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(n=function(e,t){try{var r,n;r=e.filter((function(t,r){return r<e.length-1})),n=t.filter((function(e,r){return r<t.length-1}));var i=[];if(r.length>1){for(var o=0,a=0,s=0;s<r.length;s++)if(r[s]&&n[s]){var u=n[s].ts-r[s].ts;if(u>1)i.push(8*n[s].bytes/u),a=0;else{0===a&&(a=r[s].ts,o=0);var c=n[s].ts-a;c>1?(o+=n[s].bytes,i.push(8*o/c),a=0):o+=n[s].bytes}}if(i.length>0)return i.reduce((function(e,t){return e+t}),0)/i.length}return null}catch(e){return null}}(P,C),n&&(i=8*v/n)):m===fe.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(i=l(D,v)),e.progress({loaded:v,total:isNaN(E)?v:E,lengthComputable:!0,time:i,stream:!0})}e.response.response=S.buffer}return e.onload(),void e.onend()}if(r&&r.length>0){S=function(e,t){if(0===e.length)return t;var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(S,r),v+=r.length,D.push({ts:Date.now(),bytes:r.length}),m===fe.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&L&&a.findLastTopIsoBoxCompleted(["moof"],S,A).found&&(L=!1,P.push({ts:performance.now(),bytes:r.length}));var o=a.findLastTopIsoBoxCompleted(["moov","mdat"],S,A);if(o.found){var s,u=o.lastCompletedOffset+o.size;m!==fe.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||L||(L=!0,C.push({ts:performance.now(),bytes:S.length})),u===S.length?(s=S,S=new Uint8Array):(s=new Uint8Array(S.subarray(0,u)),S=S.subarray(u)),e.progress({data:s.buffer,lengthComputable:!1,noTrace:!0}),A=0}else A=o.lastCompletedOffset,T||(e.progress({lengthComputable:!1,noTrace:!0}),T=!0)}c(e,M)};c(e,M)})).catch((function(t){e.onerror&&e.onerror(t)}))}))}function c(e,t){e.reader.read().then(t).catch((function(t){e.onerror&&200===e.response.status&&e.onerror(t)}))}function l(e,t){try{if((e=e.filter((function(r){return r.bytes>t/4/e.length}))).length>1){var r=0,n=(e[e.length-1].ts-e[0].ts)/e.length;return e.forEach((function(t,i){var o=e[i+1];if(o){var a=o.ts-t.ts;r+=a<n?a:0}})),r}return null}catch(e){return null}}return t={load:function(e){i&&i.modifyRequest?Ee(e,i).then((function(){return u(e)})):u(e)},abort:function(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel(),e.onabort()}catch(e){}},calculateDownloadedTime:l,setup:function(e){r=e.dashMetrics}},t}ut.__dashjs_factory_name="FetchLoader";var ct=L.getClassFactory(ut);function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pt(n.key),n)}}function dt(e,t,r){return t&&ft(e.prototype,t),r&&ft(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pt(e){var t=function(e){if("object"!=lt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==lt(t)?t:t+""}var ht=dt((function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code=t||null,this.message=r||null,this.data=n||null}));function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function yt(e,t,r){return t=_t(t),function(e,t){if(t&&("object"==mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gt()?Reflect.construct(t,r||[],_t(e).constructor):t.apply(e,r))}function gt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gt=function(){return!!e})()}function _t(e){return _t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_t(e)}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}var Et=new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=yt(this,t)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",e.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",e.CMCD_DATA_GENERATED="cmcdDataGenerated",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(U));function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function Tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,St(n.key),n)}}function St(e){var t=function(e){if("object"!=vt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vt(t)?t:t+""}var At=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null},(t=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==oe.BASE_URL&&this.segmentInfoType!==oe.SEGMENT_BASE&&!this.indexRange}}])&&Tt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ot(n.key),n)}}function Rt(e,t,r){return t&&wt(e.prototype,t),r&&wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ot(e){var t=function(e){if("object"!=It(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=It(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==It(t)?t:t+""}var Nt=Rt((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.period=null,this.index=-1,this.type=null}));function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lt(n.key),n)}}function Ct(e,t,r){return t&&Pt(e.prototype,t),r&&Pt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lt(e){var t=function(e){if("object"!=Dt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dt(t)?t:t+""}var Mt=Ct((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null}));Mt.DEFAULT_ID="defaultId";var Ft=Mt;function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function Ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jt(n.key),n)}}function Bt(e,t,r){return t&&Ut(e.prototype,t),r&&Ut(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jt(e){var t=function(e){if("object"!=xt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xt(t)?t:t+""}var kt=Bt((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN}));function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Gt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yt(n.key),n)}}function Ht(e,t,r){return t&&Gt(e.prototype,t),r&&Gt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yt(e){var t=function(e){if("object"!=qt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qt(t)?t:t+""}var Vt=Ht((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""}));function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kt(n.key),n)}}function Xt(e,t,r){return t&&Wt(e.prototype,t),r&&Wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kt(e){var t=function(e){if("object"!=zt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zt(t)?t:t+""}var Qt=Xt((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN}));function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function Zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,er(n.key),n)}}function Jt(e,t,r){return t&&Zt(e.prototype,t),r&&Zt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function er(e){var t=function(e){if("object"!=$t(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$t(t)?t:t+""}var tr=Jt((function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||"",this.serviceLocation=r||t||"",this.dvbPriority=n||1,this.dvbWeight=i||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}}));tr.DEFAULT_DVB_PRIORITY=1,tr.DEFAULT_DVB_WEIGHT=1;var rr=tr;function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function ir(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ar(n.key),n)}}function or(e,t,r){return t&&ir(e.prototype,t),r&&ir(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ar(e){var t=function(e){if("object"!=nr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nr(t)?t:t+""}var sr=or((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0}));function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fr(n.key),n)}}function lr(e,t,r){return t&&cr(e.prototype,t),r&&cr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fr(e){var t=function(e){if("object"!=ur(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ur(t)?t:t+""}var dr=lr((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null}));function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function hr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yr(n.key),n)}}function mr(e,t,r){return t&&hr(e.prototype,t),r&&hr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yr(e){var t=function(e){if("object"!=pr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pr(t)?t:t+""}var gr=mr((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0}));function _r(e){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(e)}function br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Er(n.key),n)}}function Er(e){var t=function(e){if("object"!=_r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_r(t)?t:t+""}var vr=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri=null,this.value=null,this.id=null},(t=[{key:"init",value:function(e){return e&&(this.schemeIdUri=e.schemeIdUri?e.schemeIdUri:null,this.value=e.value?e.value:null,this.id=e.id?e.id:null,e[oe.DVB_URL]&&(this.dvbUrl=e[oe.DVB_URL]),e[oe.DVB_MIMETYPE]&&(this.dvbMimeType=e[oe.DVB_MIMETYPE]),e[oe.DVB_FONTFAMILY]&&(this.dvbFontFamily=e[oe.DVB_FONTFAMILY])),this}}])&&br(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),Tr=r(426),Sr=r.n(Tr);function Ar(){return{areEqual:function(e,t){return Sr()(e,t)}}}Ar.__dashjs_factory_name="ObjectUtils";var Ir=L.getSingletonFactory(Ar);function wr(){var e,t=/^[a-z][a-z0-9+\-_.]*:/i,r=/^https?:\/\//i,n=/^https:\/\//i,i=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,o=function(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}},a=function(e,t){var r=s;if(!t)return e;if(!l(e))return e;f(e)&&(r=u),d(e)&&(r=c);var n=r(t),i="/"!==n.charAt(n.length-1)&&"/"!==e.charAt(0)?"/":"";return[n,e].join(i)};function s(e){var t=e.indexOf("/"),r=e.lastIndexOf("/");return-1!==t?r===t+1?e:(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,r+1)):""}function u(e){var t=e.match(i);return t?t[1]:""}function c(e){var r=e.match(t);return r?r[0]:""}function l(e){return!t.test(e)}function f(e){return l(e)&&"/"===e.charAt(0)}function d(e){return 0===e.indexOf("//")}return function(){try{new window.URL("x","http://y"),e=o}catch(e){}finally{e=e||a}}(),{parseBaseUrl:s,parseOrigin:u,parseScheme:c,isRelative:l,isPathAbsolute:f,isSchemeRelative:d,isHTTPURL:function(e){return r.test(e)},isHTTPS:function(e){return n.test(e)},removeHostname:function(e){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(e)[2].substring(1)},resolve:function(t,r){return e(t,r)}}}wr.__dashjs_factory_name="DefaultURLUtils";var Rr=L.getSingletonFactory(wr);function Or(){var e,t=[],r=this.context;function n(r,n,i){var o=function(r){var n;for(n=0;n<t.length;n++)if(t[n].regex.test(r))return t[n].utils;return e}(i||n);return o&&"function"==typeof o[r]?o[r](n,i):e[r](n,i)}return e=Rr(r).getInstance(),{registerUrlRegex:function(e,r){t.push({regex:e,utils:r})},parseBaseUrl:function(e){return n("parseBaseUrl",e)},parseOrigin:function(e){return n("parseOrigin",e)},parseScheme:function(e){return n("parseScheme",e)},isRelative:function(e){return n("isRelative",e)},isPathAbsolute:function(e){return n("isPathAbsolute",e)},isSchemeRelative:function(e){return n("isSchemeRelative",e)},isHTTPURL:function(e){return n("isHTTPURL",e)},isHTTPS:function(e){return n("isHTTPS",e)},removeHostname:function(e){return n("removeHostname",e)},resolve:function(e,t){return n("resolve",e,t)}}}Or.__dashjs_factory_name="URLUtils";var Nr=L.getSingletonFactory(Or);function Dr(e){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function Pr(e,t,r){return t=Lr(t),function(e,t){if(t&&("object"==Dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cr()?Reflect.construct(t,r||[],Lr(e).constructor):t.apply(e,r))}function Cr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Cr=function(){return!!e})()}function Lr(e){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lr(e)}function Mr(e,t){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mr(e,t)}var Fr=new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Pr(this,t)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,e.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,e.SEGMENT_BASE_LOADER_ERROR_CODE=15,e.TIME_SYNC_FAILED_ERROR_CODE=16,e.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,e.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,e.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,e.APPEND_ERROR_CODE=20,e.REMOVE_ERROR_CODE=21,e.DATA_UPDATE_FAILED_ERROR_CODE=22,e.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,e.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,e.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,e.DOWNLOAD_ERROR_ID_SIDX_CODE=26,e.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,e.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,e.DOWNLOAD_ERROR_ID_XLINK_CODE=29,e.MANIFEST_ERROR_ID_PARSE_CODE=31,e.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,e.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,e.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,e.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",e.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",e.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",e.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",e.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",e.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",e.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",e.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",e.APPEND_ERROR_MESSAGE="chunk is not defined",e.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",e.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",e.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",e.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",e.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",e.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mr(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(p));function xr(e){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(e)}function Ur(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jr(n.key),n)}}function Br(e,t,r){return t&&Ur(e.prototype,t),r&&Ur(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jr(e){var t=function(e){if("object"!=xr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xr(t)?t:t+""}var kr=Br((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}));function qr(e){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(e)}function Gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hr(n.key),n)}}function Hr(e){var t=function(e){if("object"!=qr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qr(t)?t:t+""}var Yr=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=t._offset,this.type=t.type,this.size=t.size,this.boxes=[],t.boxes)for(var r=0;r<t.boxes.length;r++)this.boxes.push(new e(t.boxes[r]));switch(this.isComplete=!0,t.type){case"sidx":if(this.timescale=t.timescale,this.earliest_presentation_time=t.earliest_presentation_time,this.first_offset=t.first_offset,this.references=t.references,t.references){this.references=[];for(var n=0;n<t.references.length;n++){var i={reference_type:t.references[n].reference_type,referenced_size:t.references[n].referenced_size,subsegment_duration:t.references[n].subsegment_duration};this.references.push(i)}}break;case"emsg":this.id=t.id,this.version=1===t.version?1:0,this.value=t.value,this.timescale=t.timescale,this.scheme_id_uri=t.scheme_id_uri,this.presentation_time_delta=1===t.version?t.presentation_time:t.presentation_time_delta,this.event_duration=t.event_duration,this.message_data=t.message_data;break;case"mdhd":this.timescale=t.timescale;break;case"mfhd":this.sequence_number=t.sequence_number;break;case"subs":this.entry_count=t.entry_count,this.entries=t.entries;break;case"tfhd":this.base_data_offset=t.base_data_offset,this.sample_description_index=t.sample_description_index,this.default_sample_duration=t.default_sample_duration,this.default_sample_size=t.default_sample_size,this.default_sample_flags=t.default_sample_flags,this.flags=t.flags;break;case"tfdt":this.version=t.version,this.baseMediaDecodeTime=t.baseMediaDecodeTime,this.flags=t.flags;break;case"trun":if(this.sample_count=t.sample_count,this.first_sample_flags=t.first_sample_flags,this.data_offset=t.data_offset,this.flags=t.flags,this.samples=t.samples,t.samples){this.samples=[];for(var o=0,a=t.samples.length;o<a;o++){var s={sample_size:t.samples[o].sample_size,sample_duration:t.samples[o].sample_duration,sample_composition_time_offset:t.samples[o].sample_composition_time_offset};this.samples.push(s)}}break;case"prft":this.version=t.version,this.reference_track_ID=t.reference_track_ID,this.ntp_timestamp_sec=t.ntp_timestamp_sec,this.ntp_timestamp_frac=t.ntp_timestamp_frac,this.media_time=t.media_time,this.flags=t.flags}},(t=[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],r=0;r<this.boxes.length;r++)this.boxes[r].type===e&&t.push(this.boxes[r]);return t}}])&&Gr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Vr(){var e;function t(t){var n=[];if(!t||!e||"function"!=typeof e.fetchAll)return n;for(var i,o=e.fetchAll(t),a=0,s=o.length;a<s;a++)(i=r(o[a]))&&n.push(i);return n}function r(e){if(!e)return null;var t=new Yr(e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}return{getBox:function(t){return t&&e&&e.boxes&&0!==e.boxes.length&&"function"==typeof e.fetch?r(e.fetch(t)):null},getBoxes:t,setData:function(t){e=t},getLastBox:function(){if(!e||!e.boxes||!e.boxes.length)return null;var r=t(e.boxes[e.boxes.length-1].type);return r.length>0?r[r.length-1]:null}}}Vr.__dashjs_factory_name="IsoFile";var zr=L.getClassFactory(Vr),Wr=r(8667);function Xr(e){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(e)}function Kr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$r(n.key),n)}}function Qr(e,t,r){return t&&Kr(e.prototype,t),r&&Kr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $r(e){var t=function(e){if("object"!=Xr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xr(t)?t:t+""}var Zr=Qr((function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastCompletedOffset=t,this.found=r,this.size=n}));function Jr(){var e,t,r=this.context;function n(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=Wr.parseBuffer(e),n=zr(r).create();return n.setData(t),n}function i(e,t){return e[t+3]>>>0|e[t+2]<<8>>>0|e[t+1]<<16>>>0|e[t]<<24>>>0}function o(e,t){return String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t])}return t={parse:n,findLastTopIsoBoxCompleted:function(e,t,r){if(void 0===r&&(r=0),!t||r+8>=t.byteLength)return new Zr(0,!1);for(var n,a=t instanceof ArrayBuffer?new Uint8Array(t):t,s=0;r<a.byteLength;){var u=i(a,r),c=o(a,r+4);if(0===u)break;r+u<=a.byteLength&&(e.indexOf(c)>=0?n=new Zr(r,!0,u):s=r+u),r+=u}return n||new Zr(s,!1)},getMediaTimescaleFromMoov:function(e){var t=n(e),r=t?t.getBox("mdhd"):void 0;return r?r.timescale:NaN},getSamplesInfo:function(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var t,r,i,o,a,s,u,c,l,f,d,p,h,m,y,g,_=n(e),b=_.getBoxes("moof"),E=_.getBoxes("mfhd");y=_.getBoxes("moof").length,m=E[E.length-1].sequence_number,r=0,a=[];var v=-1,T=-1;for(f=0;f<b.length;f++){var S=b[f],A=S.getChildBoxes("traf");for(c=0;c<A.length;c++){var I=A[c],w=I.getChildBox("tfhd"),R=I.getChildBox("tfdt");o=R.baseMediaDecodeTime;var O=I.getChildBoxes("trun"),N=I.getChildBoxes("subs");for(l=0;l<O.length;l++){var D=O[l];for(r=D.sample_count,h=(w.base_data_offset||0)+(D.data_offset||0),u=0;u<r;u++){t=void 0!==(s=D.samples[u]).sample_duration?s.sample_duration:w.default_sample_duration,i=void 0!==s.sample_size?s.sample_size:w.default_sample_size;var P={dts:o,cts:o+(void 0!==s.sample_composition_time_offset?s.sample_composition_time_offset:0),duration:t,offset:S.offset+h,size:i,subSizes:[i]};if(N)for(d=0;d<N.length;d++){var C=N[d];if(v<C.entry_count-1&&u>T&&(v++,T+=C.entries[v].sample_delta),u==T){P.subSizes=[];var L=C.entries[v];for(p=0;p<L.subsample_count;p++)P.subSizes.push(L.subsamples[p].subsample_size)}}a.push(P),h+=i,o+=t}}g=o-R.baseMediaDecodeTime}}return{sampleList:a,lastSequenceNumber:m,totalDuration:g,numSequences:y}},findInitRange:function(t){var r=null,i=n(t);if(!i)return r;var o=i.getBox("ftyp"),a=i.getBox("moov");return e.debug("Searching for initialization."),a&&a.isComplete&&(r=(o?o.offset:a.offset)+"-"+(a.offset+a.size-1),e.debug("Found the initialization.  Range: "+r)),r},parsePayload:function(e,t,r){if(void 0===r&&(r=0),!t||r+8>=t.byteLength)return new Zr(0,!1);for(var n,a=t instanceof ArrayBuffer?new Uint8Array(t):t,s=0;r<a.byteLength;){var u=i(a,r),c=o(a,r+4);if(0===u)break;r+u<=a.byteLength&&(e.indexOf(c)>=0?n=new Zr(r,!0,u,c):s=r+u),r+=u}return n||new Zr(s,!1)}},e=tt(r).getInstance().getLogger(t),t}Jr.__dashjs_factory_name="BoxParser";var en=L.getSingletonFactory(Jr);function tn(e,t){var r=(e=e||{}).timelineConverter,n=e.dashMetrics;function i(){if(!r)throw new Error(fe.MISSING_CONFIG_ERROR)}function o(e,t){var r,n,i,o,s,u,c,l=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,f=l.SegmentTimeline,d=l.SegmentURL_asArray,p=0,h=-1;c=e.timescale;var m=!1;for(i=0,o=(r=f.S_asArray).length;i<o&&!m;i++)for(u=0,(n=r[i]).hasOwnProperty("r")&&(u=n.r),n.hasOwnProperty("t")&&(p=n.t),u<0&&(u=a(e,r[i+1],n,c,p/c)),s=0;s<=u&&!m;s++)(m=t(p,l,d,n,c,++h,i))&&(e.segmentDuration=n.d/c),p+=n.d}function a(e,t,i,o,a){var s;if(t&&t.hasOwnProperty("t"))s=t.t/o;else try{var u=0;if(isNaN(e.adaptation.period.start)||isNaN(e.adaptation.period.duration)||!isFinite(e.adaptation.period.duration)){var c=n.getCurrentDVRInfo();u=isNaN(c.end)?0:c.end}else u=e.adaptation.period.start+e.adaptation.period.duration;s=r.calcMediaTimeFromPresentationTime(u,e),e.segmentDuration=i.d/o}catch(e){s=0}return Math.max(Math.ceil((s-a)/(i.d/o))-1,0)}return{getSegmentByIndex:function(e,n,a){if(i(),!e)return null;var s=null,u=!1;return o(e,(function(n,i,o,c,l,f,d){if(u||a<0){var p=i.media,h=c.mediaRange;return o&&(p=o[d].media||"",h=o[d].mediaRange),s=te(r,t,e,n,c.d,l,p,h,f,c.tManifest),!0}return n>=a*l-.5*c.d&&(u=!0),!1})),s},getSegmentByTime:function(e,n){if(i(),!e)return null;void 0===n&&(n=null);var a=null,s=r.calcMediaTimeFromPresentationTime(n,e);return o(e,(function(n,i,o,u,c,l,f){var d=parseFloat((s*c).toPrecision(15));if(d<n+u.d&&d>=n){var p=i.media,h=u.mediaRange;return o&&(p=o[f].media||"",h=o[f].mediaRange),a=te(r,t,e,n,u.d,c,p,h,l,u.tManifest),!0}return!1})),a},getMediaFinishedInformation:function(e){if(!e)return 0;var t,r,n,i,o,s,u,c=(e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList).SegmentTimeline,l=0,f=0,d=0;for(u=e.timescale,i=(t=c.S_asArray).length,n=0;n<i;n++)for(s=0,(r=t[n]).hasOwnProperty("r")&&(s=r.r),r.hasOwnProperty("t")&&(f=(l=r.t)/u),s<0&&(s=a(e,t[n+1],r,u,f)),o=0;o<=s;o++)d++,f=(l+=r.d)/u;return{numberOfSegments:d,mediaTimeOfLastSignaledSegment:f}}}}tn.__dashjs_factory_name="TimelineSegmentsGetter";var rn=L.getClassFactory(tn);function nn(e,t){var r=(e=e||{}).timelineConverter;function n(){if(!r||!r.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(fe.MISSING_CONFIG_ERROR)}function i(e,i){if(n(),!e)return null;var o=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate;i=Math.max(i,0);var a=ee(r,t,e,i);if(a){a.replacementTime=Math.round((i-1)*e.segmentDuration*e.timescale,10);var s=o.media;s=$(s,"Number",a.replacementNumber),s=$(s,"Time",a.replacementTime),a.media=s}return a}return{getSegmentByIndex:i,getSegmentByTime:function(e,t){if(n(),!e)return null;var o=e.segmentDuration;if(isNaN(o))return null;var a=r.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return i(e,Math.floor(a/o))},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!e)return t;var r=e.segmentDuration;return isNaN(r)?t.numberOfSegments=1:t.numberOfSegments=Math.ceil(e.adaptation.period.duration/r),t}}}nn.__dashjs_factory_name="TemplateSegmentsGetter";var on=L.getClassFactory(nn);function an(e,t){var r=(e=e||{}).timelineConverter;function n(){if(!r||!r.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(fe.MISSING_CONFIG_ERROR)}function i(e,i){if(n(),!e)return null;var o=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,a=o.SegmentURL_asArray.length,s=e&&!isNaN(e.startNumber)?e.startNumber:1,u=Math.max(s-1,0),c=Math.max(i-u,0),l=null;if(c<a){var f=o.SegmentURL_asArray[c];(l=ee(r,t,e,i))&&(l.replacementTime=(s+i-1)*e.segmentDuration,l.media=f.media?f.media:"",l.mediaRange=f.mediaRange,l.indexRange=f.indexRange)}return l}return{getSegmentByIndex:i,getSegmentByTime:function(e,t){if(n(),!e)return null;var o=e.segmentDuration;if(isNaN(o))return null;var a=r.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return i(e,Math.floor(a/o))},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!e)return t;var r=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,n=e&&!isNaN(e.startNumber)?e.startNumber:1,i=Math.max(n-1,0);return t.numberOfSegments=i+r.SegmentURL_asArray.length,t}}}an.__dashjs_factory_name="ListSegmentsGetter";var sn=L.getClassFactory(an);function un(e){var t=(e=e||{}).timelineConverter;function r(){if(!t||!t.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(fe.MISSING_CONFIG_ERROR)}function n(e,t){if(r(),!e)return null;var n,i=e.segments?e.segments.length:-1;if(t<i&&(n=e.segments[t])&&n.index===t)return n;for(var o=0;o<i;o++)if((n=e.segments[o])&&n.index===t)return n;return null}return{getSegmentByIndex:n,getSegmentByTime:function(e,t){r();var i=function(e,t){if(!e)return-1;var r,n,i,o,a,s=e.segments,u=s?s.length:null,c=-1;if(s&&u>0)for(a=0;a<u;a++)if(i=(n=s[a]).presentationStartTime,t+(r=(o=n.duration)/2)>=i&&t-r<i+o){c=n.index;break}return c}(e,t);return n(e,i)},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return e&&e.segments?(t.numberOfSegments=e.segments.length,t):t}}}un.__dashjs_factory_name="SegmentBaseGetter";var cn=L.getClassFactory(un);function ln(e){e=e||{};var t,r,n=this.context,i=e.dashConstants,o=e.type,a=e.segmentBaseController;function s(e){return e?e.segments?r[i.SEGMENT_BASE]:r[e.segmentInfoType]:null}return t={initialize:function(t){r[i.SEGMENT_TIMELINE]=rn(n).create(e,t),r[i.SEGMENT_TEMPLATE]=on(n).create(e,t),r[i.SEGMENT_LIST]=sn(n).create(e,t),r[i.SEGMENT_BASE]=cn(n).create(e,t)},updateInitData:function(e,t){return t?Promise.resolve():a.getSegmentBaseInitSegment({representation:e,mediaType:o})},updateSegmentData:function(e,t){return t?Promise.resolve():a.getSegmentList({mimeType:e.mimeType,representation:e,mediaType:o})},getSegmentByIndex:function(e,t,r){var n=s(e);return n?n.getSegmentByIndex(e,t,r):null},getSegmentByTime:function(e,t){var r=s(e);return r?r.getSegmentByTime(e,t):null},getMediaFinishedInformation:function(e){var t=s(e);return t?t.getMediaFinishedInformation(e):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},r={},t}ln.__dashjs_factory_name="SegmentsController";var fn=L.getClassFactory(ln),dn=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function pn(e){var t,r,n,i,o,a,s,u,c=this.context,l=e.adapter,f=e.baseURLController,d=e.streamInfo,p=e.timelineConverter,h=e.debug,m=e.eventBus,y=e.events,g=e.dashConstants,_=Nr(c).getInstance();function b(e,t){var n=new kr;n.id=e.id,n.bitrate=e.bandwidth,n.width=e.width,n.height=e.height,n.tilesHor=1,n.tilesVert=1,e.essentialProperties&&e.essentialProperties.forEach((function(e){if(dn.indexOf(e.schemeIdUri)>=0&&e.value){var t=e.value.split("x");2!==t.length||isNaN(t[0])||isNaN(t[1])||(n.tilesHor=parseInt(t[0],10),n.tilesVert=parseInt(t[1],10))}})),t?a.updateSegmentData(e).then((function(t){!function(e,t,r){var n=[],i=function(e,t){var r,n,i,o,a=[],s=0;for(r=0,n=e.segments.length;r<n;r++)i=e.segments[r],(o=te(p,l.getIsDynamic(),t,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,s))&&(a.push(o),o=null,s++);return a}(r,t);t.segments=i,e.segmentDuration=t.segments[0].duration,e.readThumbnail=function(e,r){var i=null;n.some((function(t){if(t.start<=e&&t.end>e)return i=t.url,!0})),i?r(i):t.segments.some((function(i){if(i.mediaStartTime<=e&&i.mediaStartTime+i.duration>e){var o=f.resolve(t.path);return s.load({method:"get",url:o.url,request:{range:i.mediaRange,responseType:"arraybuffer"},onload:function(e){var t=u.getSamplesInfo(e.target.response),o=new Blob([e.target.response.slice(t.sampleList[0].offset,t.sampleList[0].offset+t.sampleList[0].size)],{type:"image/jpeg"}),a=window.URL.createObjectURL(o);n.push({start:i.mediaStartTime,end:i.mediaStartTime+i.duration,url:a}),r&&r(a)}}),!0}}))}}(n,e,t)})):(n.startNumber=e.startNumber,n.segmentDuration=e.segmentDuration,n.timescale=e.timescale,n.templateUrl=function(e){var t=_.isRelative(e.media)?_.resolve(e.media,f.resolve(e.path).url):e.media;return t?Q(t,e.id):""}(e)),n.tilesHor>0&&n.tilesVert>0&&(n.widthPerTile=n.width/n.tilesHor,n.heightPerTile=n.height/n.tilesVert,r.push(n))}function E(){r=[],i=-1,o=null}return t={getTracks:function(){return r},addTracks:function(){if(d&&l&&(o=l.getMediaInfoForType(d,fe.IMAGE))){var e=l.getVoRepresentations(o);e&&e.length>0&&e.forEach((function(e){(e.segmentInfoType===oe.SEGMENT_TEMPLATE&&e.segmentDuration>0&&e.media||e.segmentInfoType===oe.SEGMENT_TIMELINE)&&b(e),e.segmentInfoType===oe.SEGMENT_BASE&&b(e,!0)})),r.length>0&&r.sort((function(e,t){return e.bitrate-t.bitrate}))}},reset:E,setTrackByIndex:function(e){r&&0!==r.length&&(e>=r.length&&(e=r.length-1),i=e)},getCurrentTrack:function(){return i<0?null:r[i]},getCurrentTrackIndex:function(){return i},getThumbnailRequestForTime:function(e){for(var t,a=l.getVoRepresentations(o),s=0;s<a.length;s++)if(r[i].id===a[s].id){t=a[s];break}return n.getSegmentRequestForTime(o,t,e)}},E(),s=Ae(c).create({}),u=en(c).getInstance(),a=fn(c).create({events:y,eventBus:m,streamInfo:d,timelineConverter:p,dashConstants:g,dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController,type:fe.IMAGE}),(n=se(c).create({streamInfo:d,type:fe.IMAGE,timelineConverter:p,segmentsController:a,baseURLController:f,debug:h,eventBus:m,events:y,dashConstants:g,urlUtils:_})).initialize(!!l&&l.getIsDynamic()),t}function hn(e){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(e)}function mn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gn(n.key),n)}}function yn(e,t,r){return t&&mn(e.prototype,t),r&&mn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gn(e){var t=function(e){if("object"!=hn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=hn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hn(t)?t:t+""}pn.__dashjs_factory_name="ThumbnailTracks",L.getClassFactory(pn);var _n=yn((function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||"",this.serviceLocation=r||null,this.queryParams={}}));function bn(e){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(e)}function En(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tn(n.key),n)}}function vn(e,t,r){return t&&En(e.prototype,t),r&&En(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tn(e){var t=function(e){if("object"!=bn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bn(t)?t:t+""}var Sn=vn((function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||"",this.serviceLocation=r||null,this.ttl=n||NaN,this.queryParams={}}));function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function In(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?In(Object(r),!0).forEach((function(t){Rn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rn(e,t,r){return(t=function(e){var t=function(e){if("object"!=An(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=An(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==An(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function On(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Nn(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Nn(e,t){if(e){if("string"==typeof e)return Dn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dn(e,t):void 0}}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Pn(){var e,t,r,n,i=this.context,o=Nr(i).getInstance(),a=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function s(e,t){if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.Representation_asArray&&e.Representation_asArray.length){var r=y(e.Representation_asArray[0]);if(r&&r.length>0&&dn.indexOf(r[0].schemeIdUri)>=0)return t===fe.IMAGE}if(e.ContentComponent_asArray&&e.ContentComponent_asArray.length>0){if(e.ContentComponent_asArray.length>1)return t===fe.MUXED;if(e.ContentComponent_asArray[0].contentType===t)return!0}var n=t===fe.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(t);if(e.Representation_asArray&&e.Representation_asArray.length){var i=e.Representation_asArray[0].codecs;if(n.test(i))return!0}if(e.hasOwnProperty(oe.MIME_TYPE))return n.test(e.mimeType);if(e.Representation_asArray)for(var o,a=0;a<e.Representation_asArray.length;a++)if((o=e.Representation_asArray[a]).hasOwnProperty(oe.MIME_TYPE))return n.test(o.mimeType);return!1}function u(e){if(!e)throw new Error("adaptation is not defined");if(e.hasOwnProperty(oe.SEGMENT_TEMPLATE)||e.hasOwnProperty(oe.SEGMENT_TIMELINE)||e.hasOwnProperty(oe.SEGMENT_LIST)||e.hasOwnProperty(oe.SEGMENT_BASE))return!0;if(e.Representation_asArray&&e.Representation_asArray.length>0){var t=e.Representation_asArray[0];if(t.hasOwnProperty(oe.SEGMENT_TEMPLATE)||t.hasOwnProperty(oe.SEGMENT_TIMELINE)||t.hasOwnProperty(oe.SEGMENT_LIST)||t.hasOwnProperty(oe.SEGMENT_BASE))return!0}return!1}function c(e){return s(e,fe.VIDEO)}function l(e){return s(e,fe.TEXT)}function f(e){return s(e,fe.IMAGE)}function d(e){return e&&Array.isArray(e.Representation_asArray)&&e.Representation_asArray.sort((function(e,t){return e.bandwidth-t.bandwidth})),e}function p(e,t){return e&&e.Period_asArray&&a(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function h(e){return e&&e.Period_asArray?e.Period_asArray:[]}function m(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===oe.DYNAMIC),t}function y(e){return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map((function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}})):null}function g(e){if(!e||!e.S_asArray)return NaN;var t=e.S_asArray[0],r=e.S_asArray[1];return t.hasOwnProperty("d")?t.d:r.t-t.t}function _(e,t){if(!e)throw new Error("Period cannot be null or undefined");var r=Ft.DEFAULT_ID+"_"+t;return e.hasOwnProperty(oe.ID)&&e.id.length>0&&"__proto__"!==e.id&&(r=e.id),r}function b(e,t,r){var n,i=[];if(!e)return i;for(n=0;n<e.length;n++){var o=new sr;if(o.timescale=1,o.representation=t,!e[n].hasOwnProperty(fe.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=e[n].schemeIdUri,e[n].hasOwnProperty(oe.TIMESCALE)&&(o.timescale=e[n].timescale),e[n].hasOwnProperty(oe.VALUE)&&(o.value=e[n].value),i.push(o),o.period=r}return i}function E(e){var t=[],r=e.BaseURL_asArray||[e.baseUri],n=!1;return r.some((function(r){if(r){var i=new rr,a=r.__text||r;return o.isRelative(a)&&(n=!0,e.baseUri&&(a=o.resolve(a,e.baseUri))),i.url=a,r.hasOwnProperty(oe.SERVICE_LOCATION)&&r.serviceLocation.length?i.serviceLocation=r.serviceLocation:i.serviceLocation=a,r.hasOwnProperty(oe.DVB_PRIORITY)&&(i.dvbPriority=r[oe.DVB_PRIORITY]),r.hasOwnProperty(oe.DVB_WEIGHT)&&(i.dvbWeight=r[oe.DVB_WEIGHT]),r.hasOwnProperty(oe.AVAILABILITY_TIME_OFFSET)&&(i.availabilityTimeOffset=r[oe.AVAILABILITY_TIME_OFFSET]),r.hasOwnProperty(oe.AVAILABILITY_TIME_COMPLETE)&&(i.availabilityTimeComplete="false"!==r[oe.AVAILABILITY_TIME_COMPLETE]),t.push(i),n}})),t}function v(e){var t=new gr;return t.serverUrl=e.__text,e.hasOwnProperty(oe.DEFAULT_SERVICE_LOCATION)&&(t.defaultServiceLocation=e[oe.DEFAULT_SERVICE_LOCATION],t.defaultServiceLocationArray=t.defaultServiceLocation.split(" ")),e.hasOwnProperty(oe.QUERY_BEFORE_START)&&(t.queryBeforeStart="true"===e[oe.QUERY_BEFORE_START].toLowerCase()),e.hasOwnProperty(oe.CLIENT_REQUIREMENT)&&(t.clientRequirement="false"!==e[oe.CLIENT_REQUIREMENT].toLowerCase()),t}return e={getIsTypeOf:s,getIsText:l,getIsFragmented:u,getProducerReferenceTimesForAdaptation:function(e){var t=e&&e.hasOwnProperty(oe.PRODUCERREFERENCETIME_ASARRAY)?e[oe.PRODUCERREFERENCETIME_ASARRAY]:[];(e&&e.hasOwnProperty(oe.REPRESENTATION_ASARRAY)?e[oe.REPRESENTATION_ASARRAY]:[]).forEach((function(e){var r;e.hasOwnProperty(oe.PRODUCERREFERENCETIME_ASARRAY)&&t.push.apply(t,function(e){if(Array.isArray(e))return Dn(e)}(r=e[oe.PRODUCERREFERENCETIME_ASARRAY])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||Nn(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}));var r=[];return t.forEach((function(e){var t=new dr;e.hasOwnProperty(oe.ID)&&(t[oe.ID]=e[oe.ID],e.hasOwnProperty(oe.WALL_CLOCK_TIME)&&(t[oe.WALL_CLOCK_TIME]=e[oe.WALL_CLOCK_TIME],e.hasOwnProperty(oe.PRESENTATION_TIME)&&(t[oe.PRESENTATION_TIME]=e[oe.PRESENTATION_TIME],e.hasOwnProperty(oe.INBAND)&&(t[oe.INBAND]="false"!==e[oe.INBAND]),e.hasOwnProperty(oe.TYPE)&&(t[oe.TYPE]=e[oe.TYPE]),r.push(t))))})),r},getLanguageForAdaptation:function(e){var t="";return e&&e.hasOwnProperty(oe.LANG)&&(t=e.lang),t},getViewpointForAdaptation:function(e){return e&&e.hasOwnProperty(oe.VIEWPOINT_ASARRAY)&&e[oe.VIEWPOINT_ASARRAY].length?e[oe.VIEWPOINT_ASARRAY].map((function(e){return(new vr).init(e)})):[]},getRolesForAdaptation:function(e){return e&&e.hasOwnProperty(oe.ROLE_ASARRAY)&&e[oe.ROLE_ASARRAY].length?e[oe.ROLE_ASARRAY].map((function(e){return(new vr).init(e)})):[]},getAccessibilityForAdaptation:function(e){return e&&e.hasOwnProperty(oe.ACCESSIBILITY_ASARRAY)&&e[oe.ACCESSIBILITY_ASARRAY].length?e[oe.ACCESSIBILITY_ASARRAY].map((function(e){return(new vr).init(e)})):[]},getAudioChannelConfigurationForAdaptation:function(e){return e&&e.hasOwnProperty(oe.AUDIOCHANNELCONFIGURATION_ASARRAY)&&e[oe.AUDIOCHANNELCONFIGURATION_ASARRAY].length?e[oe.AUDIOCHANNELCONFIGURATION_ASARRAY].map((function(e){return(new vr).init(e)})):[]},getAudioChannelConfigurationForRepresentation:function(e){return e&&e.hasOwnProperty(oe.AUDIOCHANNELCONFIGURATION_ASARRAY)&&e[oe.AUDIOCHANNELCONFIGURATION_ASARRAY].length?e[oe.AUDIOCHANNELCONFIGURATION_ASARRAY].map((function(e){return(new vr).init(e)})):[]},getAdaptationForIndex:function(e,t,r){var n=p(t,r);return n.length>0&&a(e)?n[e]:null},getIndexForAdaptation:function(e,t,r){if(!e)return-1;for(var n=p(t,r),o=0;o<n.length;o++)if(Ir(i).getInstance().areEqual(n[o],e))return o;return-1},getAdaptationForId:function(e,t,r){var n,i,o=p(t,r);for(n=0,i=o.length;n<i;n++)if(o[n].hasOwnProperty(oe.ID)&&o[n].id===e)return o[n];return null},getAdaptationsForType:function(e,t,r){var n,i,o=p(e,t),a=[];for(n=0,i=o.length;n<i;n++)s(o[n],r)&&a.push(d(o[n]));return a},getRealPeriods:h,getRealPeriodForIndex:function(e,t){var r=h(t);return r.length>0&&a(e)?r[e]:null},getCodec:function(e,t,r){var n=null;if(e&&e.Representation_asArray&&e.Representation_asArray.length>0){var i=a(t)&&t>=0&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0];i&&(n=i.mimeType+';codecs="'+i.codecs+'"',r&&void 0!==i.width&&(n+=';width="'+i.width+'";height="'+i.height+'"'))}return n&&(n=n.replace(/\sprofiles=[^;]*/g,"")),n},getSelectionPriority:function(e){try{var t=e&&void 0!==e.selectionPriority?parseInt(e.selectionPriority):1;return isNaN(t)?1:t}catch(e){return 1}},getMimeType:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length>0?e.Representation_asArray[0].mimeType:null},getKID:function(e){return e&&e.hasOwnProperty(oe.CENC_DEFAULT_KID)?e[oe.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(e){if(!e||!Array.isArray(e.Label_asArray))return[];for(var t=[],r=0;r<e.Label_asArray.length;r++)t.push({lang:e.Label_asArray[r].lang,text:e.Label_asArray[r].__text||e.Label_asArray[r]});return t},getContentProtectionData:function(e){return e&&e.hasOwnProperty(oe.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:m,getId:function(e){return e&&e[oe.ID]||null},hasProfile:function(e,t){var r=!1;return e&&e.profiles&&e.profiles.length>0&&(r=-1!==e.profiles.indexOf(t)),r},getDuration:function(e){return e&&e.hasOwnProperty(oe.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:e&&"dynamic"==e.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(e){return e&&e.bandwidth?e.bandwidth:NaN},getManifestUpdatePeriod:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=NaN;return e&&e.hasOwnProperty(oe.MINIMUM_UPDATE_PERIOD)&&(r=e.minimumUpdatePeriod),isNaN(r)?r:Math.max(r-t,1)},getPublishTime:function(e){return e&&e.hasOwnProperty(oe.PUBLISH_TIME)?new Date(e[oe.PUBLISH_TIME]):null},getRepresentationCount:function(e){return e&&Array.isArray(e.Representation_asArray)?e.Representation_asArray.length:0},getBitrateListForAdaptation:function(e){var t=d(e);return(t&&Array.isArray(t.Representation_asArray)?t.Representation_asArray:[]).map((function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null,id:e.id||null}}))},getRepresentationFor:function(e,t){return t&&t.Representation_asArray&&t.Representation_asArray.length>0&&a(e)?t.Representation_asArray[e]:null},getRepresentationsForAdaptation:function(e){var t,r,n,i,o=[],s=function(e){if(e&&e.period&&a(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&a(e.index))return d(t.AdaptationSet_asArray[e.index])}}(e);if(s&&s.Representation_asArray){if(e&&e.period&&a(e.period.index)){var c=E(e.period.mpd.manifest);c&&(r=c[0])}for(var f=0,p=s.Representation_asArray.length;f<p;++f){var h=s.Representation_asArray[f],m=new At;if(m.index=f,m.adaptation=e,h.hasOwnProperty(oe.ID)&&(m.id=h.id),h.hasOwnProperty(oe.CODECS)&&(m.codecs=h.codecs),h.hasOwnProperty(oe.MIME_TYPE)&&(m.mimeType=h[oe.MIME_TYPE]),h.hasOwnProperty(oe.CODEC_PRIVATE_DATA)&&(m.codecPrivateData=h.codecPrivateData),h.hasOwnProperty(oe.BANDWITH)&&(m.bandwidth=h.bandwidth),h.hasOwnProperty(oe.WIDTH)&&(m.width=h.width),h.hasOwnProperty(oe.HEIGHT)&&(m.height=h.height),h.hasOwnProperty(oe.SCAN_TYPE)&&(m.scanType=h.scanType),h.hasOwnProperty(oe.MAX_PLAYOUT_RATE)&&(m.maxPlayoutRate=h.maxPlayoutRate),h.hasOwnProperty(oe.SEGMENT_BASE)?(t=h.SegmentBase,m.segmentInfoType=oe.SEGMENT_BASE):h.hasOwnProperty(oe.SEGMENT_LIST)?(t=h.SegmentList).hasOwnProperty(oe.SEGMENT_TIMELINE)?m.segmentInfoType=oe.SEGMENT_TIMELINE:m.segmentInfoType=oe.SEGMENT_LIST:h.hasOwnProperty(oe.SEGMENT_TEMPLATE)?((t=h.SegmentTemplate).hasOwnProperty(oe.SEGMENT_TIMELINE)?m.segmentInfoType=oe.SEGMENT_TIMELINE:m.segmentInfoType=oe.SEGMENT_TEMPLATE,t.hasOwnProperty(oe.INITIALIZATION_MINUS)&&(m.initialization=t.initialization.split("$Bandwidth$").join(h.bandwidth).split("$RepresentationID$").join(h.id))):m.segmentInfoType=oe.BASE_URL,m.essentialProperties=y(h),t){if(t.hasOwnProperty(oe.INITIALIZATION)){var _=t.Initialization;_.hasOwnProperty(oe.SOURCE_URL)&&(m.initialization=_.sourceURL),_.hasOwnProperty(oe.RANGE)&&(m.range=_.range)}else l(s)&&u(s)&&s.mimeType&&-1===s.mimeType.indexOf("application/mp4")&&(m.range=0);t.hasOwnProperty(oe.TIMESCALE)&&(m.timescale=t.timescale),t.hasOwnProperty(oe.DURATION)?m.segmentDuration=t.duration/m.timescale:h.hasOwnProperty(oe.SEGMENT_TEMPLATE)&&(t=h.SegmentTemplate).hasOwnProperty(oe.SEGMENT_TIMELINE)&&(m.segmentDuration=g(t.SegmentTimeline)/m.timescale),t.hasOwnProperty(oe.MEDIA)&&(m.media=t.media),t.hasOwnProperty(oe.START_NUMBER)&&(m.startNumber=t.startNumber),t.hasOwnProperty(oe.INDEX_RANGE)&&(m.indexRange=t.indexRange),t.hasOwnProperty(oe.PRESENTATION_TIME_OFFSET)&&(m.presentationTimeOffset=t.presentationTimeOffset/m.timescale),t.hasOwnProperty(oe.AVAILABILITY_TIME_OFFSET)?m.availabilityTimeOffset=t.availabilityTimeOffset:r&&void 0!==r.availabilityTimeOffset&&(m.availabilityTimeOffset=r.availabilityTimeOffset),t.hasOwnProperty(oe.AVAILABILITY_TIME_COMPLETE)?m.availabilityTimeComplete="false"!==t.availabilityTimeComplete:r&&void 0!==r.availabilityTimeComplete&&(m.availabilityTimeComplete=r.availabilityTimeComplete)}m.MSETimeOffset=(void 0,i=(n=m).presentationTimeOffset,n.adaptation.period.start-i),m.path=[e.period.index,e.index,f],o.push(m)}}return o},getAdaptationsForPeriod:function(e){var r,n,i,o=e&&a(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,u=[];if(o&&o.AdaptationSet_asArray)for(i=0;i<o.AdaptationSet_asArray.length;i++)n=o.AdaptationSet_asArray[i],r=new Nt,n.hasOwnProperty(oe.ID)&&(r.id=n.id),r.index=i,r.period=e,s(n,fe.MUXED)?r.type=fe.MUXED:s(n,fe.AUDIO)?r.type=fe.AUDIO:c(n)?r.type=fe.VIDEO:l(n)?r.type=fe.TEXT:f(n)?r.type=fe.IMAGE:t.warn("Unknown Adaptation stream type"),u.push(r);return u},getRegularPeriods:function(e){var n,i,o=!!e&&m(e.manifest),a=[],s=null,u=null,c=null,l=null;for(i=0,n=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;i<n;i++)(u=e.manifest.Period_asArray[i]).hasOwnProperty(oe.START)?(l=new Ft).start=u.start:null!==s&&s.hasOwnProperty(oe.DURATION)&&null!==c?(l=new Ft).start=parseFloat((c.start+c.duration).toFixed(5)):0!==i||o||((l=new Ft).start=0),null!==c&&isNaN(c.duration)&&(null!==l?c.duration=parseFloat((l.start-c.start).toFixed(5)):t.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==l&&(l.id=_(u,i),l.index=i,l.mpd=e,u.hasOwnProperty(oe.DURATION)&&(l.duration=u.duration),c&&(c.nextPeriodId=l.id),a.push(l),s=u,c=l),u=null,l=null;return 0===a.length||null!==c&&isNaN(c.duration)&&(c.duration=parseFloat((function(e){!function(){if(!r||!r.hasOwnProperty("error"))throw new Error(fe.MISSING_CONFIG_ERROR)}();var t,n=m(e.mpd.manifest);return e.mpd.manifest.mediaPresentationDuration?t=e.mpd.manifest.mediaPresentationDuration:e.duration?t=e.duration:n?t=Number.POSITIVE_INFINITY:r.error(new ht(Fr.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e)),t}(c)-c.start).toFixed(5))),a},getMpd:function(e){var t=new kt;return e&&(t.manifest=e,e.hasOwnProperty(oe.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):e.loadedTime&&(t.availabilityStartTime=new Date(e.loadedTime.getTime())),e.hasOwnProperty(oe.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(oe.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(oe.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(oe.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(oe.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(oe.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration),e.hasOwnProperty(oe.PUBLISH_TIME)&&(t.publishTime=new Date(e.publishTime))),t},getEventsForPeriod:function(e){var t,r,i=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,o=i?i.Period_asArray:null,s=o&&e&&a(e.index)?o[e.index].EventStream_asArray:null,u=[];if(s)for(t=0;t<s.length;t++){var c=new sr;if(c.period=e,c.timescale=1,!s[t].hasOwnProperty(fe.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(c.schemeIdUri=s[t][fe.SCHEME_ID_URI],s[t].hasOwnProperty(oe.TIMESCALE)&&(c.timescale=s[t][oe.TIMESCALE]),s[t].hasOwnProperty(oe.VALUE)&&(c.value=s[t][oe.VALUE]),s[t].hasOwnProperty(oe.PRESENTATION_TIME_OFFSET)&&(c.presentationTimeOffset=s[t][oe.PRESENTATION_TIME_OFFSET]),r=0;s[t].Event_asArray&&r<s[t].Event_asArray.length;r++){var l=s[t].Event_asArray[r],f=new Qt;f.presentationTime=0,f.eventStream=c,l.hasOwnProperty(oe.PRESENTATION_TIME)&&(f.presentationTime=l.presentationTime);var d=c.presentationTimeOffset?c.presentationTimeOffset/c.timescale:0;f.calculatedPresentationTime=f.presentationTime/c.timescale+e.start-d,l.hasOwnProperty(oe.DURATION)&&(f.duration=l.duration/c.timescale),l.hasOwnProperty(oe.ID)?f.id=l.id:f.id=null,l.Signal&&l.Signal.Binary?f.messageData=n.decodeArray(l.Signal.Binary.toString()):f.messageData=l.messageData||l.__cdata||l.__text,u.push(f)}}return u},getEssentialPropertiesForAdaptation:function(e){var t={};if(e&&e.hasOwnProperty(oe.ESSENTIAL_PROPERTY_ASARRAY)){var r,n=On(e.EssentialProperty_asArray);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.hasOwnProperty(fe.SCHEME_ID_URI)&&(t[i[fe.SCHEME_ID_URI]]=wn({},i))}}catch(e){n.e(e)}finally{n.f()}}return t},getEssentialPropertiesAsArrayForAdaptation:function(e){return e&&e.hasOwnProperty(oe.ESSENTIAL_PROPERTY_ASARRAY)&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map((function(e){return(new vr).init(e)})):[]},getEssentialPropertiesForRepresentation:y,getEventStreamForAdaptationSet:function(e,t,r){var n,i,o;return e&&e.Period_asArray&&t&&t.period&&a(t.period.index)&&(i=e.Period_asArray[t.period.index])&&i.AdaptationSet_asArray&&a(t.index)&&(o=i.AdaptationSet_asArray[t.index])&&(n=o.InbandEventStream_asArray),b(n,null,r)},getEventStreamForRepresentation:function(e,t,r){var n,i,o,s;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&a(t.adaptation.period.index)&&(i=e.Period_asArray[t.adaptation.period.index])&&i.AdaptationSet_asArray&&a(t.adaptation.index)&&(o=i.AdaptationSet_asArray[t.adaptation.index])&&o.Representation_asArray&&a(t.index)&&(s=o.Representation_asArray[t.index])&&(n=s.InbandEventStream_asArray),b(n,t,r)},getUTCTimingSources:function(e){var t=m(e),r=!!e&&e.hasOwnProperty(oe.AVAILABILITY_START_TIME),n=e?e.UTCTiming_asArray:null,i=[];return(t||r)&&n&&n.forEach((function(e){var t=new Vt;e.hasOwnProperty(fe.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(oe.VALUE)&&(t.value=e.value.toString(),i.push(t)))})),i},getBaseURLsFromElement:E,getRepresentationSortFunction:function(){return function(e,t){return e.bandwidth-t.bandwidth}},getContentSteering:function(e){if(e&&e.hasOwnProperty(oe.CONTENT_STEERING_AS_ARRAY))return v(e[oe.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(e){return e&&e.hasOwnProperty(oe.LOCATION_AS_ARRAY)?e[oe.LOCATION_AS_ARRAY].map((function(e){var t=e.__text||e,r=e.hasOwnProperty(oe.SERVICE_LOCATION)?e[oe.SERVICE_LOCATION]:null;return new _n(t,r)})):[]},getPatchLocation:function(e){return e&&e.hasOwnProperty(oe.PATCH_LOCATION_AS_ARRAY)?e[oe.PATCH_LOCATION_AS_ARRAY].map((function(e){var t=e.__text||e,r=e.hasOwnProperty(oe.SERVICE_LOCATION)?e[oe.SERVICE_LOCATION]:null,n=e.hasOwnProperty(oe.TTL)?1e3*parseFloat(e[oe.TTL]):NaN;return new Sn(t,r,n)})):[]},getSuggestedPresentationDelay:function(e){return e&&e.hasOwnProperty(oe.SUGGESTED_PRESENTATION_DELAY)?e.suggestedPresentationDelay:null},getAvailabilityStartTime:function(e){return e&&e.hasOwnProperty(oe.AVAILABILITY_START_TIME)&&null!==e.availabilityStartTime?e.availabilityStartTime.getTime():null},getServiceDescriptions:function(e){var t=[];if(e&&e.hasOwnProperty(oe.SERVICE_DESCRIPTION)){var r,n=On(e.ServiceDescription_asArray);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=null,a=null,s=null,u=null,c=null,l=null,f=null;for(var d in i)i.hasOwnProperty(d)&&(d===oe.ID?o=i[d]:d===oe.SERVICE_DESCRIPTION_SCOPE?a=i[d].schemeIdUri:d===oe.SERVICE_DESCRIPTION_LATENCY?s={target:parseInt(i[d].target),max:parseInt(i[d].max),min:parseInt(i[d].min),referenceId:parseInt(i[d].referenceId)}:d===oe.SERVICE_DESCRIPTION_PLAYBACK_RATE?u={max:parseFloat(i[d].max),min:parseFloat(i[d].min)}:d===oe.SERVICE_DESCRIPTION_OPERATING_QUALITY?c={mediaType:i[d].mediaType,max:parseInt(i[d].max),min:parseInt(i[d].min),target:parseInt(i[d].target),type:i[d].type,maxQualityDifference:parseInt(i[d].maxQualityDifference)}:d===oe.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?l={mediaType:i[d].mediaType,max:parseInt(i[d].max),min:parseInt(i[d].min),target:parseInt(i[d].target)}:d===oe.CONTENT_STEERING&&(f=v(i[d])));t.push({id:o,schemeIdUri:a,latency:s,playbackRate:u,operatingQuality:c,operatingBandwidth:l,contentSteering:f})}}catch(e){n.e(e)}finally{n.f()}}return t},getSegmentAlignment:function(e){return!(!e||!e.hasOwnProperty(oe.SEGMENT_ALIGNMENT))&&"true"===e[oe.SEGMENT_ALIGNMENT]},getSubSegmentAlignment:function(e){return!(!e||!e.hasOwnProperty(oe.SUB_SEGMENT_ALIGNMENT))&&"true"===e[oe.SUB_SEGMENT_ALIGNMENT]},getSupplementalPropertiesForAdaptation:function(e){var t={};if(e&&e.hasOwnProperty(oe.SUPPLEMENTAL_PROPERTY_ASARRAY)){var r,n=On(e.SupplementalProperty_asArray);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.hasOwnProperty(fe.SCHEME_ID_URI)&&(t[i[fe.SCHEME_ID_URI]]=wn({},i))}}catch(e){n.e(e)}finally{n.f()}}return t},getSupplementalPropertiesAsArrayForAdaptation:function(e){return e&&e.hasOwnProperty(oe.SUPPLEMENTAL_PROPERTY_ASARRAY)&&e.SupplementalProperty_asArray.length?e.SupplementalProperty_asArray.map((function(e){return(new vr).init(e)})):[]},getSupplementalPropertiesForRepresentation:function(e){var t={};if(e&&e.hasOwnProperty(oe.SUPPLEMENTAL_PROPERTY_ASARRAY)){var r,n=On(e.SupplementalProperty_asArray);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.hasOwnProperty(fe.SCHEME_ID_URI)&&(t[i[fe.SCHEME_ID_URI]]=wn({},i))}}catch(e){n.e(e)}finally{n.f()}}return t},getSupplementalPropertiesAsArrayForRepresentation:function(e){return e&&e.hasOwnProperty(oe.SUPPLEMENTAL_PROPERTY_ASARRAY)&&e.SupplementalProperty_asArray.length?e.SupplementalProperty_asArray.map((function(e){return(new vr).init(e)})):[]},setConfig:function(e){e&&(e.errHandler&&(r=e.errHandler),e.BASE64&&(n=e.BASE64))}},t=tt(i).getInstance().getLogger(e),e}Pn.__dashjs_factory_name="DashManifestModel";var Cn=L.getSingletonFactory(Pn);function Ln(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Mn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Fn(){var e,t,r,n,i,o,a,s,u,c,l=this.context,f=Fe(l).getInstance(),d=ot(l).getInstance();function p(){r={pr:1,nor:null,st:null,sf:null,sid:"".concat(Ce.generateUuid()),cid:null},u={},s={},c={},m()}function h(){m()}function m(){if(o){var e=o.getStreamController();if(e&&"function"==typeof e.getActiveStream){var t=e.getActiveStream();t&&(a=t.getProcessors())}}}function y(e,t){var r,n={},i=Ln(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;e[o]&&(n[o]=e[o])}}catch(e){i.e(e)}finally{i.f()}return n}function g(e){var t=d.get().streaming.cmcd.enabledKeys;return e.filter((function(e){return t.includes(e)}))}function _(e){try{return e.type===w.MPD_TYPE?((l=b()).ot="m",l):e.type===w.MEDIA_SEGMENT_TYPE?(t=e.mediaType,c.hasOwnProperty(t)||(c[t]=!1),s.hasOwnProperty(t)||(s[t]=!1),u.hasOwnProperty(t)||(u[t]=!1),function(e){var t,l=b(),f=function(e){try{var t=e.quality,r=e.mediaInfo.bitrateList;return parseInt(r[t].bandwidth/1e3)}catch(e){return null}}(e),p=function(e){try{return isNaN(e.duration)?NaN:Math.round(1e3*e.duration)}catch(e){return null}}(e),h=function(e){try{return 100*parseInt(n.getThroughputHistory().getSafeAverageThroughput(e)/100)}catch(e){return null}}(e.mediaType),m=function(e){try{var t=r.pr,n=i.getCurrentBufferLevel(e);return isNaN(t)||isNaN(n)?null:100*parseInt(n/t*10)}catch(e){return null}}(e.mediaType),y=E(e.mediaType),g=function(e){try{var t=n.getTopBitrateInfoFor(e);return Math.round(t.bitrate/1e3)}catch(e){return null}}(e.mediaType),_=r.pr,v=function(e){if(a&&0!==a.length){var t,r=Ln(a);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.getType()===e)return n.probeNextRequest()}}catch(e){r.e(e)}finally{r.f()}}}(e.mediaType);e.mediaType===fe.VIDEO&&(t="v"),e.mediaType===fe.AUDIO&&(t="a"),e.mediaType===fe.TEXT&&(t="application/mp4"===e.mediaInfo.mimeType?"tt":"c");var T=d.get().streaming.cmcd.rtp;return T||(T=function(e){try{var t=o.getPlaybackRate();t||(t=1);var r=e.quality,n=e.mediaType,i=e.mediaInfo,a=e.duration;if(!i)return NaN;var s=E(n);0===s&&(s=500);var u=i.bitrateList[r].bandwidth*a/1e3/(s/t/1e3),c=d.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(d.get().streaming.cmcd.rtpSafetyFactor)?d.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(u*c/100)+1)}catch(e){return NaN}}(e)),isNaN(T)||(l.rtp=T),v&&(e.url!==v.url?l.nor=encodeURIComponent(Ce.getRelativeUrl(e.url,v.url)):v.range&&(l.nrr=v.range)),f&&(l.br=f),t&&(l.ot=t),isNaN(p)||(l.d=p),isNaN(h)||(l.mtp=h),isNaN(m)||(l.dl=m),isNaN(y)||(l.bl=y),isNaN(g)||(l.tb=g),isNaN(_)||1===_||(l.pr=_),u[e.mediaType]&&(l.bs=!0,u[e.mediaType]=!1),!s[e.mediaType]&&c[e.mediaType]||(l.su=!0,s[e.mediaType]=!1,c[e.mediaType]=!0),l}(e)):e.type===w.INIT_SEGMENT_TYPE?function(){var e=b();return e.ot="i",e.su=!0,e}():e.type===w.OTHER_TYPE||e.type===w.XLINK_EXPANSION_TYPE?function(){var e=b();return e.ot="o",e}():e.type===w.LICENSE?function(){var e=b();return e.ot="k",e}():null}catch(e){return null}var t,l}function b(){var e={},t=d.get().streaming.cmcd.cid?d.get().streaming.cmcd.cid:r.cid;return e.v=1,e.sid=d.get().streaming.cmcd.sid?d.get().streaming.cmcd.sid:r.sid,e.sid="".concat(e.sid),t&&(e.cid="".concat(t)),isNaN(r.pr)||1===r.pr||null===r.pr||(e.pr=r.pr),r.st&&(e.st=r.st),r.sf&&(e.sf=r.sf),e}function E(e){try{var t=i.getCurrentBufferLevel(e);return isNaN(t)?null:100*parseInt(10*t)}catch(e){return null}}function v(e){try{r.pr=e.playbackRate}catch(e){}}function T(t){try{var n=e.getIsDynamic(t.data)?"l":"v",i=t.protocol&&"MSS"===t.protocol?"s":"d";r.st="".concat(n),r.sf="".concat(i)}catch(e){}}function S(e){try{e.state&&e.mediaType&&e.state===H.BUFFER_EMPTY&&(u[e.mediaType]||(u[e.mediaType]=!0),s[e.mediaType]||(s[e.mediaType]=!0))}catch(e){}}function A(){for(var e in u)u.hasOwnProperty(e)&&(u[e]=!0);for(var t in s)s.hasOwnProperty(t)&&(s[t]=!0)}function I(e){try{if(!e)return null;var t=Object.keys(e).sort((function(e,t){return e.localeCompare(t)})),r=t.length,n=t.reduce((function(t,n,i){return"v"===n&&1===e[n]||("string"==typeof e[n]&&"ot"!==n&&"sf"!==n&&"st"!==n?t+="".concat(n,"=").concat(JSON.stringify(e[n])):t+="".concat(n,"=").concat(e[n]),i<r-1&&(t+=",")),t}),"");return(n=n.replace(/=true/g,"")).replace(/,\s*$/,"")}catch(e){return null}}return t={getQueryParameter:function(e){try{if(d.get().streaming.cmcd&&d.get().streaming.cmcd.enabled){var t=_(e),r=function(e){try{var t=d.get().streaming.cmcd.enabledKeys;return Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,r){return t[r]=e[r],t}),{})}catch(t){return e}}(t),n=I(r);return f.trigger(Et.CMCD_DATA_GENERATED,{url:e.url,mediaType:e.mediaType,cmcdData:t,cmcdString:n}),{key:"CMCD",value:n}}return null}catch(e){return null}},getHeaderParameters:function(e){try{if(d.get().streaming.cmcd&&d.get().streaming.cmcd.enabled){var t=_(e),r=y(t,g(["br","d","ot","tb"])),n=y(t,g(["bl","dl","mtp","nor","nrr","su"])),i=y(t,g(["bs","rtp"])),o=y(t,g(["cid","pr","sf","sid","st","v"])),a={"CMCD-Object":I(r),"CMCD-Request":I(n),"CMCD-Status":I(i),"CMCD-Session":I(o)};return f.trigger(Et.CMCD_DATA_GENERATED,{url:e.url,mediaType:e.mediaType,cmcdData:t,headers:a}),a}return null}catch(e){return null}},setConfig:function(e){e&&(e.abrController&&(n=e.abrController),e.dashMetrics&&(i=e.dashMetrics),e.playbackController&&(o=e.playbackController))},reset:function(){f.off(H.PLAYBACK_RATE_CHANGED,v,this),f.off(H.MANIFEST_LOADED,T,this),f.off(H.BUFFER_LEVEL_STATE_CHANGED,S,t),f.off(H.PLAYBACK_SEEKED,A,t),p()},initialize:function(){f.on(H.PLAYBACK_RATE_CHANGED,v,t),f.on(H.MANIFEST_LOADED,T,t),f.on(H.BUFFER_LEVEL_STATE_CHANGED,S,t),f.on(H.PLAYBACK_SEEKED,A,t),f.on(H.PERIOD_SWITCH_COMPLETED,h,t)}},e=Cn(l).getInstance(),p(),t}Fn.__dashjs_factory_name="CmcdModel";var xn=L.getSingletonFactory(Fn);function Un(e){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(e)}function Bn(){Bn=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,i){var o=RegExp(e,n);return t.set(o,i||t.get(e)),jn(o,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){var i=n[r];if("number"==typeof i)t[r]=e[i];else{for(var o=0;void 0===e[i[o]]&&o+1<i.length;)o++;t[r]=e[i[o]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jn(e,t)}(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);if(r){r.groups=n(r,this);var i=r.indices;i&&(i.groups=n(i,this))}return r},r.prototype[Symbol.replace]=function(r,i){if("string"==typeof i){var o=t.get(this);return e[Symbol.replace].call(this,r,i.replace(/\$<([^>]+)>/g,(function(e,t){var r=o[t];return"$"+(Array.isArray(r)?r.join("$"):r)})))}if("function"==typeof i){var a=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=Un(e[e.length-1])&&(e=[].slice.call(e)).push(n(e,a)),i.apply(this,e)}))}return e[Symbol.replace].call(this,r,i)},Bn.apply(this,arguments)}function jn(e,t){return jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jn(e,t)}var kn="static",qn="dynamic",Gn="cmsd-",Hn=Gn+kn,Yn=Gn+qn,Vn="stream",zn=["mb","st","sf","v"],Wn={video:"v",audio:"a",text:"tt",stream:Vn},Xn=/^[-0-9]/;function Kn(){var e,t,r,n,i=this.context,o=Fe(i).getInstance();function a(){r={},n={}}function s(e){e&&Object.keys(e).forEach((function(t){zn.includes(t)||delete e[t]}))}function u(e){return!e||"false"!==e.toLowerCase()&&(Xn.test(e)?parseInt(e,10):e.replace(/["]+/g,""))}function c(e){try{for(var r={},n=e.split(","),i=0;i<n.length;i++){var o=n[i].split("="),a=o[0],s=u(o[1]);r[a]=s}return r}catch(e){t.error("Failed to parse CMSD-Static response header value:",e)}}function l(e){try{for(var r={},n=e.split(","),i=n[n.length-1].split(";"),o=1;o<i.length;o++){var a=i[o].split("="),s=a[0],c=u(a[1]);r[s]=c}return r}catch(e){return t.error("Failed to parse CMSD-Dynamic response header value:",e),[]}}function f(e){return Wn[e]||"o"}function d(e,t,i){var o=e===kn?r:n,a=o[t]||{},s=o[Vn]||{};return a[i]||s[i]}return e={setConfig:function(){},initialize:function(){},reset:function(){a()},parseResponseHeaders:function(e,t){for(var i=null,a=null,u=e.split("\r\n"),d=u.length-1;d>=0;d--){var p=u[d].match(Bn(/^([^:]*):\s*(.*)$/,{key:1,value:2}));if(p&&p.groups){var h=p.groups.key.toLowerCase(),m=p.groups.value;switch(h){case Hn:i=c(m),o.trigger(We.CMSD_STATIC_HEADER,i);break;case Yn:a||(a=l(m))}}}var y=Vn;return i&&i.ot?y=i.ot:t&&(y=f(t)),s(r[y]),s(n[y]),i&&(r[y]=Object.assign(r[y]||{},i)),a&&(n[y]=Object.assign(n[y]||{},a)),{static:i,dynamic:a}},getMaxBitrate:function(e){var t=f(e);return d(qn,t,"mb")||-1},getEstimatedThroughput:function(e){var t=f(e);return d(qn,t,"etp")||null},getResponseDelay:function(e){var t=f(e);return d(qn,t,"rd")||null},getRoundTripTime:function(e){var t=f(e);return d(qn,t,"rtt")||null}},t=tt(i).getInstance().getLogger(e),a(),e}Kn.__dashjs_factory_name="CmsdModel";var Qn=L.getSingletonFactory(Kn);function $n(){var e,t,r=this.context,n={};function i(){t=tt(r).getInstance().getLogger(e)}function o(e){for(var t={},r=0,n=0,i=0,o=0,a=e.length,s=0;s<a;++s)r+=e[s].chunkDownloadTimeRelativeMS,n+=e[s].bufferLevel,i+=e[s].chunkDownloadTimeRelativeMS*e[s].bufferLevel,o+=e[s].chunkDownloadTimeRelativeMS*e[s].chunkDownloadTimeRelativeMS;return t.m=(i-r*n/a)/(o-r*r/a),t.b=n/a-t.m*r/a,function(e){return t.m*e+t.b}}function a(e){var t,r=!0,n=e.reduce((function(e,t){return e+t.bufferLevelAtSegmentEnd}),0)/e.length;return e.forEach((function(e){Math.abs(e.bufferLevelAtSegmentEnd/e.bufferLevelAtSegmentStart)<.95&&(r=!1),e.bufferLevelAtSegmentEnd/n<.8&&(r=!1),t?t>e.bitrate&&(r=!1):t=e.bitrate})),r}return e={setup:i,addMeasurement:function(e,t,r,i,a){e&&e.mediaType&&!n[e.mediaType]&&(n[e.mediaType]=[]);var s=e.mediaInfo.bitrateList.find((function(t){return t.id===e.representationId}));n[e.mediaType].push({index:e.index,repId:e.representationId,mediaType:e.mediaType,requestTimeMS:i,adjustedAvailabilityStartTimeMS:e.availabilityStartTime.getTime(),segDurationMS:1e3*e.duration,chunksDurationMS:r.reduce((function(e,t){return e+t.chunkDownloadDurationMS}),0),segmentBytes:r.reduce((function(e,t){return e+t.chunkBytes}),0),bitrate:s&&s.bandwidth,bitrateList:e.mediaInfo.bitrateList,chunkMeasurements:r,fetchDownloadDurationMS:t,throughputCapacityDelayMS:a,getEstimatedBufferLevel:o(r.slice(1))}),n[e.mediaType].length>10&&n[e.mediaType].shift()},getThroughputCapacityDelayMS:function(e,t){var r=n[e.mediaType]&&n[e.mediaType].slice(-3);return!r||r.length<3?0:a(r)?t/4>250?250:t/4:0},getEstimatedDownloadDurationMS:function(e){var r=n[e.mediaType].slice(-1).pop(),i=n[e.mediaType].slice(-3),o=r.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;r.bufferLevelAtSegmentStart=r.getEstimatedBufferLevel(o/2),r.bufferLevelAtSegmentEnd=r.getEstimatedBufferLevel(o);var s=a(i),u=s?.6:.8;if(r.isBufferStable&&1.05*r.segDurationMS<r.fetchDownloadDurationMS)return r.fetchDownloadDurationMS;if(!s||r.segDurationMS<r.fetchDownloadDurationMS)return.8*r.fetchDownloadDurationMS;if(r.adjustedAvailabilityStartTimeMS<=r.requestTimeMS+r.throughputCapacityDelayMS-r.segDurationMS)return.8*r.fetchDownloadDurationMS;for(var c=r.requestTimeMS+r.throughputCapacityDelayMS-r.adjustedAvailabilityStartTimeMS,l=0,f=0,d=0,p=0;p<r.chunkMeasurements.length;p++){var h=r.chunkMeasurements[p];if(c<f+h.chunkDownloadDurationMS)break;f+=h.chunkDownloadDurationMS,l+=h.chunkBytes,d++}if(c<0&&t.warn("request time was before adjusted availibitly start time"),l&&f&&d>.2*r.chunkMeasurements.length){var m=l/f,y=r.segmentBytes/m;return r.fetchDownloadDurationMS<y?r.fetchDownloadDurationMS*u:y*u}var g=r.bitrate;return r.bitrateList.some((function(e){if(e.bandwidth>r.bitrate)return g=e.bandwidth,!0})),g===r.bitrate?r.fetchDownloadDurationMS*u:u*r.segmentBytes*8*1e3/g}},i(),e}$n.__dashjs_factory_name="LowLatencyThroughputModel";var Zn=L.getSingletonFactory($n);function Jn(e){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(e)}function ei(e,t){if(Jn(e)!==t)throw fe.BAD_ARGUMENT_ERROR}var ti={DEFAULT:.5,STRONG:1,WEAK:0};function ri(e,t,r){var n,i;return n=void 0===e?-1:e,i=function(e){var t=ti.DEFAULT;return e!==ti.DEFAULT&&e!==ti.STRONG&&e!==ti.WEAK||(t=e),t}(r),{quality:n,reason:void 0===t?null:t,priority:i}}ri.__dashjs_factory_name="SwitchRequest";var ni=L.getClassFactory(ri);ni.NO_CHANGE=-1,ni.PRIORITY=ti,L.updateClassFactory(ri.__dashjs_factory_name,ni);var ii=ni;function oi(e){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(e)}function ai(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,si(n.key),n)}}function si(e){var t=function(e){if("object"!=oi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=oi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oi(t)?t:t+""}var ui=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()},(t=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&ai(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}());function ci(e){e=e||{};var t=this.context,r=e.dashMetrics;return{getMaxIndex:function(e){var n=ii(t).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return n;!function(){if(!r||!r.hasOwnProperty("getCurrentBufferState"))throw new Error(fe.MISSING_CONFIG_ERROR)}();var i=e.getMediaInfo(),o=e.getMediaType(),a=r.getCurrentBufferState(o),s=e.getScheduleController(),u=e.getAbrController(),c=e.getStreamInfo(),l=c?c.id:null,f=c&&c.manifestInfo?c.manifestInfo.isDynamic:null,d=u.getThroughputHistory(),p=d.getSafeAverageThroughput(o,f),h=d.getAverageLatency(o),m=e.useBufferOccupancyABR();return isNaN(p)||!a||m||u.getAbandonmentStateFor(l,o)!==ui.ABANDON_LOAD&&(a.state===ui.BUFFER_LOADED||f)&&(n.quality=u.getQualityForBitrate(i,p,l,h),s.setTimeToLoadDelay(0),n.reason={throughput:p,latency:h}),n},reset:function(){}}}ci.__dashjs_factory_name="ThroughputRule";var li=L.getClassFactory(ci);function fi(e){e=e||{};var t,r,n,i=2,o=this.context,a=Fe(o).getInstance(),s=e.dashMetrics;function u(){(n={})[fe.VIDEO]={ignoreCount:i},n[fe.AUDIO]={ignoreCount:i}}function c(){u()}function l(e){isNaN(e.startTime)||e.mediaType!==fe.AUDIO&&e.mediaType!==fe.VIDEO||n[e.mediaType].ignoreCount>0&&n[e.mediaType].ignoreCount--}return t={getMaxIndex:function(e){var t=ii(o).create();if(!e||!e.hasOwnProperty("getMediaType"))return t;!function(){if(!s||!s.hasOwnProperty("getCurrentBufferLevel")||!s.hasOwnProperty("getCurrentBufferState"))throw new Error(fe.MISSING_CONFIG_ERROR)}();var i=e.getMediaType(),a=s.getCurrentBufferState(i),u=e.getRepresentationInfo().fragmentDuration,c=e.getStreamInfo(),l=c?c.id:null,f=e.getScheduleController(),d=c&&c.manifestInfo&&c.manifestInfo.isDynamic;if(function(e,t){return!e&&n[t].ignoreCount>0}(f.getPlaybackController().getLowLatencyModeEnabled(),i)||!u)return t;if(a&&a.state===ui.BUFFER_EMPTY)r.debug("["+i+"] Switch to index 0; buffer is empty."),t.quality=0,t.reason="InsufficientBufferRule: Buffer is empty";else{var p=e.getMediaInfo(),h=e.getAbrController(),m=h.getThroughputHistory(),y=s.getCurrentBufferLevel(i),g=m.getAverageThroughput(i,d),_=m.getAverageLatency(i),b=g*(y/u)*.5;t.quality=h.getQualityForBitrate(p,b,l,_),t.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return t},reset:function(){u(),a.off(H.PLAYBACK_SEEKING,c,t),a.off(We.BYTES_APPENDED_END_FRAGMENT,l,t)}},r=tt(o).getInstance().getLogger(t),u(),a.on(H.PLAYBACK_SEEKING,c,t),a.on(We.BYTES_APPENDED_END_FRAGMENT,l,t),t}fi.__dashjs_factory_name="InsufficientBufferRule";var di=L.getClassFactory(fi);function pi(e){e=e||{};var t,r,n,i,o,a=this.context,s=e.mediaPlayerModel,u=e.dashMetrics,c=e.settings;function l(){n={},i={},o=[]}return t={shouldAbandon:function(e){var t=ii(a).create(ii.NO_CHANGE,{name:pi.__dashjs_factory_name});if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getCurrentRequest")&&e.hasOwnProperty("getRepresentationInfo")&&e.hasOwnProperty("getAbrController")))return t;var l,f,d=e.getMediaInfo(),p=e.getMediaType(),h=e.getStreamInfo(),m=h?h.id:null,y=e.getCurrentRequest();if(!isNaN(y.index)){l=p,f=y.index,n[l]=n[l]||{},n[l][f]=n[l][f]||{};var g=s.getStableBufferTime();if(u.getCurrentBufferLevel(p)>g)return t;var _=n[p][y.index];if(null===_||null===y.firstByteDate||i.hasOwnProperty(_.id))return t;if(void 0===_.firstByteTime&&(o[p]=[],_.firstByteTime=y.firstByteDate.getTime(),_.segmentDuration=y.duration,_.bytesTotal=y.bytesTotal,_.id=y.index),_.bytesLoaded=y.bytesLoaded,_.elapsedTime=(new Date).getTime()-_.firstByteTime,_.bytesLoaded>0&&_.elapsedTime>0&&function(e,t){o[e]=o[e]||[],o[e].push(t)}(p,Math.round(8*_.bytesLoaded/_.elapsedTime)),o[p].length>=c.get().streaming.abr.abrRulesParameters.abandonRequestsRule.minLengthToAverage&&_.elapsedTime>c.get().streaming.abr.abrRulesParameters.abandonRequestsRule.graceTimeThreshold&&_.bytesLoaded<_.bytesTotal){var b=o[p].reduce((function(e,t){return e+t}),0);if(_.measuredBandwidthInKbps=Math.round(b/o[p].length),_.estimatedTimeOfDownload=+(8*_.bytesTotal/_.measuredBandwidthInKbps/1e3).toFixed(2),_.estimatedTimeOfDownload<_.segmentDuration*c.get().streaming.abr.abrRulesParameters.abandonRequestsRule.abandonMultiplier||0===e.getRepresentationInfo().quality)return t;if(!i.hasOwnProperty(_.id)){var E=e.getAbrController(),v=_.bytesTotal-_.bytesLoaded,T=E.getBitrateList(d),S=E.getQualityForBitrate(d,_.measuredBandwidthInKbps*c.get().streaming.abr.bandwidthSafetyFactor,m),A=E.getMinAllowedIndexFor(p,m),I=void 0!==A?Math.max(A,S):S;v>_.bytesTotal*T[I].bitrate/T[E.getQualityFor(p,m)].bitrate&&(t.quality=I,t.reason.throughput=_.measuredBandwidthInKbps,t.reason.fragmentID=_.id,t.reason.rule=this.getClassName(),i[_.id]=_,r.debug("["+p+"] frag id",_.id," is asking to abandon and switch to quality to ",I," measured bandwidth was",_.measuredBandwidthInKbps),delete n[p][_.id])}}else _.bytesLoaded===_.bytesTotal&&delete n[p][_.id]}return t},reset:l},r=tt(a).getInstance().getLogger(t),l(),t}pi.__dashjs_factory_name="AbandonRequestsRule";var hi=L.getClassFactory(pi);function mi(){var e,t,r=this.context;return e={getMaxIndex:function(e){var n=ii(r).create();if(!e||!e.hasOwnProperty("getDroppedFramesHistory"))return n;var i=e.getDroppedFramesHistory(),o=e.getStreamInfo().id;if(i){var a=i.getFrameHistory(o);if(!a||0===a.length)return n;for(var s=0,u=0,c=ii.NO_CHANGE,l=1;l<a.length;l++)if(a[l]&&(s=a[l].droppedVideoFrames,(u=a[l].totalVideoFrames)>375&&s/u>.15)){c=l-1,t.debug("index: "+c+" Dropped Frames: "+s+" Total Frames: "+u);break}return ii(r).create(c,{droppedFrames:s})}return n}},t=tt(r).getInstance().getLogger(e),e}mi.__dashjs_factory_name="DroppedFramesRule";var yi=L.getClassFactory(mi);function gi(){var e,t,r=this.context;return e={getMaxIndex:function(e){for(var n=e?e.getSwitchHistory():null,i=n?n.getSwitchRequests():[],o=0,a=0,s=0,u=ii(r).create(),c=0;c<i.length;c++)if(void 0!==i[c]&&(o+=i[c].drops,a+=i[c].noDrops,s+=i[c].dropSize,o+a>=6&&o/a>.075)){u.quality=c>0&&i[c].drops>0?c-1:c,u.reason={index:u.quality,drops:o,noDrops:a,dropSize:s},t.debug("Switch history rule index: "+u.quality+" samples: "+(o+a)+" drops: "+o);break}return u}},t=tt(r).getInstance().getLogger(e),e}gi.__dashjs_factory_name="SwitchHistoryRule";var _i=L.getClassFactory(gi),bi=10;function Ei(e){e=e||{};var t,r,n,i=this.context,o=e.dashMetrics,a=e.mediaPlayerModel,s=Fe(i).getInstance();function u(e,t,r){var n=r.reduce((function(e,t,n){return t>r[e]?n:e}),0);if(0===n)return null;var i=Math.max(e,bi+2*t.length),o=(r[n]-1)/(i/bi-1);return{gp:o,Vp:bi/o}}function c(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function l(e,t){var r=a.getStableBufferTime();if(e.stableBufferTime!==r){var n=u(r,e.bitrates,e.utilities);if(n.Vp!==e.Vp||n.gp!==e.gp){var i=o.getCurrentBufferLevel(t),s=i+e.placeholderBuffer;s-=bi,s*=n.Vp/e.Vp,s+=bi,e.stableBufferTime=r,e.Vp=n.Vp,e.gp=n.gp,e.placeholderBuffer=Math.max(0,s-i)}}}function f(e,t){return e.Vp*(e.utilities[t]+e.gp)}function d(e,t){for(var r=e.bitrates[t],n=e.utilities[t],i=0,o=t-1;o>=0;--o)if(e.utilities[o]<e.utilities[t]){var a=e.bitrates[o],s=e.utilities[o],u=e.Vp*(e.gp+(r*s-a*n)/(r-a));i=Math.max(i,u)}return i}function p(e){var t=e.mediaType===fe.AUDIO?[fe.AUDIO]:n;for(var r in t)n.hasOwnProperty(r)&&2===n[r].state&&(n[r].placeholderBuffer=0)}function h(){for(var e in n)if(n.hasOwnProperty(e)){var t=n[e];0!==t.state&&(t.state=1,c(t))}}function m(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=n[e.chunk.mediaInfo.type];if(t&&0!==t.state){var r=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||r>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=r,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=r,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,g(t,e.chunk.mediaInfo.type)}}}function y(e){if(e&&e.metric===ui.HTTP_REQUEST&&e.value&&e.value.type===w.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=n[e.mediaType];t&&0!==t.state&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),g(t,e.mediaType))}}function g(e,t){if(!isNaN(e.lastSegmentStart)&&!isNaN(e.lastSegmentRequestTimeMs)&&!isNaN(e.placeholderBuffer)){if(e.placeholderBuffer*=.99,!isNaN(e.lastSegmentFinishTimeMs)){var r=o.getCurrentBufferLevel(t)+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),n=f(e,e.lastQuality),i=Math.max(0,n-r);e.placeholderBuffer=Math.min(i,e.placeholderBuffer)}e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN}}function _(e){if(e){var t=n[e.mediaType];t&&0!==t.state&&(t.abrQuality=e.newQuality)}}function b(e){if(e){var t=n[e.mediaType];if(t&&0!==t.state){var r,i=o.getCurrentBufferLevel(e.mediaType);r=t.abrQuality>0?d(t,t.abrQuality):bi;var a=Math.max(0,r-i);t.placeholderBuffer=Math.min(t.placeholderBuffer,a)}}}function E(){n={}}return t={getMaxIndex:function(e){var t=ii(i).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getScheduleController")&&e.hasOwnProperty("getStreamInfo")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("useBufferOccupancyABR")))return t;var s=e.getMediaInfo(),p=e.getMediaType(),h=e.getScheduleController(),m=e.getStreamInfo(),y=e.getAbrController(),g=y.getThroughputHistory(),_=m?m.id:null,b=m&&m.manifestInfo&&m.manifestInfo.isDynamic,E=e.useBufferOccupancyABR();if(t.reason=t.reason||{},!E)return t;h.setTimeToLoadDelay(0);var v=function(e){var t=e.getMediaType(),r=n[t];return r?0!==r.state&&l(r,t):(r=function(e){var t={},r=e.getMediaInfo().bitrateList.map((function(e){return e.bandwidth})),n=function(e){return e.map((function(e){return Math.log(e)}))}(r);n=n.map((function(e){return e-n[0]+1}));var i=a.getStableBufferTime(),o=u(i,r,n);return o?(t.state=1,t.bitrates=r,t.utilities=n,t.stableBufferTime=i,t.Vp=o.Vp,t.gp=o.gp,t.lastQuality=0,c(t)):t.state=0,t}(e),n[t]=r),r}(e);if(0===v.state)return t;var T,S=o.getCurrentBufferLevel(p),A=g.getAverageThroughput(p,b),I=g.getSafeAverageThroughput(p,b),w=g.getAverageLatency(p);if(t.reason.state=v.state,t.reason.throughput=A,t.reason.latency=w,isNaN(A))return t;switch(v.state){case 1:T=y.getQualityForBitrate(s,I,_,w),t.quality=T,t.reason.throughput=I,v.placeholderBuffer=Math.max(0,d(v,T)-S),v.lastQuality=T,!isNaN(v.lastSegmentDurationS)&&S>=v.lastSegmentDurationS&&(v.state=2);break;case 2:!function(e,t){var r=Date.now();if(isNaN(e.lastSegmentFinishTimeMs)){if(!isNaN(e.lastCallTimeMs)){var n=.001*(r-e.lastCallTimeMs);e.placeholderBuffer+=Math.max(0,n)}}else{var i=.001*(r-e.lastSegmentFinishTimeMs);e.placeholderBuffer+=Math.max(0,i)}e.lastCallTimeMs=r,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,l(e,t)}(v,p),T=function(e,t){for(var r=e.bitrates.length,n=NaN,i=NaN,o=0;o<r;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(i)||a>=i)&&(i=a,n=o)}return n}(v,S+v.placeholderBuffer);var R=y.getQualityForBitrate(s,I,_,w);T>v.lastQuality&&T>R&&(T=Math.max(R,v.lastQuality));var O=Math.max(0,S+v.placeholderBuffer-f(v,T));O<=v.placeholderBuffer?(v.placeholderBuffer-=O,O=0):(O-=v.placeholderBuffer,v.placeholderBuffer=0,T<y.getMaxAllowedIndexFor(p,_)?h.setTimeToLoadDelay(1e3*O):O=0),t.quality=T,t.reason.throughput=A,t.reason.latency=w,t.reason.bufferLevel=S,t.reason.placeholderBuffer=v.placeholderBuffer,t.reason.delay=O,v.lastQuality=T;break;default:r.debug("BOLA ABR rule invoked in bad state."),t.quality=y.getQualityForBitrate(s,I,_,w),t.reason.state=v.state,t.reason.throughput=I,t.reason.latency=w,v.state=1,c(v)}return t},reset:function(){E(),s.off(H.BUFFER_EMPTY,p,t),s.off(H.PLAYBACK_SEEKING,h,t),s.off(H.METRIC_ADDED,y,t),s.off(H.QUALITY_CHANGE_REQUESTED,_,t),s.off(H.FRAGMENT_LOADING_ABANDONED,b,t),s.off(We.MEDIA_FRAGMENT_LOADED,m,t)}},r=tt(i).getInstance().getLogger(t),E(),s.on(H.BUFFER_EMPTY,p,t),s.on(H.PLAYBACK_SEEKING,h,t),s.on(H.METRIC_ADDED,y,t),s.on(H.QUALITY_CHANGE_REQUESTED,_,t),s.on(H.FRAGMENT_LOADING_ABANDONED,b,t),s.on(We.MEDIA_FRAGMENT_LOADED,m,t),t}Ei.__dashjs_factory_name="BolaRule";var vi=L.getClassFactory(Ei);function Ti(e){e=e||{};var t,r,n,i,o=this.context,a=e.dashMetrics,s=Fe(o).getInstance();function u(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,e.lastSegmentUrl=""}function c(){for(var e in r)if(r.hasOwnProperty(e)){var t=r[e];0!==t.state&&(t.state=1,u(t))}}function l(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=r[e.chunk.mediaInfo.type],i=n[e.chunk.mediaInfo.type];if(t&&0!==t.state){var o=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||o>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=o,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=o,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,d(t,i)}}}function f(e){if(e&&e.metric===ui.HTTP_REQUEST&&e.value&&e.value.type===w.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=r[e.mediaType],i=n[e.mediaType];t&&0!==t.state&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),d(t,i))}}function d(e,t){isNaN(e.lastSegmentStart)||isNaN(e.lastSegmentRequestTimeMs)||(t.segment_request_start_s=.001*e.lastSegmentRequestTimeMs,t.segment_download_finish_s=.001*e.lastSegmentFinishTimeMs,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN)}function p(e){if(e&&e.mediaType){var t=r[e.mediaType];t&&0!==t.state&&(t.abrQuality=e.newQuality)}}function h(e,t){if(e.length!==t.length)return-1;for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r}function m(){r={},n={}}return t={getMaxIndex:function(e){var t,s=ii(o).create(),c=Math.pow(4,.99),l=Math.max(Math.pow(4,1),c*Math.sqrt(4)),f=e.getMediaInfo(),d=e.getMediaType(),p=f.bitrateList.map((function(e){return e.bandwidth})),m=p.length,y=e.getScheduleController(),g=e.getStreamInfo(),_=e.getAbrController(),b=_.getThroughputHistory(),E=g&&g.manifestInfo&&g.manifestInfo.isDynamic,v=e.useL2AABR(),T=a.getCurrentBufferLevel(d,!0),S=b.getSafeAverageThroughput(d,E),A=b.getAverageThroughput(d,E),I=b.getAverageLatency(d),R=e.getVideoModel().getPlaybackRate();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getScheduleController")&&e.hasOwnProperty("getStreamInfo")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("useL2AABR")))return s;if(s.reason=s.reason||{},!v||d===fe.AUDIO)return s;y.setTimeToLoadDelay(0);var O=function(e){var t=e.getMediaType(),i=r[t];return i||(i=function(e){var t={},r=e.getMediaInfo(),i=r.bitrateList.map((function(e){return e.bandwidth/1e3}));return t.state=1,t.bitrates=i,t.lastQuality=0,function(e){e&&e.type&&(n[e.type]={},n[e.type].w=[],n[e.type].prev_w=[],n[e.type].Q=0,n[e.type].segment_request_start_s=0,n[e.type].segment_download_finish_s=0,n[e.type].B_target=1.5)}(r),u(t),t}(e),r[t]=i),i}(e);if(0===O.state)return s;var N=n[d];if(!N)return s;if(s.reason.state=O.state,s.reason.throughput=A,s.reason.latency=I,isNaN(A))return s;switch(O.state){case 1:if(t=_.getQualityForBitrate(f,S,g.id,I),s.quality=t,s.reason.throughput=S,O.lastQuality=t,!isNaN(O.lastSegmentDurationS)&&T>=N.B_target){O.state=2,N.Q=c;for(var D=0;D<m;++D)D===O.lastQuality?N.prev_w[D]=1:N.prev_w[D]=0}break;case 2:var P=[],C=a.getCurrentHttpRequest(d).trace.reduce((function(e,t){return e+t.d}),0),L=a.getCurrentHttpRequest(d).trace.reduce((function(e,t){return e+t.b[0]}),0),M=Math.round(8*L/C),F=a.getCurrentHttpRequest(d);if(M<1&&(M=1),F.url===O.lastSegmentUrl||F.type===w.INIT_SEGMENT_TYPE)t=O.lastQuality;else{for(var x=O.lastSegmentDurationS,U=1,B=0;B<m;++B)p[B]=p[B]/1e3,R*p[B]>M&&(U=-1),N.w[B]=N.prev_w[B]+U*(x/(2*l))*((N.Q+c)*(R*p[B]/M));N.w=function(e){for(var t=e.length,r=!1,n=[],i=0;i<t;++i)n[i]=e[i];for(var o=e.sort((function(e,t){return t-e})),a=0,s=0,u=[],c=0;c<t-1;++c)if((s=((a+=o[c])-1)/(c+1))>=o[c+1]){r=!0;break}r||(s=(a+o[t-1]-1)/t);for(var l=0;l<t;++l)u[l]=Math.max(n[l]-s,0);return u}(N.w);for(var j=0;j<m;++j)P[j]=N.w[j]-N.prev_w[j],N.prev_w[j]=N.w[j];N.Q=Math.max(0,N.Q-x+x*R*((h(p,N.prev_w)+h(p,P))/M));for(var k=[],q=0;q<m;++q)k[q]=Math.abs(p[q]-h(N.w,p));(t=k.indexOf(Math.min.apply(Math,k)))>O.lastQuality&&p[O.lastQuality+1]<=M&&(t=O.lastQuality+1),p[t]>=M&&(N.Q=2*Math.max(c,N.Q)),O.lastSegmentUrl=F.url}s.quality=t,s.reason.throughput=A,s.reason.latency=I,s.reason.bufferLevel=T,O.lastQuality=s.quality;break;default:i.debug("L2A ABR rule invoked in bad state."),s.quality=_.getQualityForBitrate(f,S,g.id,I),s.reason.state=O.state,s.reason.throughput=S,s.reason.latency=I,O.state=1,u(O)}return s},reset:function(){m(),s.off(We.PLAYBACK_SEEKING,c,t),s.off(We.MEDIA_FRAGMENT_LOADED,l,t),s.off(We.METRIC_ADDED,f,t),s.off(We.QUALITY_CHANGE_REQUESTED,p,t)}},i=tt(o).getInstance().getLogger(t),m(),s.on(We.PLAYBACK_SEEKING,c,t),s.on(We.MEDIA_FRAGMENT_LOADED,l,t),s.on(We.METRIC_ADDED,f,t),s.on(We.QUALITY_CHANGE_REQUESTED,p,t),t}Ti.__dashjs_factory_name="L2ARule";var Si=L.getClassFactory(Ti);function Ai(){var e,t,r,n,i,o,a,s,u,c=this.context;function l(){r=null,n=1,i=100,o=0,a=null,s=null,u="dynamic_weight_selection"}function f(){var e=0;if(r)for(var t=0;t<r.length;t++){var n=r[t];n.state.throughput>e&&(e=n.state.throughput)}return e}function d(e,t,r){var n=e.map((function(e,n){return r[n]*Math.pow(e-t[n],2)})).reduce((function(e,t){return e+t}));return(n<0?-1:1)*Math.sqrt(Math.abs(n))}function p(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],o=(s=e,d([(a=i).state.throughput,a.state.latency,a.state.rebuffer,a.state.switch],[s.state.throughput,s.state.latency,s.state.rebuffer,s.state.switch],[1,1,1,1]));h(i,r,Math.exp(-1*Math.pow(o,2)/(2*Math.pow(.1,2))))}var a,s}function h(e,t,r){var n=e.state,i=[.01,.01,.01,.01];n.throughput=n.throughput+(t[0]-n.throughput)*i[0]*r,n.latency=n.latency+(t[1]-n.latency)*i[1]*r,n.rebuffer=n.rebuffer+(t[2]-n.rebuffer)*i[2]*r,n.switch=n.switch+(t[3]-n.switch)*i[3]*r}return e={getNextQuality:function(e,c,l,h,m,y,g){var _=l,b=h,E=c,v=function(e){if(!r){r=[];var t=e.bitrateList,i=[];o=t[0].bandwidth,t.forEach((function(e){i.push(e.bandwidth),e.bandwidth<o&&(o=e.bandwidth)})),c=i.map((function(e){return Math.pow(e,2)})).reduce((function(e,t){return e+t})),n=Math.sqrt(c);for(var a=0;a<t.length;a++){var u={qualityIndex:a,bitrate:t[a].bandwidth,state:{throughput:t[a].bandwidth/n,latency:0,rebuffer:0,switch:0}};r.push(u)}s=function(e){var t=[],r=function(e){for(var t=[],r=0;r<e;r++){var n=[Math.random()*f(),Math.random(),Math.random(),Math.random()];t.push(n)}return t}(Math.pow(e.length,2));t.push(r[0]);for(var n=[1,1,1,1],i=1;i<e.length;i++){for(var o=null,a=null,s=0;s<r.length;s++){for(var u=r[s],c=null,l=0;l<t.length;l++){var p=d(u,t[l],n);(null===c||p<c)&&(c=p)}(null===a||c>a)&&(o=u,a=c)}t.push(o)}for(var h=null,m=null,y=0;y<t.length;y++){for(var g=0,_=0;_<t.length;_++)y!==_&&(g+=d(t[y],t[_],n));(null===h||g>h)&&(h=g,m=y)}var b=[];for(b.push(t[m]),t.splice(m,1);t.length>0;){for(var E=null,v=null,T=0;T<t.length;T++){var S=d(b[0],t[T],n);(null===E||S<E)&&(E=S,v=T)}b.push(t[v]),t.splice(v,1)}return b}(r)}var c;return r}(e),T=c/n;T>1&&(T=f()),l/=i,t.debug("getNextQuality called throughput:".concat(T," latency:").concat(l," bufferSize:").concat(h," currentQualityIndex:").concat(y," playbackRate:").concat(m));var S=v[y],A=S.bitrate*g.getSegmentDuration()/E,I=Math.max(0,A-b);if(b-A<g.getMinBuffer())return t.debug("Buffer is low for bitrate= ".concat(S.bitrate," downloadTime=").concat(A," currentBuffer=").concat(b," rebuffer=").concat(I)),function(e,t){var n=0,i=e;if(r)for(var o=0;o<r.length;o++){var a=r[o];a.bitrate<e.bitrate&&a.bitrate>n&&t>a.bitrate&&(n=a.bitrate,i=a)}return i}(S,E).qualityIndex;switch(u){case"manual_weight_selection":a=[.4,.4,.4,.4];break;case"random_weight_selection":!function(e){a=function(e){for(var t=[],r=Math.sqrt(2/e),n=0;n<4;n++)t.push(Math.random()*r);return a=t}(e.length)}(v);break;default:!function(e,t,r,n,i,o,u){a||(a=s[s.length-1]);var c=e.findWeightVector(t,r,n,i,o,u);null!==c&&-1!==c&&(a=c)}(g,v,_,b,I,E,m)}for(var w=null,R=null,O=null,N=0;N<v.length;N++){var D=v[N],P=D.state,C=[P.throughput,P.latency,P.rebuffer,P.switch],L=a.slice(),M=g.getNextBufferWithBitrate(D.bitrate,b,E),F=M<g.getMinBuffer();F&&t.debug("Buffer is low for bitrate=".concat(D.bitrate," downloadTime=").concat(A," currentBuffer=").concat(b," nextBuffer=").concat(M)),(D.bitrate>c-1e4||F)&&D.bitrate!==o&&(L[0]=100);var x=d(C,[T,0,0,0],L);(null===w||x<w)&&(w=x,R=D.qualityIndex,O=D)}var U=Math.abs(S.bitrate-O.bitrate)/n;return p(S,v,[T,l,I,U]),p(O,v,[T,0,0,U]),R},reset:function(){l()}},t=tt(c).getInstance().getLogger(e),l(),e}Ai.__dashjs_factory_name="LearningAbrController";var Ii=L.getClassFactory(Ai);function wi(e){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}function Ri(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ni(n.key),n)}}function Oi(e,t,r){return t&&Ri(e.prototype,t),r&&Ri(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ni(e){var t=function(e){if("object"!=wi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wi(t)?t:t+""}var Di=Oi((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}));function Pi(){var e,t,r,n,i;function o(){t=null,r=null,n=null,i=null}function a(e,t,r,n){var i=new Di;return i.type=e,i.weights.bitrateReward=t||1,i.weights.bitrateSwitchPenalty=1,i.weights.rebufferPenalty=r||1e3,i.weights.latencyPenalty=[],i.weights.latencyPenalty.push({threshold:1.1,penalty:.05*n}),i.weights.latencyPenalty.push({threshold:1e8,penalty:.1*r}),i.weights.playbackSpeedPenalty=n||200,i}function s(e,t,r,n,i){i.bitrateWSum+=i.weights.bitrateReward*e,i.lastBitrate&&(i.bitrateSwitchWSum+=i.weights.bitrateSwitchPenalty*Math.abs(e-i.lastBitrate)),i.lastBitrate=e,i.rebufferWSum+=i.weights.rebufferPenalty*t;for(var o=0;o<i.weights.latencyPenalty.length;o++){var a=i.weights.latencyPenalty[o];if(r<=a.threshold){i.latencyWSum+=a.penalty*r;break}}i.playbackSpeedWSum+=i.weights.playbackSpeedPenalty*Math.abs(1-n),i.totalQoe=i.bitrateWSum-i.bitrateSwitchWSum-i.rebufferWSum-i.latencyWSum-i.playbackSpeedWSum}return e={setupPerSegmentQoe:function(e,o,s){t=a("segment",e,o,s),r=e,n=o,i=s},logSegmentMetrics:function(e,r,n,i){t&&s(e,r,n,i,t)},getPerSegmentQoe:function(){return t},calculateSingleUseQoe:function(e,t,o,u){var c=null;return r&&n&&i&&(c=a("segment",r,n,i)),c?(s(e,t,o,u,c),c.totalQoe):0},reset:function(){o()}},o(),e}Pi.__dashjs_factory_name="LoLpQoeEvaluator";var Ci=L.getClassFactory(Pi);function Li(e){var t,r,n,i,o,a,s=e.targetLatency,u=e.bufferMin,c=e.segmentDuration,l=e.qoeEvaluator;function f(){return c}function d(e,t){var r=f();return t>r?e-r:e+r-t}return t={getMinBuffer:function(){return u},getSegmentDuration:f,getNextBufferWithBitrate:function(e,t,r){return d(t,e*c/r)},getNextBuffer:d,findWeightVector:function(e,t,i,o,a,f){var p=null,h=null,m=null,y=Math.abs(t-n);return e.forEach((function(e){r.forEach((function(r){r[0];var n=r[1],o=r[2],g=(r[3],e.bitrate*c/a),_=d(i,g),b=(0===o?10:1/o)*Math.max(1e-5,g-_),E=(0===n?10:1/n)*e.state.latency,v=l.calculateSingleUseQoe(e.bitrate,b,E,f);(null===p||v>p)&&function(e,t,r){return!(e>s+r)&&t>=u}(t,_,y)&&(p=v,h=r,m=e.bitrate)}))})),null===h&&null===m&&(h=-1),n=t,h}},o=(i=[.2,.4,.6,.8,1]).map((function(e){return[e]})),r=(a=function(e,t,r){if(r===t)return e;for(var n=e.length,o=0;o<n;o++)for(var s=e.shift(),u=0;u<i.length;u++)e.push(s.concat(i[u]));return a(e,t,r+1)})(o,4,1),n=0,t}Li.__dashjs_factory_name="LoLpWeightSelector";var Mi=L.getClassFactory(Li);function Fi(e){var t,r,n,i,o=(e=e||{}).dashMetrics,a=this.context;return r={getMaxIndex:function(e){try{var r=ii(a).create(),s=e.getMediaInfo().type,u=e.getAbrController(),c=e.getStreamInfo(),l=u.getQualityFor(s,c.id),f=e.getMediaInfo(),d=o.getCurrentBufferState(s),p=e.getScheduleController(),h=o.getCurrentBufferLevel(s,!0),m=c&&c.manifestInfo?c.manifestInfo.isDynamic:null,y=p.getPlaybackController(),g=y.getCurrentLiveLatency();if(!e.useLoLPABR()||s===fe.AUDIO)return r;g||(g=0);var _=y.getPlaybackRate(),b=u.getThroughputHistory().getSafeAverageThroughput(s,m);if(t.debug("Throughput ".concat(Math.round(b)," kbps")),isNaN(b)||!d)return r;if(u.getAbandonmentStateFor(c.id,s)===ui.ABANDON_LOAD)return r;for(var E=f.bitrateList,v=e.getRepresentationInfo().fragmentDuration,T=E[0].bandwidth/1e3,S=E[E.length-1].bandwidth/1e3,A=0;A<E.length;A++){var I=E[A].bandwidth/1e3;I>S?S=I:I<T&&(T=I)}var w=E[l].bandwidth/1e3,R=o.getCurrentHttpRequest(s,!0),O=(R.tresponse.getTime()-R.trequest.getTime())/1e3,N=O>v?O-v:0;i.setupPerSegmentQoe(v,S,T),i.logSegmentMetrics(w,N,g,_);var D=Mi(a).create({targetLatency:1.5,bufferMin:.3,segmentDuration:v,qoeEvaluator:i});return r.quality=n.getNextQuality(f,1e3*b,g,h,_,l,D),r.reason={throughput:b,latency:g},r.priority=ii.PRIORITY.STRONG,p.setTimeToLoadDelay(0),r.quality!==l&&t.debug("[TgcLearningRule]["+s+"] requesting switch to index: ",r.quality,"Average throughput",Math.round(b),"kbps"),r}catch(e){throw e}},reset:function(){n.reset(),i.reset()}},t=tt(a).getInstance().getLogger(r),n=Ii(a).create(),i=Ci(a).create(),r}Fi.__dashjs_factory_name="LoLPRule";var xi=L.getClassFactory(Fi),Ui="qualitySwitchRules",Bi="abandonFragmentRules";function ji(e){e=e||{};var t,r,n=this.context,i=e.mediaPlayerModel,o=e.customParametersModel,a=e.dashMetrics,s=e.settings;function u(e){return e.filter((function(e){return e.quality>ii.NO_CHANGE}))}function c(e){var t,r,i,o,a,s={},u=null;if(0!==e.length){for(s[ii.PRIORITY.STRONG]={quality:ii.NO_CHANGE,reason:null},s[ii.PRIORITY.WEAK]={quality:ii.NO_CHANGE,reason:null},s[ii.PRIORITY.DEFAULT]={quality:ii.NO_CHANGE,reason:null},t=0,r=e.length;t<r;t+=1)(i=e[t]).quality!==ii.NO_CHANGE&&(s[i.priority].quality===ii.NO_CHANGE||s[i.priority].quality>i.quality)&&(s[i.priority].quality=i.quality,s[i.priority].reason=i.reason||null);return s[ii.PRIORITY.WEAK].quality!==ii.NO_CHANGE&&(u=s[ii.PRIORITY.WEAK]),s[ii.PRIORITY.DEFAULT].quality!==ii.NO_CHANGE&&(u=s[ii.PRIORITY.DEFAULT]),s[ii.PRIORITY.STRONG].quality!==ii.NO_CHANGE&&(u=s[ii.PRIORITY.STRONG]),u&&(o=u.quality,a=u.reason),ii(n).create(o,a)}}return{initialize:function(){t=[],r=[],s.get().streaming.abr.useDefaultABRRules&&(s.get().streaming.abr.ABRStrategy===fe.ABR_STRATEGY_L2A?t.push(Si(n).create({dashMetrics:a,settings:s})):s.get().streaming.abr.ABRStrategy===fe.ABR_STRATEGY_LoLP?t.push(xi(n).create({dashMetrics:a})):(t.push(vi(n).create({dashMetrics:a,mediaPlayerModel:i,settings:s})),t.push(li(n).create({dashMetrics:a})),s.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&t.push(di(n).create({dashMetrics:a,settings:s})),s.get().streaming.abr.additionalAbrRules.switchHistoryRule&&t.push(_i(n).create()),s.get().streaming.abr.additionalAbrRules.droppedFramesRule&&t.push(yi(n).create()),s.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&r.push(hi(n).create({dashMetrics:a,mediaPlayerModel:i,settings:s})))),o.getAbrCustomRules().forEach((function(e){e.type===Ui&&t.push(e.rule(n).create()),e.type===Bi&&r.push(e.rule(n).create())}))},reset:function(){[t,r].forEach((function(e){e&&e.length&&e.forEach((function(e){return e.reset&&e.reset()}))})),t=[],r=[]},getMaxQuality:function(e){return c(u(t.map((function(t){return t.getMaxIndex(e)}))))||ii(n).create()},getMinSwitchRequest:c,shouldAbandonFragment:function(e,t){var i=c(u(r.map((function(r){return r.shouldAbandon(e,t)}))));return i&&(i.reason.forceAbandon=!0),i||ii(n).create()},getQualitySwitchRules:function(){return t}}}ji.__dashjs_factory_name="ABRRulesCollection";var ki=L.getClassFactory(ji);ki.QUALITY_SWITCH_RULES=Ui,ki.ABANDON_FRAGMENT_RULES=Bi,L.updateSingletonFactory(ji.__dashjs_factory_name,ki);var qi=ki;function Gi(){var e,t,r,n,i,o,a,s,u=this.context,c=ot(u).getInstance();function l(){n=[],i=[],o=[],s=[],a=null,t=[]}function f(e,t){var r=-1;e.some((function(e,n){if(e===t)return r=n,!0})),r<0||e.splice(r,1)}function d(e){var t;for(t=0;t<s.length;t++)if(s[t].rulename===e)return t;return-1}function p(e,r){h(e,r);var n=new Vt;n.schemeIdUri=e,n.value=r,t.push(n)}function h(e,r){ei(e,"string"),ei(r,"string"),t.forEach((function(n,i){n.schemeIdUri===e&&n.value===r&&t.splice(i,1)}))}return e={getCustomInitialTrackSelectionFunction:function(){return a},setCustomInitialTrackSelectionFunction:function(e){a=e},resetCustomInitialTrackSelectionFunction:function(){a=null},getLicenseResponseFilters:function(){return i},getLicenseRequestFilters:function(){return n},getCustomCapabilitiesFilters:function(){return o},registerCustomCapabilitiesFilter:function(e){o.push(e)},registerLicenseResponseFilter:function(e){i.push(e)},registerLicenseRequestFilter:function(e){n.push(e)},unregisterCustomCapabilitiesFilter:function(e){f(o,e)},unregisterLicenseResponseFilter:function(e){f(i,e)},unregisterLicenseRequestFilter:function(e){f(n,e)},addAbrCustomRule:function(e,t,r){if("string"!=typeof e||e!==qi.ABANDON_FRAGMENT_RULES&&e!==qi.QUALITY_SWITCH_RULES||"string"!=typeof t)throw fe.BAD_ARGUMENT_ERROR;var n=d(t);-1===n?s.push({type:e,rulename:t,rule:r}):(s[n].type=e,s[n].rule=r)},removeAllAbrCustomRule:function(){s=[]},removeAbrCustomRule:function(e){if(e){var t=d(e);-1!==t&&s.splice(t,1)}else s=[]},getAbrCustomRules:function(){return s},addUTCTimingSource:p,removeUTCTimingSource:h,getUTCTimingSources:function(){return t},clearDefaultUTCTimingSources:function(){t=[]},restoreDefaultUTCTimingSources:function(){var e=c.get().streaming.utcSynchronization.defaultTimingSource;p(e.scheme,e.value)},setXHRWithCredentialsForType:function e(t,n){t?r[t]=!!n:Object.keys(r).forEach((function(t){e(t,n)}))},getXHRWithCredentialsForType:function(e){var t=r[e];return void 0===t?r.default:t},setConfig:function(){},reset:function(){l()}},r={default:!1},l(),e}Gi.__dashjs_factory_name="CustomParametersModel";var Hi=L.getSingletonFactory(Gi);function Yi(e){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(e)}function Vi(e,t,r){return(t=function(e){var t=function(e){if("object"!=Yi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zi(e){e=e||{};var t,r,n,i,o,a,s,u,c,l,f=this.context,d=e.errHandler,p=e.dashMetrics,h=e.mediaPlayerModel,m=e.requestModifier,y=e.boxParser,g=e.errors,_=e.requestTimeout||0,b=Fe(f).getInstance(),E=ot(f).getInstance();function v(e,t){var g,T=e.request,S=[],A=!0,I=!0,R=new Date,O=R,N=0,D=null,P=null;if(!m||!p||!d)throw new Error("config object is not correct or missing");var C,L=function(e){T.requestStartDate=R,T.requestEndDate=new Date,T.firstByteDate=T.firstByteDate||R,T.fileLoaderType=P;var t=g.response?g.response.responseURL:null,r=g.response?g.response.status:null,n=g.response&&g.response.getAllResponseHeaders?g.response.getAllResponseHeaders():g.response?g.response.responseHeaders:null,i=n&&E.get().streaming.cmsd&&E.get().streaming.cmsd.enabled?s.parseResponseHeaders(n,T.mediaType):null;p.addHttpRequest(T,t,r,n,e?S:null,i)},M=function(e){I=!1,L(e),T.type===w.MPD_TYPE&&(p.addManifestUpdate(T),b.trigger(We.MANIFEST_LOADING_FINISHED,{request:T}))},F=function(){if(D&&(clearTimeout(D),D=null),-1!==r.indexOf(g)&&(r.splice(r.indexOf(g),1),I))if(M(!1),t>0){try{E.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&T.type===w.MEDIA_SEGMENT_TYPE&&h.getRetryAttemptsForType(w.MEDIA_SEGMENT_TYPE)===t&&b.trigger(We.ATTEMPT_BACKGROUND_SYNC)}catch(e){}t--;var n={config:e};i.push(n),n.timeout=setTimeout((function(){-1!==i.indexOf(n)&&(i.splice(i.indexOf(n),1),v(e,t))}),h.getRetryIntervalsForType(T.type))}else{if(T.type===w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;d.error(new ht(o[T.type],T.url+" is not available",{request:T,response:g.response})),e.error&&e.error(T,"error",g.response.statusText,g.response),e.complete&&e.complete(T,g.response.statusText)}};T.hasOwnProperty("availabilityTimeComplete")&&!1===T.availabilityTimeComplete&&window.fetch&&"arraybuffer"===T.responseType&&T.type===w.MEDIA_SEGMENT_TYPE?((C=ct(f).create({requestModifier:m,lowLatencyThroughputModel:c,boxParser:y})).setup({dashMetrics:p}),P=fe.FILE_LOADER_TYPES.FETCH):(C=Ae(f).create({requestModifier:m}),P=fe.FILE_LOADER_TYPES.XHR);var x=null,U=m.modifyRequestURL?m.modifyRequestURL(T.url):T.url;if(E.get().streaming.cmcd&&E.get().streaming.cmcd.enabled){var B=E.get().streaming.cmcd.mode;if(B===fe.CMCD_MODE_QUERY){var j=function(e){try{var t=[],r=a.getQueryParameter(e);return r&&t.push(r),t}catch(e){return[]}}(T);U=Ce.addAditionalQueryParameterToUrl(U,j)}else B===fe.CMCD_MODE_HEADER&&(x=a.getHeaderParameters(T))}var k=u.getXHRWithCredentialsForType(T.type);if(T.queryParams){var q=Object.keys(T.queryParams).map((function(e){return{key:e,value:T.queryParams[e]}}));U=Ce.addAditionalQueryParameterToUrl(U,q)}T.url=U,g={url:U,method:w.GET,withCredentials:k,request:T,onload:function(){g.response.status>=200&&g.response.status<=299&&(M(!0),e.success&&e.success(g.response.response,g.response.statusText,g.response.responseURL),e.complete&&e.complete(T,g.response.statusText))},onend:F,onerror:F,progress:function(t){var r=new Date;A&&(A=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(T.firstByteDate=r)),t.lengthComputable&&(T.bytesLoaded=t.loaded,T.bytesTotal=t.total),t.noTrace||(S.push({s:O,d:t.time?t.time:r.getTime()-O.getTime(),b:[t.loaded?t.loaded-N:0]}),O=r,N=t.loaded),D&&(clearTimeout(D),D=null),E.get().streaming.fragmentRequestProgressTimeout>0&&(D=setTimeout((function(){l.warn("Abort request "+g.url+" due to progress timeout"),g.response.onabort=null,g.loader.abort(g),F()}),E.get().streaming.fragmentRequestProgressTimeout)),e.progress&&t&&e.progress(t)},onabort:function(){L(!0),D&&(clearTimeout(D),D=null),e.abort&&e.abort(T)},ontimeout:function(e){var t;if(e.lengthComputable){var r=e.loaded/e.total*100;t="Request timeout: loaded: "+e.loaded+", out of: "+e.total+" : "+r.toFixed(3)+"% Completed"}else t="Request timeout: non-computable download size";l.warn(t)},loader:C,timeout:_,headers:x};var G=(new Date).getTime();if(isNaN(T.delayLoadingTime)||G>=T.delayLoadingTime)r.push(g),C.load(g);else{var H={httpRequest:g};n.push(H),H.delayTimeout=setTimeout((function(){if(-1!==n.indexOf(H)){n.splice(n.indexOf(H),1);try{R=new Date,O=R,r.push(H.httpRequest),C.load(H.httpRequest)}catch(e){H.httpRequest.onerror()}}}),T.delayLoadingTime-G)}}return t={load:function(e){e.request?v(e,h.getRetryAttemptsForType(e.request.type)):e.error&&e.error(e.request,"error")},abort:function(){i.forEach((function(e){clearTimeout(e.timeout),e.config.request&&e.config.abort&&e.config.abort(e.config.request)})),i=[],n.forEach((function(e){return clearTimeout(e.delayTimeout)})),n=[],r.forEach((function(e){e.request.type!==w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e))})),r=[]}},l=tt(f).getInstance().getLogger(t),r=[],n=[],i=[],a=xn(f).getInstance(),s=Qn(f).getInstance(),c=Zn(f).getInstance(),u=Hi(f).getInstance(),o=Vi(Vi(Vi(Vi(Vi(Vi(Vi({},w.MPD_TYPE,g.DOWNLOAD_ERROR_ID_MANIFEST_CODE),w.XLINK_EXPANSION_TYPE,g.DOWNLOAD_ERROR_ID_XLINK_CODE),w.INIT_SEGMENT_TYPE,g.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),w.MEDIA_SEGMENT_TYPE,g.DOWNLOAD_ERROR_ID_CONTENT_CODE),w.INDEX_SEGMENT_TYPE,g.DOWNLOAD_ERROR_ID_CONTENT_CODE),w.BITSTREAM_SWITCHING_SEGMENT_TYPE,g.DOWNLOAD_ERROR_ID_CONTENT_CODE),w.OTHER_TYPE,g.DOWNLOAD_ERROR_ID_CONTENT_CODE),t}zi.__dashjs_factory_name="HTTPLoader";var Wi=L.getClassFactory(zi);function Xi(){var e;function t(){e={}}function r(){t()}return r(),{getLoader:function(t){for(var r in e)if(e.hasOwnProperty(r)&&t.startsWith(r))return e[r];return Wi},registerLoader:function(t,r){e[t]=r},unregisterLoader:function(t){e[t]&&delete e[t]},unregisterAllLoader:t,reset:r}}Xi.__dashjs_factory_name="SchemeLoaderFactory";var Ki=L.getSingletonFactory(Xi);function Qi(e){e=e||{};var t,r,n=this.context;return t=Ki(n).getInstance(),{load:function(i){if(!r){var o=t.getLoader(i&&i.request?i.request.url:null);r=o(n).create({errHandler:e.errHandler,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,dashMetrics:e.dashMetrics,boxParser:e.boxParser?e.boxParser:null,constants:e.constants?e.constants:null,dashConstants:e.dashConstants?e.dashConstants:null,urlUtils:e.urlUtils?e.urlUtils:null,requestTimeout:isNaN(e.requestTimeout)?0:e.requestTimeout,errors:e.errors})}r.load(i)},abort:function(){r&&r.abort()}}}Qi.__dashjs_factory_name="URLLoader";var $i=L.getClassFactory(Qi);function Zi(e){return Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zi(e)}function Ji(e,t,r){return t=to(t),function(e,t){if(t&&("object"==Zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eo()?Reflect.construct(t,r||[],to(e).constructor):t.apply(e,r))}function eo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(eo=function(){return!!e})()}function to(e){return to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},to(e)}function ro(e,t){return ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ro(e,t)}var no=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ji(this,t,[e])).checkForExistenceOnly=!0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ro(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(P);function io(e){e=e||{};var t,r,n=this.context,i=e.eventBus,o=e.events,a=e.urlUtils,s=e.errors,u=e.streamId;return t={checkForExistence:function(e){var t=function(t){i.trigger(o.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var n=new no(e.url);r.load({request:n,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)},load:function(e){var n=function(r,n){i.trigger(o.LOADING_COMPLETED,{request:e,response:r||null,error:n||null,sender:t})};e?r.load({request:e,progress:function(r){i.trigger(o.LOADING_PROGRESS,{request:e,stream:r.stream,streamId:u}),r.data&&i.trigger(o.LOADING_DATA_PROGRESS,{request:e,response:r.data||null,error:null,sender:t})},success:function(e){n(e)},error:function(e,t,r){n(void 0,new ht(s.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,r,t))},abort:function(e){e&&i.trigger(o.LOADING_ABANDONED,{mediaType:e.mediaType,request:e,sender:t})}}):n(void 0,new ht(s.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,s.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){r&&r.abort()},reset:function(){r&&(r.abort(),r=null)}},r=$i(n).create({errHandler:e.errHandler,errors:s,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,urlUtils:a,constants:fe,boxParser:e.boxParser,dashConstants:e.dashConstants,requestTimeout:e.settings.get().streaming.fragmentRequestTimeout}),t}io.__dashjs_factory_name="FragmentLoader";var oo=L.getClassFactory(io);function ao(e){e=e||{};var t,r,n,i,o,a,s,u,c,l,f,d=this.context,p=e.eventBus,h=e.events,m=e.errors,y=e.debug,g=e.constants,_=e.settings,b=e.dashConstants,E=e.id,v=e.type,T=e.streamInfo,S=e.errHandler,A=e.mediaPlayerModel,I=e.abrController,w=e.playbackController,R=e.adapter,O=e.dashMetrics,N=e.baseURLController,D=e.timelineConverter,P=e.bitrate,C=e.offlineStoreController,L=e.callbacks&&e.callbacks.completed,M=e.callbacks&&e.callbacks.progression;function F(e){if(e.sender===a){if(null!==e.request){var t="InitializationSegment"===e.request.type,r=t?"init":e.request.index,n=e.request.representationId+"_"+r;C.storeFragment(E,n,e.response).then((function(){t||C.setRepresentationCurrentState(E,e.request.representationId,{index:e.request.index,downloaded:u})}))}e.error&&e.request.serviceLocation&&!f?a.executeRequest(e.request):(u++,B())}}function x(e){e.fragmentModel===a&&(r.info("[".concat(E,"] Stream is complete")),U(),L())}function U(){f||(f=!0)}function B(){if(!f&&isNaN(o.getCurrentRepresentation())){var e=null;c?(e=i.getNextSegmentRequest(j(),o.getCurrentRepresentation()),M&&M(t,u,k())):(e=o.getCurrentRepresentation()?i.getInitRequest(j(),o.getCurrentRepresentation()):null,c=!0),e?(r.info("[".concat(E,"] download request : ").concat(e.url)),a.executeRequest(e)):r.info("[".concat(E,"] no request to be downloaded"))}}function j(){return n}function k(){return o.getCurrentRepresentation().numberOfSegments+1}function q(){c=!1,u=0,s=!1}return t={initialize:function(e){n=e,i.initialize(!1),function(e){s=!0;var t=R.getVoRepresentations(e),r=t.findIndex((function(e){return e.id===P.id}));v===g.VIDEO||v===g.AUDIO||v===g.TEXT?o.updateData(null,t,v,e.isFragmented,r):s=!1}(n)},getMediaInfo:j,getRepresentationController:function(){return o},removeExecutedRequestsBeforeTime:function(e){a&&a.removeExecutedRequestsBeforeTime(e)},getType:function(){return v},getRepresentationId:function(){return o.getCurrentRepresentation().id},isUpdating:function(){return s},start:function(){if(o){if(!o.getCurrentRepresentation())throw new Error("Start denied to OfflineStreamProcessor");f=!1,C.getRepresentationCurrentState(E,o.getCurrentRepresentation().id).then((function(e){e&&(i.setCurrentIndex(e.index),u=e.downloaded),B()})).catch((function(){B()}))}},stop:U,getAvailableSegmentsNumber:k,reset:function(){q(),i.reset(),p.off(h.STREAM_REQUESTING_COMPLETED,x,t),p.off(h.FRAGMENT_LOADING_COMPLETED,F,t)}},q(),r=y.getLogger(t),l=fn(d).create({events:h,eventBus:p,streamInfo:T,timelineConverter:D,dashConstants:b,segmentBaseController:e.segmentBaseController,type:v}),i=se(d).create({streamInfo:T,type:v,timelineConverter:D,dashMetrics:O,mediaPlayerModel:A,baseURLController:N,errHandler:S,settings:_,eventBus:p,events:h,debug:y,requestModifier:Te(d).getInstance(),dashConstants:b,constants:g,segmentsController:l,urlUtils:Nr(d).getInstance()}),o=pe(d).create({streamInfo:T,type:v,abrController:I,dashMetrics:O,playbackController:w,timelineConverter:D,dashConstants:b,events:h,eventBus:p,errors:m,adapter:R,segmentsController:l}),a=be(d).create({streamInfo:T,dashMetrics:O,fragmentLoader:oo(d).create({dashMetrics:O,mediaPlayerModel:A,errHandler:S,requestModifier:Te(d).getInstance(),settings:_,eventBus:p,events:h,errors:m,constants:g,dashConstants:b,urlUtils:Nr(d).getInstance()}),debug:y,eventBus:p,events:h}),p.on(h.STREAM_REQUESTING_COMPLETED,x,t),p.on(h.FRAGMENT_LOADING_COMPLETED,F,t),t}ao.__dashjs_factory_name="OfflineStreamProcessor";var so=dashjs.FactoryMaker.getClassFactory(ao);function uo(e){e=e||{};var t,r,n,i,o,a,s,u,c=this.context,l=e.eventBus,f=e.events,d=e.errors,p=e.constants,h=e.dashConstants,m=e.settings,y=e.debug,g=e.errHandler,_=e.mediaPlayerModel,b=e.abrController,E=e.playbackController,v=e.adapter,T=e.dashMetrics,S=e.baseURLController,A=e.timelineConverter,I=e.segmentBaseController,w=e.offlineStoreController,R=e.id,O=e.callbacks&&e.callbacks.started,N=e.callbacks&&e.callbacks.progression,D=e.callbacks&&e.callbacks.finished,P=e.callbacks&&e.callbacks.updateManifestNeeded;function C(){o=null,r=[],n=0,i=0,s=[],a=[],u={}}function L(e,t){var r=v.getAllMediaInfoForType(t,e);return r.forEach((function(t){t.bitrateList=t.bitrateList.filter((function(t){return!(!s[e]||-1===s[e].indexOf(t.id))}))})),(r=r.filter((function(e){return e.bitrateList&&e.bitrateList.length>0}))).forEach((function(e){e.bitrateList&&e.bitrateList.forEach((function(t){M(e,t)}))})),r}function M(e,t){var n=so(c).create({id:R,streamInfo:o,debug:y,events:f,errors:d,eventBus:l,constants:p,dashConstants:h,settings:m,type:e.type,mimeType:e.mimeType,bitrate:t,errHandler:g,mediaPlayerModel:_,abrController:b,playbackController:E,adapter:v,dashMetrics:T,baseURLController:S,timelineConverter:A,offlineStoreController:w,segmentBaseController:I,callbacks:{completed:F,progression:x}});r.push(n),n.initialize(e),u[t.id]=null}function F(){++i===r.length&&D({sender:this,id:R,message:"Downloading has been successfully completed for this stream !"})}function x(e,r,n){u[e.getRepresentationId()]={downloadedSegments:r,availableSegments:n};var i,o=0,a=0;for(var s in u)u.hasOwnProperty(s)&&(null===u[s]?i=!0:(o+=u[s].downloadedSegments,a+=u[s].availableSegments));!i&&N&&a>0&&N(t,o,a)}function U(e){var t;e.currentRepresentation.segments&&e.currentRepresentation.segments.length>0&&a.push(e.currentRepresentation);for(var i=0;i<r.length;i++)if(r[i].getRepresentationController().getType()===e.mediaType){t=r[i];break}t&&function(){++n===r.length&&(O({sender:this,id:R,message:"Downloading started for this stream !"}),a.length>0?P({sender:this,id:R,representations:a}):j())}()}function B(){for(var e=0;e<r.length;e++)r[e].stop()}function j(){for(var e=0;e<r.length;e++)r[e].start()}return t={initialize:function(e){o=e,l.on(f.DATA_UPDATE_COMPLETED,U,t)},getStreamId:function(){return o.id},getMediaInfos:function(){var e=v.getAllMediaInfoForType(o,p.VIDEO);e=(e=e.concat(v.getAllMediaInfoForType(o,p.AUDIO))).concat(v.getAllMediaInfoForType(o,p.TEXT)),l.trigger(f.OFFLINE_RECORD_LOADEDMETADATA,{id:R,mediaInfos:e})},initializeAllMediasInfoList:function(e){s=e,function(e){L(p.VIDEO,e),L(p.AUDIO,e),L(p.TEXT,e),L(p.MUXED,e),L(p.IMAGE,e)}(o)},getStreamInfo:function(){return o},stopOfflineStreamProcessors:B,startOfflineStreamProcessors:j,reset:function(){B(),function(){for(var e=r?r.length:0,t=0;t<e;t++)r[t].removeExecutedRequestsBeforeTime((o?o.start:NaN)+(o?o.duration:NaN)),r[t].reset()}(),C(),l.off(f.DATA_UPDATE_COMPLETED,U,t)}},C(),t}uo.__dashjs_factory_name="OfflineStream";var co=dashjs.FactoryMaker.getClassFactory(uo),lo=r(6135).vr;function fo(e){var t,r,n,i=e.manifestId,o=e.allMediaInfos,a=e.urlUtils,s=e.debug,u=e.dashConstants,c=e.constants;function l(e){var t,n,o,s="".concat("offline_indexeddb://").concat(i,"/");if(0===(t=e.getElementsByTagName(u.BASE_URL)).length){var c=r.createElement(u.BASE_URL);c.innerHTML=s,e.appendChild(c)}t=e.getElementsByTagName(u.BASE_URL);for(var l=0;l<t.length;l++){var f=t[l].parentNode;if(f.nodeName===u.MPD)t[l].innerHTML=s;else if(f.nodeName===u.REPRESENTATION){var d=f.parentNode;d.nodeName==u.ADAPTATION_SET&&(a.isHTTPS(t[l].innerHTML)||a.isHTTPURL(t[l].innerHTML)?(n=A(t[l].innerHTML),o=S(d),t[l].innerHTML=s+o+"_"+n):"./"===t[l].innerHTML?t[l].innerHTML=s:(n=A(t[l].innerHTML),o=S(d),t[l].innerHTML=o+"_"+n))}else t[l].innerHTML=s}}function f(e,t){for(var r=e.getElementsByTagName(u.PERIOD),n=0;n<r.length;n++)d(r[n],t)}function d(e,t){for(var r,n,i,o,a=(r=e.getElementsByTagName(u.ADAPTATION_SET)).length-1;a>=0;a--)if(n=r[a])if(i=p(n),T(n,y(n),i),o=y(n),_(n),0===o.length)e.removeChild(n);else{for(var s=0;s<o.length;s++){var c=o[s],l=c.getElementsByTagName(u.SEGMENT_LIST);l.length>=1&&E(l,c)}var f=g(n);if(f.length>=1&&b(f),t&&t.length>0){for(var d=void 0,h=0;h<o.length;h++)for(var m=o[h],S=0;t&&S<t.length;S++)if(t[S].id===m.id){d=t[S];break}v(n,d)}}}function p(e){return h(e,c.MUXED)?c.MUXED:h(e,c.AUDIO)?c.AUDIO:function(e){return h(e,c.VIDEO)}(e)?c.VIDEO:function(e){return h(e,c.TEXT)}(e)?c.TEXT:function(e){return h(e,c.IMAGE)}(e)?c.IMAGE:null}function h(e,t){if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");return function(e,t){var r=t!==c.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),n=m(e);if(n)return r.test(n);var i=y(e);if(i)for(var o=0;o<i.length;o++)if(n=m(i[o]))return r.test(n);return!1}(e,t)}function m(e){return e.getAttribute(u.MIME_TYPE)}function y(e){return e.getElementsByTagName(u.REPRESENTATION)}function g(e){return e.getElementsByTagName(u.SEGMENT_TEMPLATE)}function _(e){for(var t=e.getElementsByTagName(u.SEGMENT_BASE),r=0;r<t.length;r++){var n=t[r];n.parentNode.removeChild(n)}}function b(e){for(var t=0;t<e.length;t++){var r=e[t].getAttribute(u.MEDIA);r="$RepresentationID$_$Number$"+r.substring(r.indexOf("."),r.length),e[t].setAttribute(u.START_NUMBER,"0"),e[t].setAttribute(u.MEDIA,r),e[t].setAttribute(u.INITIALIZATION_MINUS,"$RepresentationID$_init")}}function E(e,t){for(var r=t.getAttribute(u.ID),n=0;n<e.length;n++){var i=e[n],o=i.getElementsByTagName(u.INITIALIZATION);if(o){var a=o[0].getAttribute(u.SOURCE_URL);a="".concat(r,"_init"),o[0].setAttribute(u.SOURCE_URL,a)}var s=i.getElementsByTagName(u.SEGMENT_URL);if(s)for(var c=0;c<s.length;c++){var l=s[c],f=l.getAttribute(u.MEDIA);f="".concat(r,"_").concat(c),l.setAttribute(u.MEDIA,f)}}}function v(e,t){var n=r.createElement(u.SEGMENT_TEMPLATE);n.setAttribute(u.START_NUMBER,"0"),n.setAttribute(u.MEDIA,"$RepresentationID$-$Time$"),n.setAttribute(u.INITIALIZATION_MINUS,"$RepresentationID$_init"),function(e,t){var n=r.createElement("S");if(t&&t.segments){for(var i=r.createElement(u.SEGMENT_TIMELINE),o=function(e){var t=[];t.push(0);for(var r=1;r<e.segments.length;r++)e.segments[r-1].duration!==e.segments[r].duration&&t.push(r);return t}(t),a=0;a<o.length;a++){var s=a+1<o.length?o[a+1]-o[a]-1:0;s>1&&n.setAttribute("r",s),n.setAttribute("d",t.segments[o[a]].duration),i.appendChild(n),n=r.createElement("S")}e.appendChild(i)}}(n,t),e.appendChild(n)}function T(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n],a=i.getAttribute(u.ID);o[r]&&-1===o[r].indexOf(a)&&e.removeChild(i)}}function S(e){var t=e.getElementsByTagName(u.REPRESENTATION)[0];return console.log(t.getAttribute(u.ID)),t.getAttribute(u.ID)}function A(e){var t=e.lastIndexOf("/");return e.substring(t,e.length)}return n=s.getLogger(t),{parse:function(e,t){return new Promise((function(i,o){for(var a=(r=(new DOMParser).parseFromString(e,"application/xml")).getElementsByTagName(u.MPD)?r.getElementsByTagName(u.MPD):null,s=0;s<a.length;s++)null!==a[s]&&(l(a[s]),f(a[s],t));var c=function(e){return n.info("encodedManifest "+(new XMLSerializer).serializeToString(e)),(new lo).encode((new XMLSerializer).serializeToString(e))}(r);""!==c?i(c):o("Encoded error")}))}}}fo.__dashjs_factory_name="OfflineIndexDBManifestParser";var po=dashjs.FactoryMaker.getClassFactory(fo);function ho(e){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(e)}function mo(e){function t(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function r(e,r,n){for(var i=0,o=e.length;i<o;++i){var a=e[i];if(r[a.name])if(n[a.name]){if(a.merge){var s=r[a.name],u=n[a.name];"object"===ho(s)&&"object"===ho(u)?t(s,u):n[a.name]=s+u}}else n[a.name]=r[a.name]}}function n(e,t){for(var i=0,o=e.children.length;i<o;++i){var a=e.children[i],s=t[a.name+"_asArray"];if(s)for(var u=0,c=s.length;u<c;++u){var l=s[u];r(e.properties,t,l),n(a,l)}}}return{run:function(t){if(null===t||"object"!==ho(t))return t;if(t.Period_asArray&&"period"in e)for(var r=e.period,i=t.Period_asArray,o=0,a=i.length;o<a;++o){var s=i[o];if(n(r,s),"adaptationset"in e){var u=s.AdaptationSet_asArray;if(u)for(var c=e.adaptationset,l=0,f=u.length;l<f;++l)n(c,u[l])}}return t}}}mo.__dashjs_factory_name="ObjectIron";var yo=L.getClassFactory(mo),go=function(e){void 0===(e=e||{}).escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1),void 0===e.ignoreRoot&&(e.ignoreRoot=!1);var t={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function r(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function n(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function i(e,t,r,n){for(var i=0;i<e.length;i++){var o=e[i];if("string"==typeof o){if(o==n)break}else if(o instanceof RegExp){if(o.test(n))break}else if("function"==typeof o&&o(t,r,n))break}return i!=e.length}function o(t,r,n){"property"===e.arrayAccessForm&&(t[r]instanceof Array?t[r+"_asArray"]=t[r]:t[r+"_asArray"]=[t[r]]),!(t[r]instanceof Array)&&e.arrayAccessFormPaths.length>0&&i(e.arrayAccessFormPaths,t,r,n)&&(t[r]=[t[r]])}function a(e){var t=e.split(/[-T:+Z]/g),r=new Date(t[0],t[1]-1,t[2]),n=t[5].split(".");if(r.setHours(t[3],t[4],n[0]),n.length>1&&r.setMilliseconds(n[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),r.setMinutes(r.getMinutes()-i-r.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())));return r}function s(r,n,o,a){return!(n==t.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||i(e.xmlElementsFilter,r,o,a)}function u(n,c){if(n.nodeType==t.DOCUMENT_NODE){for(var l=new Object,f=n.childNodes,d=0;d<f.length;d++)(h=f[d]).nodeType==t.ELEMENT_NODE&&(e.ignoreRoot?l=u(h):(l={})[m=r(h)]=u(h));return l}if(n.nodeType==t.ELEMENT_NODE){(l=new Object).__cnt=0;var p=[];for(f=n.childNodes,d=0;d<f.length;d++){var h,m=r(h=f[d]);if(h.nodeType!=t.COMMENT_NODE){var y=c+"."+m;if(s(l,h.nodeType,m,y))if(l.__cnt++,null==l[m]){var g=u(h,y);("#text"!=m||/[^\s]/.test(g))&&((_={})[m]=g,p.push(_)),l[m]=g,o(l,m,y)}else{var _;null!=l[m]&&(l[m]instanceof Array||(l[m]=[l[m]],o(l,m,y))),g=u(h,y),("#text"!=m||/[^\s]/.test(g))&&((_={})[m]=g,p.push(_)),l[m][l[m].length]=g}}}l.__children=p;for(var b=r(n),E=0;E<n.attributes.length;E++){var v=n.attributes[E];l.__cnt++;for(var T=v.value,S=0,A=e.matchers.length;S<A;S++){var I=e.matchers[S];I.test(v,b)&&(T=I.converter(v.value))}l[e.attributePrefix+v.name]=T}var w=function(e){return e.prefix}(n);return null!=w&&""!=w&&(l.__cnt++,l.__prefix=w),null!=l["#text"]&&(l.__text=l["#text"],l.__text instanceof Array&&(l.__text=l.__text.join("\n")),e.stripWhitespaces&&(l.__text=l.__text.trim()),delete l["#text"],"property"==e.arrayAccessForm&&delete l["#text_asArray"],l.__text=function(t,r,n){if(e.datetimeAccessFormPaths.length>0){var o=n.split(".#")[0];return i(e.datetimeAccessFormPaths,t,r,o)?a(t):t}return t}(l.__text,m,c+"."+m)),null!=l["#cdata-section"]&&(l.__cdata=l["#cdata-section"],delete l["#cdata-section"],"property"==e.arrayAccessForm&&delete l["#cdata-section_asArray"]),0==l.__cnt&&"text"==e.emptyNodeForm?l="":1==l.__cnt&&null!=l.__text?l=l.__text:1!=l.__cnt||null==l.__cdata||e.keepCData?l.__cnt>1&&null!=l.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==l.__text||""==l.__text.trim())&&delete l.__text:l=l.__cdata,delete l.__cnt,!e.enableToStringFunc||null==l.__text&&null==l.__cdata||(l.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),l}if(n.nodeType==t.TEXT_NODE||n.nodeType==t.CDATA_SECTION_NODE)return n.nodeValue}function c(t,r,i,o){var a="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+r;if(null!=i)for(var s=0;s<i.length;s++){var u=i[s],c=t[u];e.escapeMode&&(c=n(c)),a+=" "+u.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?a+='"'+c+'"':a+="'"+c+"'"}return a+(o?"/>":">")}function l(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function f(t,r){return"property"==e.arrayAccessForm&&(i="_asArray",-1!==(n=r.toString()).indexOf(i,n.length-8))||0==r.toString().indexOf(e.attributePrefix)||0==r.toString().indexOf("__")||t[r]instanceof Function;var n,i}function d(e){var t=0;if(e instanceof Object)for(var r in e)f(e,r)||t++;return t}function p(t,r,n){return 0==e.jsonPropertiesFilter.length||""==n||i(e.jsonPropertiesFilter,t,r,n)}function h(t){var r=[];if(t instanceof Object)for(var n in t)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(e.attributePrefix)&&r.push(n);return r}function m(t){var r="";return t instanceof Object?r+=function(t){var r="";return null!=t.__cdata&&(r+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?r+=n(t.__text):r+=t.__text),r}(t):null!=t&&(e.escapeMode?r+=n(t):r+=t),r}function y(e,t){return""===e?t:e+"."+t}function g(e,t,r,n){var i="";if(0==e.length)i+=c(e,t,r,!0);else for(var o=0;o<e.length;o++)i+=c(e[o],t,h(e[o]),!1),i+=_(e[o],y(n,t)),i+=l(e[o],t);return i}function _(e,t){var r="";if(d(e)>0)for(var n in e)if(!f(e,n)&&(""==t||p(e,n,y(t,n)))){var i=e[n],o=h(i);null==i||null==i?r+=c(i,n,o,!0):i instanceof Object?i instanceof Array?r+=g(i,n,o,t):i instanceof Date?(r+=c(i,n,o,!1),r+=i.toISOString(),r+=l(i,n)):d(i)>0||null!=i.__text||null!=i.__cdata?(r+=c(i,n,o,!1),r+=_(i,y(t,n)),r+=l(i,n)):r+=c(i,n,o,!0):(r+=c(i,n,o,!1),r+=m(i),r+=l(i,n))}return r+m(e)}this.parseXmlString=function(e){var t;if(window.ActiveXObject||window,void 0===e)return null;if(window.DOMParser){var r=new window.DOMParser;try{(t=r.parseFromString(e,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?a(e):e},this.xml2json=function(e){return u(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return _(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}};function _o(e){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}function bo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Eo(n.key),n)}}function Eo(e){var t=function(e){if("object"!=_o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_o(t)?t:t+""}var vo=function(){return e=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._test=t,this._converter=r},(t=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&bo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function To(e){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(e)}function So(e,t,r){return(t=Ao(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ao(e){var t=function(e){if("object"!=To(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=To(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==To(t)?t:t+""}function Io(e,t,r){return t=Ro(t),function(e,t){if(t&&("object"==To(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wo()?Reflect.construct(t,r||[],Ro(e).constructor):t.apply(e,r))}function wo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wo=function(){return!!e})()}function Ro(e){return Ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ro(e)}function Oo(e,t){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oo(e,t)}var No=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Io(this,t,[function(e,t){var r,n=(So(So(So(So(So(So(So(So(So(So(r={},oe.MPD,[oe.ID,oe.PROFILES]),oe.PERIOD,[oe.ID]),oe.BASE_URL,[oe.SERVICE_LOCATION,oe.BYTE_RANGE]),oe.SEGMENT_BASE,[oe.INDEX_RANGE]),oe.INITIALIZATION,[oe.RANGE]),oe.REPRESENTATION_INDEX,[oe.RANGE]),oe.SEGMENT_LIST,[oe.INDEX_RANGE]),oe.BITSTREAM_SWITCHING,[oe.RANGE]),oe.SEGMENT_URL,[oe.MEDIA_RANGE,oe.INDEX_RANGE]),oe.SEGMENT_TEMPLATE,[oe.INDEX_RANGE,oe.MEDIA,oe.INDEX,oe.INITIALIZATION_MINUS,oe.BITSTREAM_SWITCHING_MINUS]),So(So(So(So(So(So(So(So(So(So(r,oe.ASSET_IDENTIFIER,[oe.VALUE,oe.ID]),oe.EVENT_STREAM,[oe.VALUE]),oe.ADAPTATION_SET,[oe.PROFILES,oe.MIME_TYPE,oe.SEGMENT_PROFILES,oe.CODECS,oe.CONTENT_TYPE]),oe.FRAME_PACKING,[oe.VALUE,oe.ID]),oe.AUDIO_CHANNEL_CONFIGURATION,[oe.VALUE,oe.ID]),oe.CONTENT_PROTECTION,[oe.VALUE,oe.ID]),oe.ESSENTIAL_PROPERTY,[oe.VALUE,oe.ID]),oe.SUPPLEMENTAL_PROPERTY,[oe.VALUE,oe.ID]),oe.INBAND_EVENT_STREAM,[oe.VALUE,oe.ID]),oe.ACCESSIBILITY,[oe.VALUE,oe.ID]),So(So(So(So(So(So(So(So(r,oe.ROLE,[oe.VALUE,oe.ID]),oe.RATING,[oe.VALUE,oe.ID]),oe.VIEWPOINT,[oe.VALUE,oe.ID]),oe.CONTENT_COMPONENT,[oe.CONTENT_TYPE]),oe.REPRESENTATION,[oe.ID,oe.DEPENDENCY_ID,oe.MEDIA_STREAM_STRUCTURE_ID]),oe.SUBSET,[oe.ID]),oe.METRICS,[oe.METRICS_MINUS]),oe.REPORTING,[oe.VALUE,oe.ID]));if(n.hasOwnProperty(t)){var i=n[t];return void 0!==i&&i.indexOf(e.name)>=0}return!1},function(e){return String(e)}])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oo(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(vo);function Do(e){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(e)}function Po(e,t,r){return t=Lo(t),function(e,t){if(t&&("object"==Do(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Co()?Reflect.construct(t,r||[],Lo(e).constructor):t.apply(e,r))}function Co(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Co=function(){return!!e})()}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lo(e)}function Mo(e,t){return Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mo(e,t)}var Fo=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,xo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Po(this,t,[function(e){for(var t=[oe.MIN_BUFFER_TIME,oe.MEDIA_PRESENTATION_DURATION,oe.MINIMUM_UPDATE_PERIOD,oe.TIMESHIFT_BUFFER_DEPTH,oe.MAX_SEGMENT_DURATION,oe.MAX_SUBSEGMENT_DURATION,oe.SUGGESTED_PRESENTATION_DELAY,oe.START,fe.START_TIME,oe.DURATION],r=t.length,n=0;n<r;n++)if(e.nodeName===t[n])return Fo.test(e.value);return!1},function(e){var t=Fo.exec(e),r=31536e3*parseFloat(t[3]||0)+2592e3*parseFloat(t[5]||0)+86400*parseFloat(t[7]||0)+3600*parseFloat(t[9]||0)+60*parseFloat(t[11]||0)+parseFloat(t[13]||0);return void 0!==t[1]&&(r=-r),r}])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mo(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(vo);function Uo(e){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(e)}function Bo(e,t,r){return t=ko(t),function(e,t){if(t&&("object"==Uo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jo()?Reflect.construct(t,r||[],ko(e).constructor):t.apply(e,r))}function jo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jo=function(){return!!e})()}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ko(e)}function qo(e,t){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qo(e,t)}var Go=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,Ho=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bo(this,t,[function(e){return Go.test(e.value)},function(e){var t,r=Go.exec(e);if(t=Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),r[6]&&parseInt(r[6],10)||0,r[7]&&1e3*parseFloat(r[7])||0),r[9]&&r[10]){var n=60*parseInt(r[9],10)+parseInt(r[10],10);t+=("+"===r[8]?-1:1)*n*60*1e3}return new Date(t)}])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qo(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(vo);function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Vo(e,t,r){return t=Wo(t),function(e,t){if(t&&("object"==Yo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zo()?Reflect.construct(t,r||[],Wo(e).constructor):t.apply(e,r))}function zo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zo=function(){return!!e})()}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wo(e)}function Xo(e,t){return Xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xo(e,t)}var Ko=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,Qo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vo(this,t,[function(e){return Ko.test(e.value)},function(e){return parseFloat(e)}])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xo(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(vo);function $o(e){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(e)}function Zo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jo(n.key),n)}}function Jo(e){var t=function(e){if("object"!=$o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$o(t)?t:t+""}var ea=function(){return e=function e(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._merge=(r=t)&&r.length&&r.charAt(0)===r.charAt(0).toUpperCase()},(t=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&Zo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function ta(e){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(e)}function ra(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,na(n.key),n)}}function na(e){var t=function(e){if("object"!=ta(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ta(t)?t:t+""}var ia=function(){return e=function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t||"",this._properties=[],this._children=n||[],Array.isArray(r)&&r.forEach((function(e){i._properties.push(new ea(e))}))},(t=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&ra(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function oa(e){return oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(e)}function aa(e,t,r){return t=ua(t),function(e,t){if(t&&("object"==oa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sa()?Reflect.construct(t,r||[],ua(e).constructor):t.apply(e,r))}function sa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sa=function(){return!!e})()}function ua(e){return ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ua(e)}function ca(e,t){return ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ca(e,t)}var la=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=[oe.PROFILES,oe.WIDTH,oe.HEIGHT,oe.SAR,oe.FRAMERATE,oe.AUDIO_SAMPLING_RATE,oe.MIME_TYPE,oe.SEGMENT_PROFILES,oe.CODECS,oe.MAXIMUM_SAP_PERIOD,oe.START_WITH_SAP,oe.MAX_PLAYOUT_RATE,oe.CODING_DEPENDENCY,oe.SCAN_TYPE,oe.FRAME_PACKING,oe.AUDIO_CHANNEL_CONFIGURATION,oe.CONTENT_PROTECTION,oe.ESSENTIAL_PROPERTY,oe.ESSENTIAL_PROPERTY+"_asArray",oe.SUPPLEMENTAL_PROPERTY,oe.INBAND_EVENT_STREAM];return aa(this,t,[oe.ADAPTATION_SET,e,[new ia(oe.REPRESENTATION,e,[new ia(oe.SUB_REPRESENTATION,e)])]])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ca(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(ia);function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}function da(e,t,r){return t=ha(t),function(e,t){if(t&&("object"==fa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pa()?Reflect.construct(t,r||[],ha(e).constructor):t.apply(e,r))}function pa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pa=function(){return!!e})()}function ha(e){return ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ha(e)}function ma(e,t){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ma(e,t)}var ya=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=[oe.SEGMENT_BASE,oe.SEGMENT_TEMPLATE,oe.SEGMENT_LIST];return da(this,t,[oe.PERIOD,e,[new ia(oe.ADAPTATION_SET,e,[new ia(oe.REPRESENTATION,e)])]])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ma(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(ia);function ga(e){e=e||{};var t,r,n,i,o,a=this.context,s=e.debug;return t={parse:function(e){var t,n=window.performance.now();if(!(t=i.xml_str2json(e)))throw new Error("parsing the manifest failed");var a=window.performance.now();t.Patch?((t=t.Patch).add_asArray&&t.add_asArray.forEach((function(e){return o.run(e)})),t.replace_asArray&&t.replace_asArray.forEach((function(e){return o.run(e)}))):(t=t.MPD,o.run(t));var s=window.performance.now();return r.info("Parsing complete: ( xml2json: "+(a-n).toPrecision(3)+"ms, objectiron: "+(s-a).toPrecision(3)+"ms, total: "+((s-n)/1e3).toPrecision(3)+"s)"),t.protocol="DASH",t},getMatchers:function(){return n},getIron:function(){return o}},r=s.getLogger(t),n=[new xo,new Ho,new Qo,new No],i=new go({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:n}),o=yo(a).create({adaptationset:new la,period:new ya}),t}ga.__dashjs_factory_name="DashParser";var _a=L.getClassFactory(ga);function ba(e){e=e||{};var t,r,n,i,a,s,u,c,l,f,d,p,h,m,y=this.context,g=e.manifestLoader,_=e.mediaPlayerModel,E=e.abrController,v=e.playbackController,T=e.adapter,S=e.dashMetrics,A=e.timelineConverter,I=e.offlineStoreController,w=e.id,R=e.eventBus,O=e.errHandler,N=e.events,D=e.errors,P=e.settings,C=e.debug,L=e.manifestUpdater,M=e.baseURLController,F=e.segmentBaseController,x=e.constants,U=e.dashConstants,B=e.urlUtils;function j(){return c}function k(e){if(!l&&!e.error)try{u=e.manifest}catch(e){m=o.OFFLINE_STATUS_ERROR,O.error({code:b.OFFLINE_ERROR,message:e.message,data:{id:w,status:m}})}}function q(e){e.id===w&&(e.error||null===w?(m=o.OFFLINE_STATUS_ERROR,O.error({code:b.OFFLINE_ERROR,message:"Cannot start download ",data:{id:w,status:m,error:e.error}})):(m=o.OFFLINE_STATUS_STARTED,I.setDownloadingStatus(w,m).then((function(){R.trigger(N.OFFLINE_RECORD_STARTED,{id:w,message:"Downloading started for this stream !"})}))))}function G(e,t,r){p[e.getStreamInfo().id]={downloaded:t,available:r};var n,i=0,o=0;for(var a in p)p.hasOwnProperty(a)&&(null===p[a]?n=!0:(i+=p[a].downloaded,o+=p[a].available));n||(h=i/o,I.getManifestById(w).then((function(e){return e.progress=h,W(e)})))}function H(e){e.id===w&&(e.error||null===w?(m=o.OFFLINE_STATUS_ERROR,O.error({code:b.OFFLINE_ERROR,message:"Error finishing download ",data:{id:w,status:m,error:e.error}})):(m=o.OFFLINE_STATUS_FINISHED,I.setDownloadingStatus(w,m).then((function(){R.trigger(N.OFFLINE_RECORD_FINISHED,{id:w,message:"Downloading has been successfully completed for this stream !"}),$()}))))}function Y(e){e.id===w&&(f=e.representations).length>0&&d.parse(a,f).then((function(e){if(null===e||null===w)throw"falling parsing offline manifest";I.getManifestById(w).then((function(t){return t.manifest=e,W(t)})).then((function(){for(var e=0,t=s.length;e<t;e++)s[e].startOfflineStreamProcessors()}))})).catch((function(e){throw e}))}function V(){try{T.updatePeriods(u),M.initialize(u);var e=T.getStreamsInfo();0===e.length&&(m=o.OFFLINE_STATUS_ERROR,O.error({code:b.OFFLINE_ERROR,message:"Cannot download - no streams",data:{id:w,status:m}}));for(var t=0,n=e.length;t<n;t++){var i=e[t],a=co(y).create({id:w,callbacks:{started:q,progression:G,finished:H,updateManifestNeeded:Y},constants:x,dashConstants:U,eventBus:R,events:N,errors:D,settings:P,debug:C,errHandler:O,mediaPlayerModel:_,abrController:E,playbackController:v,dashMetrics:S,baseURLController:M,timelineConverter:A,adapter:T,segmentBaseController:F,offlineStoreController:I});s.push(a),a.initialize(i),p[i.id]=null}l=!0}catch(e){r.info(e),m=o.OFFLINE_STATUS_ERROR,O.error({code:b.OFFLINE_ERROR,message:e.message,data:{id:w,status:m,error:e.error}})}}function z(e){return I.createFragmentStore(e)}function W(e){return I.updateOfflineManifest(e)}function X(e){return R.off(N.ORIGINAL_MANIFEST_LOADED,X,t),a=e.originalManifest,u.type===U.DYNAMIC?(m=o.OFFLINE_STATUS_ERROR,O.error({code:b.OFFLINE_ERROR,message:"Cannot handle DYNAMIC manifest",data:{id:w,status:m}}),void r.error("Cannot handle DYNAMIC manifest")):u.Period_asArray.length>1?(m=o.OFFLINE_STATUS_ERROR,O.error({code:b.OFFLINE_ERROR,message:"MultiPeriod manifest are not yet supported",data:{id:w,status:m}}),void r.error("MultiPeriod manifest are not yet supported")):(V(),s.forEach((function(e){e.getMediaInfos()})),void R.trigger(N.STREAMS_COMPOSED))}function K(e){for(var t=0;t<s.length;t++)s[t].initializeAllMediasInfoList(e)}function Q(){if(null!==w&&j()){for(var e=0,t=s.length;e<t;e++)s[e].stopOfflineStreamProcessors();s=[],l=!1,m=o.OFFLINE_STATUS_STOPPED,I.setDownloadingStatus(w,m).then((function(){R.trigger(N.OFFLINE_RECORD_STOPPED,{sender:this,id:w,status:m,message:"Downloading has been stopped for this stream !"}),c=!1}))}}function $(){for(var e=0,r=s.length;e<r;e++)s[e].reset();d=null,c=!1,s=[],R.off(N.MANIFEST_UPDATED,k,t),R.off(N.ORIGINAL_MANIFEST_LOADED,X,t),R.on(N.ERROR,Z,t)}function Z(e){e.error.code!==b.INDEXEDDB_QUOTA_EXCEED_ERROR&&e.error.code!==b.INDEXEDDB_INVALID_STATE_ERROR||Q()}return t={reset:function(){j()&&$(),M.reset(),L.reset()},getId:function(){return w},getOfflineUrl:function(){return i},getManifestUrl:function(){return n},getStatus:function(){return m},setInitialState:function(e){i=e.url,h=e.progress,n=e.originalUrl,m=e.status},initDownload:function(){g.load(n),c=!0},downloadFromUrl:function(e){return n=e,i="".concat(o.OFFLINE_SCHEME,"://").concat(w),m=o.OFFLINE_STATUS_CREATED,R.on(N.MANIFEST_UPDATED,k,t),R.on(N.ORIGINAL_MANIFEST_LOADED,X,t),R.on(N.ERROR,Z,t),r={fragmentStore:w,status:m,manifestId:w,url:i,originalURL:e},I.createOfflineManifest(r);var r},startDownload:function(e){try{var t=function(e){var t={};return t[x.VIDEO]=[],t[x.AUDIO]=[],t[x.TEXT]=[],e.forEach((function(e){e.bitrateList.forEach((function(r){t[e.type].push(r.id)}))})),t}(e);I.saveSelectedRepresentations(w,t).then((function(){return z(w)})).then((function(){return e=t,(d=po(y).create({manifestId:w,allMediaInfos:e,debug:C,dashConstants:U,constants:x,urlUtils:B})).parse(a).then((function(e){return null!==e?I.getManifestById(w).then((function(t){return t.originalURL=u.url,t.originalManifest=a,t.manifest=e,W(t)})):Promise.reject("falling parsing offline manifest")})).catch((function(e){return Promise.reject(e)}));var e})).then((function(){K(t)}))}catch(e){m=o.OFFLINE_STATUS_ERROR,O.error({code:b.OFFLINE_ERROR,message:e.message,data:{id:w,status:m}})}},stopDownload:Q,resumeDownload:function(){var e;j()||(c=!0,I.getManifestById(w).then((function(t){var r=_a(y).create({debug:C});return u=r.parse(t.originalManifest),V(),e=t.selected,R.trigger(N.STREAMS_COMPOSED),z(w)})).then((function(){K(e)})))},deleteDownload:function(){Q()},getDownloadProgression:function(){return Math.round(100*h)},isDownloading:j,resetDownload:$},r=C.getLogger(t),L.initialize(),s=[],c=!1,l=!1,p={},h=0,m=void 0,t}ba.__dashjs_factory_name="OfflineDownload";var Ea=dashjs.FactoryMaker.getClassFactory(ba);function va(e){e=e||{};var t,r,n=this.context,i=e.urlUtils,o=e.constants,a=e.dashConstants;return r=c(n).getInstance(),t={load:function(e){if(e.request){var t=(u=e.request.url,i.removeHostname(u).split("/")[0]);if(t%1==0)if(e.request.mediaType===o.AUDIO||e.request.mediaType===o.VIDEO||e.request.mediaType===o.TEXT||e.request.mediaType===o.MUXED||e.request.mediaType===o.IMAGE){var n="InitializationSegment"===e.request.type?"init":e.request.index,s=e.request.representationId+"_"+n;r.getFragmentByKey(t,s).then((function(t){e.success(t,null,e.request.url,o.ARRAY_BUFFER)})).catch((function(t){e.error(t)}))}else e.request.type===a.MPD&&r.getManifestById(t).then((function(t){r.createFragmentStore(t.fragmentStore),e.success(t.manifest,null,e.request.url,o.XML)})).catch((function(t){e.error(e.request,404,t)}));else e.error(e.request,null,"MediaType can not be found")}var u},abort:function(){}},t}va.__dashjs_factory_name="IndexDBOfflineLoader";var Ta=dashjs.FactoryMaker.getClassFactory(va);function Sa(){return{getRegex:function(){return o.OFFLINE_URL_REGEX},isRelative:function(){return!1},removeHostname:function(e){return e.replace(/(^\w+:|^)\/\//,"")},resolve:function(e,t){return"/"!==t.charAt(t.length-1)&&(t=t.concat("/")),t+e}}}Sa.__dashjs_factory_name="OfflineUrlUtils";var Aa=dashjs.FactoryMaker.getSingletonFactory(Sa);function Ia(e){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}function wa(e,t,r){return t=Oa(t),function(e,t){if(t&&("object"==Ia(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ra()?Reflect.construct(t,r||[],Oa(e).constructor):t.apply(e,r))}function Ra(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ra=function(){return!!e})()}function Oa(e){return Oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oa(e)}function Na(e,t){return Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Na(e,t)}var Da=new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=wa(this,t)).OFFLINE_RECORD_LOADEDMETADATA="public_offlineRecordLoadedmetadata",e.OFFLINE_RECORD_STARTED="public_offlineRecordStarted",e.OFFLINE_RECORD_STOPPED="public_offlineRecordStopped",e.OFFLINE_RECORD_FINISHED="public_offlineRecordFinished",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Na(e,t)}(t,e),r=t,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(U));function Pa(e){return Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(e)}function Ca(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ma(n.key),n)}}function La(e,t,r){return t&&Ca(e.prototype,t),r&&Ca(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ma(e){var t=function(e){if("object"!=Pa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pa(t)?t:t+""}var Fa=La((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.url=null,this.originalUrl=null,this.status=null,this.progress=null})),xa=Fa;function Ua(e){var t,r,n,i,a,s=this.context,u=e.errHandler,c=e.events,l=e.errors,f=e.settings,d=e.eventBus,p=e.debug,h=e.manifestLoader,m=e.manifestModel,y=e.mediaPlayerModel,g=e.abrController,_=e.playbackController,b=e.dashMetrics,E=e.timelineConverter,T=e.segmentBaseController,S=e.adapter,A=e.manifestUpdater,I=e.baseURLController,w=e.schemeLoaderFactory,R=e.constants,O=e.dashConstants,N=e.urlUtils;function D(e){return r.find((function(t){return t.getId()===e}))}function P(e){var t;return(t=D(e))||(t=Ea(s).create({id:e,eventBus:d,events:c,errors:l,settings:f,manifestLoader:h,manifestModel:m,mediaPlayerModel:y,manifestUpdater:A,baseURLController:I,abrController:g,playbackController:_,adapter:S,dashMetrics:b,timelineConverter:E,errHandler:u,segmentBaseController:T,offlineStoreController:i,debug:p,constants:R,dashConstants:O,urlUtils:N}),r.push(t)),t}function C(e){return new Promise((function(n,o){var a=D(e),s=!1;if(a){if(a.isDownloading()){s=!0;var u=function(){return d.off(c.OFFLINE_RECORD_STOPPED,u,t),i.deleteDownloadById(e).then((function(){n()})).catch((function(e){o(e)}))};d.on(c.OFFLINE_RECORD_STOPPED,u,t)}a.deleteDownload();var l=r.indexOf(a);r.splice(l,1)}s||n()}))}function L(){r.forEach((function(e){e.resetDownload()}))}return t={loadRecordsFromStorage:function(){return new Promise((function(e,t){i.getAllManifests().then((function(t){t.manifests.forEach((function(e){!function(e){var t=D(e.manifestId);if(!t){t=P(e.manifestId);var r=e.status;r===o.OFFLINE_STATUS_STARTED&&(r=o.OFFLINE_STATUS_STOPPED),t.setInitialState({url:e.url,progress:e.progress,originalUrl:e.originalURL,status:r})}}(e)})),e()})).catch((function(e){n.error("Failed to load downloads "+e),t(e)}))}))},createRecord:function(e){return new Promise((function(t,r){var i=(new Date).getTime(),o=P(i);o.downloadFromUrl(e).then((function(){o.initDownload(),t(i)})).catch((function(e){n.error("Failed to download "+e),C(i).then((function(){r(e)}))}))}))},startRecord:function(e,t){var r=D(e);r&&r.startDownload(t)},stopRecord:function(e){var t=D(e);t&&t.stopDownload()},resumeRecord:function(e){var t=D(e);t&&t.resumeDownload()},deleteRecord:function(e){return C(e).then((function(){return i.deleteDownloadById(e)}))},getRecordProgression:function(e){var t=D(e);return t?t.getDownloadProgression():0},getAllRecords:function(){var e=[];return r.forEach((function(t){var r=new xa;r.id=t.getId(),r.progress=t.getDownloadProgression(),r.url=t.getOfflineUrl(),r.originalUrl=t.getManifestUrl(),r.status=t.getStatus(),e.push(r)})),e},resetRecords:L,reset:function(){L(),w.unregisterLoader(o.OFFLINE_SCHEME)}},n=p.getLogger(t),i=v(s).create({eventBus:e.eventBus,errHandler:u}),a=Aa(s).getInstance(),N.registerUrlRegex(a.getRegex(),a),w.registerLoader(o.OFFLINE_SCHEME,Ta),r=[],t}Ua.__dashjs_factory_name="OfflineController";var Ba=dashjs.FactoryMaker.getClassFactory(Ua);Ba.events=Da,Ba.errors=b,dashjs.FactoryMaker.updateClassFactory(Ua.__dashjs_factory_name,Ba);var ja=Ba,ka="undefined"!=typeof window&&window||r.g,qa=ka.dashjs;qa||(qa=ka.dashjs={}),qa.OfflineController=ja;var Ga=qa}(),n.default}()}));
//# sourceMappingURL=dash.offline.min.js.map